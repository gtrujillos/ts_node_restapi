var a88_0x56f2=['user','static','./config/sequelize','./app/models','./app/routes','./infrastructure/sequelize-utils','./app/controllers','models','controllers','./config/passport','usersModel','instance','setSequelize','updatedAt','deletedAt','created_at','deleted_at','users','revision','revision_change','document_id','current_user_request','user_id','sequelize-paper-trail','init','defineModels','get','/api/syncftp','syncFtp','/api/processFtp','processFtp','/api/getPassCounting/:direction','getPassCounting','getPassCountingByDay','/api/getPassCountingByHour/:direction','getPassCountingByHour','__importDefault','__esModule','__importStar','hasOwnProperty','default','express','compression','body-parser','./util/logger','dotenv','express-flash','path','passport','express-validator','cors','debug','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','.env','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','.env.example','./controllers/api','set','port','env','PORT','join','../views','view\x20engine','pug','use','json','urlencoded','initialize','session','xframe','xssProtection','locals'];(function(_0x555df1,_0x4c6abb){var _0x483289=function(_0x40b6ee){while(--_0x40b6ee){_0x555df1['push'](_0x555df1['shift']());}};_0x483289(++_0x4c6abb);}(a88_0x56f2,0xb8));var a88_0x198e=function(_0x203495,_0xc4317f){_0x203495=_0x203495-0x0;var _0x451c70=a88_0x56f2[_0x203495];return _0x451c70;};'use strict';var __importDefault=this&&this[a88_0x198e('0x0')]||function(_0x31c7ac){return _0x31c7ac&&_0x31c7ac[a88_0x198e('0x1')]?_0x31c7ac:{'default':_0x31c7ac};};var __importStar=this&&this[a88_0x198e('0x2')]||function(_0xf7e7f8){if(_0xf7e7f8&&_0xf7e7f8[a88_0x198e('0x1')])return _0xf7e7f8;var _0x9368b4={};if(_0xf7e7f8!=null)for(var _0x3ffc35 in _0xf7e7f8)if(Object[a88_0x198e('0x3')]['call'](_0xf7e7f8,_0x3ffc35))_0x9368b4[_0x3ffc35]=_0xf7e7f8[_0x3ffc35];_0x9368b4[a88_0x198e('0x4')]=_0xf7e7f8;return _0x9368b4;};Object['defineProperty'](exports,a88_0x198e('0x1'),{'value':!![]});const express_1=__importDefault(require(a88_0x198e('0x5')));const compression_1=__importDefault(require(a88_0x198e('0x6')));const body_parser_1=__importDefault(require(a88_0x198e('0x7')));const logger_1=__importDefault(require(a88_0x198e('0x8')));const lusca_1=__importDefault(require('lusca'));const dotenv_1=__importDefault(require(a88_0x198e('0x9')));const express_flash_1=__importDefault(require(a88_0x198e('0xa')));const path_1=__importDefault(require(a88_0x198e('0xb')));const passport_1=__importDefault(require(a88_0x198e('0xc')));const express_validator_1=__importDefault(require(a88_0x198e('0xd')));const fs_1=__importDefault(require('fs'));const cors=require(a88_0x198e('0xe'));if(fs_1[a88_0x198e('0x4')]['existsSync']('.env')){logger_1[a88_0x198e('0x4')][a88_0x198e('0xf')](a88_0x198e('0x10'));dotenv_1[a88_0x198e('0x4')][a88_0x198e('0x11')]({'path':a88_0x198e('0x12')});}else{logger_1['default']['debug'](a88_0x198e('0x13'));dotenv_1[a88_0x198e('0x4')][a88_0x198e('0x11')]({'path':a88_0x198e('0x14')});}const apiController=__importStar(require(a88_0x198e('0x15')));const app=express_1[a88_0x198e('0x4')]();app[a88_0x198e('0x16')](a88_0x198e('0x17'),process[a88_0x198e('0x18')][a88_0x198e('0x19')]||0xbb8);app[a88_0x198e('0x16')]('views',path_1[a88_0x198e('0x4')][a88_0x198e('0x1a')](__dirname,a88_0x198e('0x1b')));app['set'](a88_0x198e('0x1c'),a88_0x198e('0x1d'));app[a88_0x198e('0x1e')](compression_1[a88_0x198e('0x4')]());app[a88_0x198e('0x1e')](body_parser_1[a88_0x198e('0x4')][a88_0x198e('0x1f')]());app[a88_0x198e('0x1e')](cors());app[a88_0x198e('0x1e')](body_parser_1[a88_0x198e('0x4')][a88_0x198e('0x20')]({'extended':!![]}));app[a88_0x198e('0x1e')](express_validator_1[a88_0x198e('0x4')]());app[a88_0x198e('0x1e')](passport_1[a88_0x198e('0x4')][a88_0x198e('0x21')]());app[a88_0x198e('0x1e')](passport_1[a88_0x198e('0x4')][a88_0x198e('0x22')]());app['use'](express_flash_1['default']());app['use'](lusca_1[a88_0x198e('0x4')][a88_0x198e('0x23')]('SAMEORIGIN'));app[a88_0x198e('0x1e')](lusca_1['default'][a88_0x198e('0x24')](!![]));app[a88_0x198e('0x1e')]((_0x17420c,_0x48a821,_0x2272dc)=>{_0x48a821[a88_0x198e('0x25')][a88_0x198e('0x26')]=_0x17420c[a88_0x198e('0x26')];_0x2272dc();});app[a88_0x198e('0x1e')]((_0x14ae59,_0x1369d4,_0x1b99b)=>{_0x1b99b();});app[a88_0x198e('0x1e')](express_1[a88_0x198e('0x4')][a88_0x198e('0x27')](path_1[a88_0x198e('0x4')][a88_0x198e('0x1a')](__dirname,'public'),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require(a88_0x198e('0x28')));const models_1=__importDefault(require(a88_0x198e('0x29')));const routes_1=__importDefault(require(a88_0x198e('0x2a')));const sequelize_utils_1=__importDefault(require(a88_0x198e('0x2b')));const controllers_1=__importDefault(require(a88_0x198e('0x2c')));const models=new models_1['default'](sequelize_1[a88_0x198e('0x4')]);const controllers=new controllers_1['default'](models);sequelize_utils_1[a88_0x198e('0x4')][a88_0x198e('0x2d')]=models;sequelize_utils_1['default'][a88_0x198e('0x2e')]=controllers;routes_1[a88_0x198e('0x4')](app,passport_1[a88_0x198e('0x4')],models,controllers);require(a88_0x198e('0x2f'))(passport_1['default'],models[a88_0x198e('0x30')]);sequelize_utils_1['default'][a88_0x198e('0x31')]=sequelize_1[a88_0x198e('0x4')];apiController[a88_0x198e('0x32')](sequelize_1[a88_0x198e('0x4')]);const options={'exclude':['id','createdAt',a88_0x198e('0x33'),a88_0x198e('0x34'),a88_0x198e('0x35'),'updated_at',a88_0x198e('0x36')],'userModel':a88_0x198e('0x37'),'revisionAttribute':a88_0x198e('0x38'),'revisionModel':a88_0x198e('0x38'),'revisionChangeModel':a88_0x198e('0x39'),'enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':a88_0x198e('0x3a'),'revisionId':'revision_id'},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':a88_0x198e('0x3b'),'continuationKey':a88_0x198e('0x3c')};const PaperTrail=require(a88_0x198e('0x3d'))[a88_0x198e('0x3e')](sequelize_1[a88_0x198e('0x4')],options);PaperTrail[a88_0x198e('0x3f')]({});app[a88_0x198e('0x40')](a88_0x198e('0x41'),apiController[a88_0x198e('0x42')]);app[a88_0x198e('0x40')]('/api/downloadFtp',apiController['downloadFtp']);app[a88_0x198e('0x40')](a88_0x198e('0x43'),apiController[a88_0x198e('0x44')]);app[a88_0x198e('0x40')](a88_0x198e('0x45'),apiController[a88_0x198e('0x46')]);app['get']('/api/getPassCountingByDay/:direction',apiController[a88_0x198e('0x47')]);app[a88_0x198e('0x40')](a88_0x198e('0x48'),apiController[a88_0x198e('0x49')]);exports[a88_0x198e('0x4')]=app;