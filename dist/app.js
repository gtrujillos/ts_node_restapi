var a88_0x5bce=['get','/api/syncftp','syncFtp','/api/downloadFtp','downloadFtp','/api/processFtp','processFtp','getPassCounting','getPassCountingByDay','__importDefault','__esModule','__importStar','hasOwnProperty','call','default','express','compression','body-parser','lusca','dotenv','express-flash','path','passport','cors','debug','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','.env','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','./controllers/api','port','env','PORT','set','views','../views','view\x20engine','pug','use','json','urlencoded','initialize','session','xframe','SAMEORIGIN','xssProtection','locals','user','./config/sequelize','./app/models','./app/routes','./infrastructure/sequelize-utils','./app/controllers','models','./config/passport','usersModel','instance','setSequelize','createdAt','created_at','updated_at','deleted_at','revision','revision_change','document_id','revision_id','sequelize-paper-trail','init'];(function(_0x211f72,_0x5206a3){var _0x19f2da=function(_0x2b15e1){while(--_0x2b15e1){_0x211f72['push'](_0x211f72['shift']());}};_0x19f2da(++_0x5206a3);}(a88_0x5bce,0x91));var a88_0x14c9=function(_0x1b2e5,_0x528c2d){_0x1b2e5=_0x1b2e5-0x0;var _0xb92a23=a88_0x5bce[_0x1b2e5];return _0xb92a23;};'use strict';var __importDefault=this&&this[a88_0x14c9('0x0')]||function(_0x184980){return _0x184980&&_0x184980[a88_0x14c9('0x1')]?_0x184980:{'default':_0x184980};};var __importStar=this&&this[a88_0x14c9('0x2')]||function(_0x166c1d){if(_0x166c1d&&_0x166c1d[a88_0x14c9('0x1')])return _0x166c1d;var _0x483355={};if(_0x166c1d!=null)for(var _0x10337f in _0x166c1d)if(Object[a88_0x14c9('0x3')][a88_0x14c9('0x4')](_0x166c1d,_0x10337f))_0x483355[_0x10337f]=_0x166c1d[_0x10337f];_0x483355[a88_0x14c9('0x5')]=_0x166c1d;return _0x483355;};Object['defineProperty'](exports,a88_0x14c9('0x1'),{'value':!![]});const express_1=__importDefault(require(a88_0x14c9('0x6')));const compression_1=__importDefault(require(a88_0x14c9('0x7')));const body_parser_1=__importDefault(require(a88_0x14c9('0x8')));const logger_1=__importDefault(require('./util/logger'));const lusca_1=__importDefault(require(a88_0x14c9('0x9')));const dotenv_1=__importDefault(require(a88_0x14c9('0xa')));const express_flash_1=__importDefault(require(a88_0x14c9('0xb')));const path_1=__importDefault(require(a88_0x14c9('0xc')));const passport_1=__importDefault(require(a88_0x14c9('0xd')));const express_validator_1=__importDefault(require('express-validator'));const fs_1=__importDefault(require('fs'));const cors=require(a88_0x14c9('0xe'));if(fs_1[a88_0x14c9('0x5')]['existsSync']('.env')){logger_1[a88_0x14c9('0x5')][a88_0x14c9('0xf')](a88_0x14c9('0x10'));dotenv_1[a88_0x14c9('0x5')][a88_0x14c9('0x11')]({'path':a88_0x14c9('0x12')});}else{logger_1[a88_0x14c9('0x5')]['debug'](a88_0x14c9('0x13'));dotenv_1[a88_0x14c9('0x5')][a88_0x14c9('0x11')]({'path':'.env.example'});}const apiController=__importStar(require(a88_0x14c9('0x14')));const app=express_1[a88_0x14c9('0x5')]();app['set'](a88_0x14c9('0x15'),process[a88_0x14c9('0x16')][a88_0x14c9('0x17')]||0xbb8);app[a88_0x14c9('0x18')](a88_0x14c9('0x19'),path_1['default']['join'](__dirname,a88_0x14c9('0x1a')));app[a88_0x14c9('0x18')](a88_0x14c9('0x1b'),a88_0x14c9('0x1c'));app[a88_0x14c9('0x1d')](compression_1[a88_0x14c9('0x5')]());app[a88_0x14c9('0x1d')](body_parser_1[a88_0x14c9('0x5')][a88_0x14c9('0x1e')]());app[a88_0x14c9('0x1d')](body_parser_1['default'][a88_0x14c9('0x1f')]({'extended':!![]}));app[a88_0x14c9('0x1d')](express_validator_1['default']());app[a88_0x14c9('0x1d')](passport_1[a88_0x14c9('0x5')][a88_0x14c9('0x20')]());app[a88_0x14c9('0x1d')](passport_1[a88_0x14c9('0x5')][a88_0x14c9('0x21')]());app['use'](express_flash_1['default']());app[a88_0x14c9('0x1d')](lusca_1[a88_0x14c9('0x5')][a88_0x14c9('0x22')](a88_0x14c9('0x23')));app['use'](lusca_1[a88_0x14c9('0x5')][a88_0x14c9('0x24')](!![]));app[a88_0x14c9('0x1d')]((_0x297ba3,_0x3dbe8e,_0x597260)=>{_0x3dbe8e[a88_0x14c9('0x25')][a88_0x14c9('0x26')]=_0x297ba3[a88_0x14c9('0x26')];_0x597260();});app[a88_0x14c9('0x1d')]((_0x2260d8,_0x21704c,_0x796ec1)=>{_0x796ec1();});app['use'](express_1[a88_0x14c9('0x5')]['static'](path_1['default']['join'](__dirname,'public'),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require(a88_0x14c9('0x27')));const models_1=__importDefault(require(a88_0x14c9('0x28')));const routes_1=__importDefault(require(a88_0x14c9('0x29')));const sequelize_utils_1=__importDefault(require(a88_0x14c9('0x2a')));const controllers_1=__importDefault(require(a88_0x14c9('0x2b')));const models=new models_1[(a88_0x14c9('0x5'))](sequelize_1['default']);const controllers=new controllers_1[(a88_0x14c9('0x5'))](models);sequelize_utils_1[a88_0x14c9('0x5')][a88_0x14c9('0x2c')]=models;sequelize_utils_1[a88_0x14c9('0x5')]['controllers']=controllers;routes_1[a88_0x14c9('0x5')](app,passport_1[a88_0x14c9('0x5')],models,controllers);require(a88_0x14c9('0x2d'))(passport_1[a88_0x14c9('0x5')],models[a88_0x14c9('0x2e')]);sequelize_utils_1[a88_0x14c9('0x5')][a88_0x14c9('0x2f')]=sequelize_1[a88_0x14c9('0x5')];apiController[a88_0x14c9('0x30')](sequelize_1['default']);const options={'exclude':['id',a88_0x14c9('0x31'),'updatedAt','deletedAt',a88_0x14c9('0x32'),a88_0x14c9('0x33'),a88_0x14c9('0x34')],'userModel':'users','revisionAttribute':a88_0x14c9('0x35'),'revisionModel':'revision','revisionChangeModel':a88_0x14c9('0x36'),'enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':a88_0x14c9('0x37'),'revisionId':a88_0x14c9('0x38')},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':'current_user_request','continuationKey':'user_id'};const PaperTrail=require(a88_0x14c9('0x39'))[a88_0x14c9('0x3a')](sequelize_1['default'],options);PaperTrail['defineModels']({});app[a88_0x14c9('0x3b')](a88_0x14c9('0x3c'),apiController[a88_0x14c9('0x3d')]);app[a88_0x14c9('0x3b')](a88_0x14c9('0x3e'),apiController[a88_0x14c9('0x3f')]);app[a88_0x14c9('0x3b')](a88_0x14c9('0x40'),apiController[a88_0x14c9('0x41')]);app[a88_0x14c9('0x3b')]('/api/getPassCounting/:direction',apiController[a88_0x14c9('0x42')]);app[a88_0x14c9('0x3b')]('/api/getPassCountingByDay/:direction',apiController[a88_0x14c9('0x43')]);app[a88_0x14c9('0x3b')]('/api/getPassCountingByHour/:direction',apiController['getPassCountingByHour']);exports[a88_0x14c9('0x5')]=app;