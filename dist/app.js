var a81_0x4bf0=['public','./app/models','./app/routes','./infrastructure/sequelize-utils','./config/passport','usersModel','instance','setSequelize','createdAt','updatedAt','deletedAt','created_at','updated_at','deleted_at','revision','document_id','revision_id','current_user_request','user_id','sequelize-paper-trail','init','defineModels','get','syncFtp','/api/downloadFtp','downloadFtp','/api/processFtp','/api/getPassCounting/:direction','getPassCounting','__importDefault','__esModule','__importStar','hasOwnProperty','call','default','compression','body-parser','./util/logger','lusca','dotenv','passport','express-validator','existsSync','debug','.env','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','.env.example','./controllers/api','set','port','join','../views','pug','use','json','urlencoded','initialize','xframe','SAMEORIGIN','xssProtection','locals','user','static'];(function(_0x2d8f05,_0x4b81bb){var _0x4d74cb=function(_0x32719f){while(--_0x32719f){_0x2d8f05['push'](_0x2d8f05['shift']());}};_0x4d74cb(++_0x4b81bb);}(a81_0x4bf0,0x15d));var a81_0x368a=function(_0x1ed23a,_0x59da9a){_0x1ed23a=_0x1ed23a-0x0;var _0x325fe7=a81_0x4bf0[_0x1ed23a];return _0x325fe7;};'use strict';var __importDefault=this&&this[a81_0x368a('0x0')]||function(_0x30af29){return _0x30af29&&_0x30af29[a81_0x368a('0x1')]?_0x30af29:{'default':_0x30af29};};var __importStar=this&&this[a81_0x368a('0x2')]||function(_0x5ab698){if(_0x5ab698&&_0x5ab698[a81_0x368a('0x1')])return _0x5ab698;var _0x41b010={};if(_0x5ab698!=null)for(var _0x4d88a3 in _0x5ab698)if(Object[a81_0x368a('0x3')][a81_0x368a('0x4')](_0x5ab698,_0x4d88a3))_0x41b010[_0x4d88a3]=_0x5ab698[_0x4d88a3];_0x41b010[a81_0x368a('0x5')]=_0x5ab698;return _0x41b010;};Object['defineProperty'](exports,a81_0x368a('0x1'),{'value':!![]});const express_1=__importDefault(require('express'));const compression_1=__importDefault(require(a81_0x368a('0x6')));const body_parser_1=__importDefault(require(a81_0x368a('0x7')));const logger_1=__importDefault(require(a81_0x368a('0x8')));const lusca_1=__importDefault(require(a81_0x368a('0x9')));const dotenv_1=__importDefault(require(a81_0x368a('0xa')));const express_flash_1=__importDefault(require('express-flash'));const path_1=__importDefault(require('path'));const passport_1=__importDefault(require(a81_0x368a('0xb')));const express_validator_1=__importDefault(require(a81_0x368a('0xc')));const fs_1=__importDefault(require('fs'));if(fs_1[a81_0x368a('0x5')][a81_0x368a('0xd')]('.env')){logger_1[a81_0x368a('0x5')][a81_0x368a('0xe')]('Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables');dotenv_1[a81_0x368a('0x5')]['config']({'path':a81_0x368a('0xf')});}else{logger_1[a81_0x368a('0x5')][a81_0x368a('0xe')](a81_0x368a('0x10'));dotenv_1['default'][a81_0x368a('0x11')]({'path':a81_0x368a('0x12')});}const apiController=__importStar(require(a81_0x368a('0x13')));const app=express_1[a81_0x368a('0x5')]();app[a81_0x368a('0x14')](a81_0x368a('0x15'),process['env']['PORT']||0xbb8);app[a81_0x368a('0x14')]('views',path_1[a81_0x368a('0x5')][a81_0x368a('0x16')](__dirname,a81_0x368a('0x17')));app[a81_0x368a('0x14')]('view\x20engine',a81_0x368a('0x18'));app['use'](compression_1[a81_0x368a('0x5')]());app[a81_0x368a('0x19')](body_parser_1[a81_0x368a('0x5')][a81_0x368a('0x1a')]());app[a81_0x368a('0x19')](body_parser_1[a81_0x368a('0x5')][a81_0x368a('0x1b')]({'extended':!![]}));app[a81_0x368a('0x19')](express_validator_1[a81_0x368a('0x5')]());app[a81_0x368a('0x19')](passport_1['default'][a81_0x368a('0x1c')]());app[a81_0x368a('0x19')](passport_1[a81_0x368a('0x5')]['session']());app['use'](express_flash_1[a81_0x368a('0x5')]());app[a81_0x368a('0x19')](lusca_1[a81_0x368a('0x5')][a81_0x368a('0x1d')](a81_0x368a('0x1e')));app[a81_0x368a('0x19')](lusca_1[a81_0x368a('0x5')][a81_0x368a('0x1f')](!![]));app[a81_0x368a('0x19')]((_0x4f2caf,_0x145592,_0x4bf48c)=>{_0x145592[a81_0x368a('0x20')][a81_0x368a('0x21')]=_0x4f2caf[a81_0x368a('0x21')];_0x4bf48c();});app[a81_0x368a('0x19')]((_0x462ca7,_0x39c3fb,_0x53c957)=>{_0x53c957();});app['use'](express_1[a81_0x368a('0x5')][a81_0x368a('0x22')](path_1['default']['join'](__dirname,a81_0x368a('0x23')),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require('./config/sequelize'));const models_1=__importDefault(require(a81_0x368a('0x24')));const routes_1=__importDefault(require(a81_0x368a('0x25')));const sequelize_utils_1=__importDefault(require(a81_0x368a('0x26')));const models=new models_1[(a81_0x368a('0x5'))](sequelize_1[a81_0x368a('0x5')]);sequelize_utils_1[a81_0x368a('0x5')]['models']=models;routes_1[a81_0x368a('0x5')](app,passport_1['default'],models);require(a81_0x368a('0x27'))(passport_1[a81_0x368a('0x5')],models[a81_0x368a('0x28')]);sequelize_utils_1[a81_0x368a('0x5')][a81_0x368a('0x29')]=sequelize_1['default'];apiController[a81_0x368a('0x2a')](sequelize_1[a81_0x368a('0x5')]);const options={'exclude':['id',a81_0x368a('0x2b'),a81_0x368a('0x2c'),a81_0x368a('0x2d'),a81_0x368a('0x2e'),a81_0x368a('0x2f'),a81_0x368a('0x30')],'userModel':'users','revisionAttribute':'revision','revisionModel':a81_0x368a('0x31'),'revisionChangeModel':'revision_change','enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':a81_0x368a('0x32'),'revisionId':a81_0x368a('0x33')},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':a81_0x368a('0x34'),'continuationKey':a81_0x368a('0x35')};const PaperTrail=require(a81_0x368a('0x36'))[a81_0x368a('0x37')](sequelize_1[a81_0x368a('0x5')],options);PaperTrail[a81_0x368a('0x38')]({});app[a81_0x368a('0x39')]('/api/syncftp',apiController[a81_0x368a('0x3a')]);app[a81_0x368a('0x39')](a81_0x368a('0x3b'),apiController[a81_0x368a('0x3c')]);app[a81_0x368a('0x39')](a81_0x368a('0x3d'),apiController['processFtp']);app[a81_0x368a('0x39')](a81_0x368a('0x3e'),apiController[a81_0x368a('0x3f')]);app[a81_0x368a('0x39')]('/api/getPassCountingByDay/:direction',apiController['getPassCountingByDay']);app['get']('/api/getPassCountingByHour/:direction',apiController['getPassCountingByHour']);exports[a81_0x368a('0x5')]=app;