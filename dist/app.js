var a194_0x2dbb=['/api/downloadFtp','downloadFtp','/api/processFtp','processFtp','/api/getPassCounting/:direction','getPassCounting','/api/getPassCountingByDay/:direction','getPassCountingByDay','/api/getPassCountingByHour/:direction','getPassCountingByHour','__importDefault','__esModule','hasOwnProperty','call','default','express','compression','body-parser','./util/logger','lusca','dotenv','express-flash','path','passport','express-validator','cors','.env','debug','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','.env.example','./controllers/api','set','env','PORT','views','join','../views','view\x20engine','use','10mb','initialize','session','xframe','xssProtection','locals','user','static','public','./app/models','./infrastructure/sequelize-utils','models','./config/passport','setSequelize','createdAt','updatedAt','deletedAt','created_at','revision','revision_change','revision_id','current_user_request','init','get','/api/syncftp'];(function(_0x16db15,_0x1b9fef){var _0x2e590a=function(_0x501d0e){while(--_0x501d0e){_0x16db15['push'](_0x16db15['shift']());}};_0x2e590a(++_0x1b9fef);}(a194_0x2dbb,0x1d1));var a194_0x53be=function(_0x28959b,_0x4c8d22){_0x28959b=_0x28959b-0x0;var _0x5c2657=a194_0x2dbb[_0x28959b];return _0x5c2657;};'use strict';var __importDefault=this&&this[a194_0x53be('0x0')]||function(_0x4909bb){return _0x4909bb&&_0x4909bb['__esModule']?_0x4909bb:{'default':_0x4909bb};};var __importStar=this&&this['__importStar']||function(_0x265717){if(_0x265717&&_0x265717[a194_0x53be('0x1')])return _0x265717;var _0x37aefb={};if(_0x265717!=null)for(var _0x4aa014 in _0x265717)if(Object[a194_0x53be('0x2')][a194_0x53be('0x3')](_0x265717,_0x4aa014))_0x37aefb[_0x4aa014]=_0x265717[_0x4aa014];_0x37aefb[a194_0x53be('0x4')]=_0x265717;return _0x37aefb;};Object['defineProperty'](exports,a194_0x53be('0x1'),{'value':!![]});const express_1=__importDefault(require(a194_0x53be('0x5')));const compression_1=__importDefault(require(a194_0x53be('0x6')));const body_parser_1=__importDefault(require(a194_0x53be('0x7')));const logger_1=__importDefault(require(a194_0x53be('0x8')));const lusca_1=__importDefault(require(a194_0x53be('0x9')));const dotenv_1=__importDefault(require(a194_0x53be('0xa')));const express_flash_1=__importDefault(require(a194_0x53be('0xb')));const path_1=__importDefault(require(a194_0x53be('0xc')));const passport_1=__importDefault(require(a194_0x53be('0xd')));const express_validator_1=__importDefault(require(a194_0x53be('0xe')));const fs_1=__importDefault(require('fs'));const cors=require(a194_0x53be('0xf'));if(fs_1['default']['existsSync'](a194_0x53be('0x10'))){logger_1['default'][a194_0x53be('0x11')](a194_0x53be('0x12'));dotenv_1[a194_0x53be('0x4')][a194_0x53be('0x13')]({'path':a194_0x53be('0x10')});}else{logger_1[a194_0x53be('0x4')][a194_0x53be('0x11')]('Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables');dotenv_1[a194_0x53be('0x4')][a194_0x53be('0x13')]({'path':a194_0x53be('0x14')});}const apiController=__importStar(require(a194_0x53be('0x15')));const app=express_1['default']();app[a194_0x53be('0x16')]('port',process[a194_0x53be('0x17')][a194_0x53be('0x18')]||0xbb8);app[a194_0x53be('0x16')](a194_0x53be('0x19'),path_1[a194_0x53be('0x4')][a194_0x53be('0x1a')](__dirname,a194_0x53be('0x1b')));app[a194_0x53be('0x16')](a194_0x53be('0x1c'),'pug');app[a194_0x53be('0x1d')](compression_1[a194_0x53be('0x4')]());app[a194_0x53be('0x1d')](body_parser_1[a194_0x53be('0x4')]['json']({'limit':a194_0x53be('0x1e')}));app['use'](body_parser_1[a194_0x53be('0x4')]['urlencoded']({'limit':a194_0x53be('0x1e'),'extended':!![]}));app['use'](cors());app[a194_0x53be('0x1d')](express_validator_1[a194_0x53be('0x4')]());app[a194_0x53be('0x1d')](passport_1[a194_0x53be('0x4')][a194_0x53be('0x1f')]());app['use'](passport_1['default'][a194_0x53be('0x20')]());app[a194_0x53be('0x1d')](express_flash_1['default']());app[a194_0x53be('0x1d')](lusca_1[a194_0x53be('0x4')][a194_0x53be('0x21')]('SAMEORIGIN'));app[a194_0x53be('0x1d')](lusca_1[a194_0x53be('0x4')][a194_0x53be('0x22')](!![]));app[a194_0x53be('0x1d')]((_0x1bf5e6,_0x4c2376,_0x2ee36c)=>{_0x4c2376[a194_0x53be('0x23')]['user']=_0x1bf5e6[a194_0x53be('0x24')];_0x2ee36c();});app[a194_0x53be('0x1d')]((_0x171d63,_0x51fdd9,_0x3f90e8)=>{_0x3f90e8();});app[a194_0x53be('0x1d')](express_1[a194_0x53be('0x4')][a194_0x53be('0x25')](path_1[a194_0x53be('0x4')][a194_0x53be('0x1a')](__dirname,a194_0x53be('0x26')),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require('./config/sequelize'));const models_1=__importDefault(require(a194_0x53be('0x27')));const routes_1=__importDefault(require('./app/routes'));const sequelize_utils_1=__importDefault(require(a194_0x53be('0x28')));const controllers_1=__importDefault(require('./app/controllers'));const models=new models_1['default'](sequelize_1['default']);const controllers=new controllers_1['default'](models);sequelize_utils_1[a194_0x53be('0x4')][a194_0x53be('0x29')]=models;sequelize_utils_1[a194_0x53be('0x4')]['controllers']=controllers;routes_1[a194_0x53be('0x4')](app,passport_1[a194_0x53be('0x4')],models,controllers);require(a194_0x53be('0x2a'))(passport_1[a194_0x53be('0x4')],models['usersModel']);sequelize_utils_1[a194_0x53be('0x4')]['instance']=sequelize_1[a194_0x53be('0x4')];apiController[a194_0x53be('0x2b')](sequelize_1[a194_0x53be('0x4')]);const options={'exclude':['id',a194_0x53be('0x2c'),a194_0x53be('0x2d'),a194_0x53be('0x2e'),a194_0x53be('0x2f'),'updated_at','deleted_at'],'userModel':'users','revisionAttribute':a194_0x53be('0x30'),'revisionModel':a194_0x53be('0x30'),'revisionChangeModel':a194_0x53be('0x31'),'enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':'document_id','revisionId':a194_0x53be('0x32')},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':a194_0x53be('0x33'),'continuationKey':'user_id'};const PaperTrail=require('sequelize-paper-trail')[a194_0x53be('0x34')](sequelize_1['default'],options);PaperTrail['defineModels']({});app[a194_0x53be('0x35')](a194_0x53be('0x36'),apiController['syncFtp']);app[a194_0x53be('0x35')](a194_0x53be('0x37'),apiController[a194_0x53be('0x38')]);app['get'](a194_0x53be('0x39'),apiController[a194_0x53be('0x3a')]);app[a194_0x53be('0x35')](a194_0x53be('0x3b'),apiController[a194_0x53be('0x3c')]);app[a194_0x53be('0x35')](a194_0x53be('0x3d'),apiController[a194_0x53be('0x3e')]);app[a194_0x53be('0x35')](a194_0x53be('0x3f'),apiController[a194_0x53be('0x40')]);exports[a194_0x53be('0x4')]=app;