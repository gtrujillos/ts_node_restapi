var a88_0xc35b=['xssProtection','locals','user','public','./config/sequelize','./app/models','./app/routes','./infrastructure/sequelize-utils','models','controllers','./config/passport','setSequelize','createdAt','updatedAt','created_at','users','revision','revision_change','revision_id','current_user_request','user_id','sequelize-paper-trail','init','defineModels','get','/api/syncftp','syncFtp','/api/downloadFtp','downloadFtp','/api/processFtp','getPassCounting','/api/getPassCountingByDay/:direction','getPassCountingByDay','/api/getPassCountingByHour/:direction','__importDefault','__esModule','__importStar','hasOwnProperty','default','defineProperty','express','compression','body-parser','lusca','dotenv','express-flash','path','express-validator','cors','.env','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','debug','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','.env.example','set','PORT','views','../views','pug','use','json','urlencoded','initialize','session','SAMEORIGIN'];(function(_0xcacb3c,_0x3fd46e){var _0x52f565=function(_0x1d50df){while(--_0x1d50df){_0xcacb3c['push'](_0xcacb3c['shift']());}};_0x52f565(++_0x3fd46e);}(a88_0xc35b,0x16c));var a88_0x5e7e=function(_0x5aa3a6,_0x5e251c){_0x5aa3a6=_0x5aa3a6-0x0;var _0x334854=a88_0xc35b[_0x5aa3a6];return _0x334854;};'use strict';var __importDefault=this&&this[a88_0x5e7e('0x0')]||function(_0x3054ff){return _0x3054ff&&_0x3054ff[a88_0x5e7e('0x1')]?_0x3054ff:{'default':_0x3054ff};};var __importStar=this&&this[a88_0x5e7e('0x2')]||function(_0xbfb26){if(_0xbfb26&&_0xbfb26['__esModule'])return _0xbfb26;var _0x1c5f26={};if(_0xbfb26!=null)for(var _0x37edf2 in _0xbfb26)if(Object[a88_0x5e7e('0x3')]['call'](_0xbfb26,_0x37edf2))_0x1c5f26[_0x37edf2]=_0xbfb26[_0x37edf2];_0x1c5f26[a88_0x5e7e('0x4')]=_0xbfb26;return _0x1c5f26;};Object[a88_0x5e7e('0x5')](exports,a88_0x5e7e('0x1'),{'value':!![]});const express_1=__importDefault(require(a88_0x5e7e('0x6')));const compression_1=__importDefault(require(a88_0x5e7e('0x7')));const body_parser_1=__importDefault(require(a88_0x5e7e('0x8')));const logger_1=__importDefault(require('./util/logger'));const lusca_1=__importDefault(require(a88_0x5e7e('0x9')));const dotenv_1=__importDefault(require(a88_0x5e7e('0xa')));const express_flash_1=__importDefault(require(a88_0x5e7e('0xb')));const path_1=__importDefault(require(a88_0x5e7e('0xc')));const passport_1=__importDefault(require('passport'));const express_validator_1=__importDefault(require(a88_0x5e7e('0xd')));const fs_1=__importDefault(require('fs'));const cors=require(a88_0x5e7e('0xe'));if(fs_1[a88_0x5e7e('0x4')]['existsSync'](a88_0x5e7e('0xf'))){logger_1[a88_0x5e7e('0x4')]['debug'](a88_0x5e7e('0x10'));dotenv_1[a88_0x5e7e('0x4')][a88_0x5e7e('0x11')]({'path':a88_0x5e7e('0xf')});}else{logger_1['default'][a88_0x5e7e('0x12')](a88_0x5e7e('0x13'));dotenv_1[a88_0x5e7e('0x4')][a88_0x5e7e('0x11')]({'path':a88_0x5e7e('0x14')});}const apiController=__importStar(require('./controllers/api'));const app=express_1[a88_0x5e7e('0x4')]();app[a88_0x5e7e('0x15')]('port',process['env'][a88_0x5e7e('0x16')]||0xbb8);app['set'](a88_0x5e7e('0x17'),path_1['default']['join'](__dirname,a88_0x5e7e('0x18')));app[a88_0x5e7e('0x15')]('view\x20engine',a88_0x5e7e('0x19'));app[a88_0x5e7e('0x1a')](compression_1[a88_0x5e7e('0x4')]());app[a88_0x5e7e('0x1a')](body_parser_1['default'][a88_0x5e7e('0x1b')]());app[a88_0x5e7e('0x1a')](cors());app[a88_0x5e7e('0x1a')](body_parser_1['default'][a88_0x5e7e('0x1c')]({'extended':!![]}));app['use'](express_validator_1['default']());app[a88_0x5e7e('0x1a')](passport_1[a88_0x5e7e('0x4')][a88_0x5e7e('0x1d')]());app[a88_0x5e7e('0x1a')](passport_1[a88_0x5e7e('0x4')][a88_0x5e7e('0x1e')]());app[a88_0x5e7e('0x1a')](express_flash_1[a88_0x5e7e('0x4')]());app[a88_0x5e7e('0x1a')](lusca_1[a88_0x5e7e('0x4')]['xframe'](a88_0x5e7e('0x1f')));app['use'](lusca_1[a88_0x5e7e('0x4')][a88_0x5e7e('0x20')](!![]));app[a88_0x5e7e('0x1a')]((_0x5dff38,_0xa48d12,_0x50b05f)=>{_0xa48d12[a88_0x5e7e('0x21')]['user']=_0x5dff38[a88_0x5e7e('0x22')];_0x50b05f();});app[a88_0x5e7e('0x1a')]((_0x50eea7,_0x427337,_0x825c34)=>{_0x825c34();});app[a88_0x5e7e('0x1a')](express_1[a88_0x5e7e('0x4')]['static'](path_1[a88_0x5e7e('0x4')]['join'](__dirname,a88_0x5e7e('0x23')),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require(a88_0x5e7e('0x24')));const models_1=__importDefault(require(a88_0x5e7e('0x25')));const routes_1=__importDefault(require(a88_0x5e7e('0x26')));const sequelize_utils_1=__importDefault(require(a88_0x5e7e('0x27')));const controllers_1=__importDefault(require('./app/controllers'));const models=new models_1[(a88_0x5e7e('0x4'))](sequelize_1[a88_0x5e7e('0x4')]);const controllers=new controllers_1[(a88_0x5e7e('0x4'))](models);sequelize_utils_1['default'][a88_0x5e7e('0x28')]=models;sequelize_utils_1['default'][a88_0x5e7e('0x29')]=controllers;routes_1[a88_0x5e7e('0x4')](app,passport_1[a88_0x5e7e('0x4')],models,controllers);require(a88_0x5e7e('0x2a'))(passport_1['default'],models['usersModel']);sequelize_utils_1[a88_0x5e7e('0x4')]['instance']=sequelize_1['default'];apiController[a88_0x5e7e('0x2b')](sequelize_1[a88_0x5e7e('0x4')]);const options={'exclude':['id',a88_0x5e7e('0x2c'),a88_0x5e7e('0x2d'),'deletedAt',a88_0x5e7e('0x2e'),'updated_at','deleted_at'],'userModel':a88_0x5e7e('0x2f'),'revisionAttribute':a88_0x5e7e('0x30'),'revisionModel':'revision','revisionChangeModel':a88_0x5e7e('0x31'),'enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':'document_id','revisionId':a88_0x5e7e('0x32')},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':a88_0x5e7e('0x33'),'continuationKey':a88_0x5e7e('0x34')};const PaperTrail=require(a88_0x5e7e('0x35'))[a88_0x5e7e('0x36')](sequelize_1[a88_0x5e7e('0x4')],options);PaperTrail[a88_0x5e7e('0x37')]({});app[a88_0x5e7e('0x38')](a88_0x5e7e('0x39'),apiController[a88_0x5e7e('0x3a')]);app['get'](a88_0x5e7e('0x3b'),apiController[a88_0x5e7e('0x3c')]);app[a88_0x5e7e('0x38')](a88_0x5e7e('0x3d'),apiController['processFtp']);app['get']('/api/getPassCounting/:direction',apiController[a88_0x5e7e('0x3e')]);app[a88_0x5e7e('0x38')](a88_0x5e7e('0x3f'),apiController[a88_0x5e7e('0x40')]);app['get'](a88_0x5e7e('0x41'),apiController['getPassCountingByHour']);exports[a88_0x5e7e('0x4')]=app;