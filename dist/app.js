var a88_0xbe9e=['created_at','updated_at','deleted_at','users','revision','revision_change','revision_id','current_user_request','sequelize-paper-trail','init','defineModels','get','downloadFtp','/api/processFtp','processFtp','/api/getPassCounting/:direction','getPassCountingByDay','/api/getPassCountingByHour/:direction','__importDefault','__esModule','hasOwnProperty','call','default','defineProperty','express','compression','body-parser','./util/logger','lusca','express-flash','path','express-validator','cors','.env','debug','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','.env.example','./controllers/api','set','env','join','view\x20engine','use','urlencoded','initialize','xframe','SAMEORIGIN','xssProtection','locals','user','static','public','./app/routes','./infrastructure/sequelize-utils','./app/controllers','models','controllers','usersModel','instance','setSequelize','updatedAt','deletedAt'];(function(_0x12b727,_0x56a0ab){var _0x565372=function(_0x5f1382){while(--_0x5f1382){_0x12b727['push'](_0x12b727['shift']());}};_0x565372(++_0x56a0ab);}(a88_0xbe9e,0xd2));var a88_0x3309=function(_0x96b1d,_0x3d0770){_0x96b1d=_0x96b1d-0x0;var _0x4bf3f4=a88_0xbe9e[_0x96b1d];return _0x4bf3f4;};'use strict';var __importDefault=this&&this[a88_0x3309('0x0')]||function(_0xb048b2){return _0xb048b2&&_0xb048b2[a88_0x3309('0x1')]?_0xb048b2:{'default':_0xb048b2};};var __importStar=this&&this['__importStar']||function(_0x2316a5){if(_0x2316a5&&_0x2316a5[a88_0x3309('0x1')])return _0x2316a5;var _0x988055={};if(_0x2316a5!=null)for(var _0x4cb842 in _0x2316a5)if(Object[a88_0x3309('0x2')][a88_0x3309('0x3')](_0x2316a5,_0x4cb842))_0x988055[_0x4cb842]=_0x2316a5[_0x4cb842];_0x988055[a88_0x3309('0x4')]=_0x2316a5;return _0x988055;};Object[a88_0x3309('0x5')](exports,a88_0x3309('0x1'),{'value':!![]});const express_1=__importDefault(require(a88_0x3309('0x6')));const compression_1=__importDefault(require(a88_0x3309('0x7')));const body_parser_1=__importDefault(require(a88_0x3309('0x8')));const logger_1=__importDefault(require(a88_0x3309('0x9')));const lusca_1=__importDefault(require(a88_0x3309('0xa')));const dotenv_1=__importDefault(require('dotenv'));const express_flash_1=__importDefault(require(a88_0x3309('0xb')));const path_1=__importDefault(require(a88_0x3309('0xc')));const passport_1=__importDefault(require('passport'));const express_validator_1=__importDefault(require(a88_0x3309('0xd')));const fs_1=__importDefault(require('fs'));const cors=require(a88_0x3309('0xe'));if(fs_1['default']['existsSync'](a88_0x3309('0xf'))){logger_1[a88_0x3309('0x4')][a88_0x3309('0x10')](a88_0x3309('0x11'));dotenv_1[a88_0x3309('0x4')][a88_0x3309('0x12')]({'path':a88_0x3309('0xf')});}else{logger_1[a88_0x3309('0x4')][a88_0x3309('0x10')](a88_0x3309('0x13'));dotenv_1['default']['config']({'path':a88_0x3309('0x14')});}const apiController=__importStar(require(a88_0x3309('0x15')));const app=express_1[a88_0x3309('0x4')]();app[a88_0x3309('0x16')]('port',process[a88_0x3309('0x17')]['PORT']||0xbb8);app[a88_0x3309('0x16')]('views',path_1[a88_0x3309('0x4')][a88_0x3309('0x18')](__dirname,'../views'));app['set'](a88_0x3309('0x19'),'pug');app[a88_0x3309('0x1a')](compression_1[a88_0x3309('0x4')]());app[a88_0x3309('0x1a')](body_parser_1[a88_0x3309('0x4')]['json']());app['use'](body_parser_1['default'][a88_0x3309('0x1b')]({'extended':!![]}));app[a88_0x3309('0x1a')](express_validator_1[a88_0x3309('0x4')]());app['use'](passport_1['default'][a88_0x3309('0x1c')]());app[a88_0x3309('0x1a')](passport_1[a88_0x3309('0x4')]['session']());app[a88_0x3309('0x1a')](express_flash_1[a88_0x3309('0x4')]());app['use'](lusca_1[a88_0x3309('0x4')][a88_0x3309('0x1d')](a88_0x3309('0x1e')));app[a88_0x3309('0x1a')](lusca_1[a88_0x3309('0x4')][a88_0x3309('0x1f')](!![]));app['use']((_0x3c5b78,_0x5cc3ef,_0x309866)=>{_0x5cc3ef[a88_0x3309('0x20')]['user']=_0x3c5b78[a88_0x3309('0x21')];_0x309866();});app[a88_0x3309('0x1a')]((_0x5e8898,_0x55f7f2,_0x57f5e5)=>{_0x57f5e5();});app[a88_0x3309('0x1a')](express_1[a88_0x3309('0x4')][a88_0x3309('0x22')](path_1['default']['join'](__dirname,a88_0x3309('0x23')),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require('./config/sequelize'));const models_1=__importDefault(require('./app/models'));const routes_1=__importDefault(require(a88_0x3309('0x24')));const sequelize_utils_1=__importDefault(require(a88_0x3309('0x25')));const controllers_1=__importDefault(require(a88_0x3309('0x26')));const models=new models_1[(a88_0x3309('0x4'))](sequelize_1[a88_0x3309('0x4')]);const controllers=new controllers_1[(a88_0x3309('0x4'))](models);sequelize_utils_1[a88_0x3309('0x4')][a88_0x3309('0x27')]=models;sequelize_utils_1[a88_0x3309('0x4')][a88_0x3309('0x28')]=controllers;routes_1[a88_0x3309('0x4')](app,passport_1[a88_0x3309('0x4')],models,controllers);require('./config/passport')(passport_1[a88_0x3309('0x4')],models[a88_0x3309('0x29')]);sequelize_utils_1['default'][a88_0x3309('0x2a')]=sequelize_1[a88_0x3309('0x4')];apiController[a88_0x3309('0x2b')](sequelize_1[a88_0x3309('0x4')]);const options={'exclude':['id','createdAt',a88_0x3309('0x2c'),a88_0x3309('0x2d'),a88_0x3309('0x2e'),a88_0x3309('0x2f'),a88_0x3309('0x30')],'userModel':a88_0x3309('0x31'),'revisionAttribute':a88_0x3309('0x32'),'revisionModel':'revision','revisionChangeModel':a88_0x3309('0x33'),'enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':'document_id','revisionId':a88_0x3309('0x34')},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':a88_0x3309('0x35'),'continuationKey':'user_id'};const PaperTrail=require(a88_0x3309('0x36'))[a88_0x3309('0x37')](sequelize_1[a88_0x3309('0x4')],options);PaperTrail[a88_0x3309('0x38')]({});app[a88_0x3309('0x39')]('/api/syncftp',apiController['syncFtp']);app[a88_0x3309('0x39')]('/api/downloadFtp',apiController[a88_0x3309('0x3a')]);app[a88_0x3309('0x39')](a88_0x3309('0x3b'),apiController[a88_0x3309('0x3c')]);app[a88_0x3309('0x39')](a88_0x3309('0x3d'),apiController['getPassCounting']);app['get']('/api/getPassCountingByDay/:direction',apiController[a88_0x3309('0x3e')]);app[a88_0x3309('0x39')](a88_0x3309('0x3f'),apiController['getPassCountingByHour']);exports['default']=app;