var a88_0x47e8=['default','__esModule','express','compression','express-flash','path','passport','express-validator','cors','existsSync','.env','debug','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','.env.example','./controllers/api','port','env','PORT','views','../views','set','view\x20engine','pug','use','json','urlencoded','initialize','xframe','locals','user','static','join','public','./app/models','./app/routes','./app/controllers','models','controllers','./config/passport','usersModel','instance','setSequelize','createdAt','updatedAt','deletedAt','created_at','deleted_at','users','revision','revision_change','document_id','user_id','init','defineModels','get','/api/syncftp','syncFtp','/api/downloadFtp','downloadFtp','/api/processFtp','processFtp','/api/getPassCounting/:direction','getPassCounting','/api/getPassCountingByDay/:direction','getPassCountingByDay','__importDefault','__importStar','hasOwnProperty','call'];(function(_0x656f5f,_0x2e7208){var _0x23740a=function(_0x40f032){while(--_0x40f032){_0x656f5f['push'](_0x656f5f['shift']());}};_0x23740a(++_0x2e7208);}(a88_0x47e8,0x1a6));var a88_0x2053=function(_0x56b0f6,_0x42caa2){_0x56b0f6=_0x56b0f6-0x0;var _0xee2220=a88_0x47e8[_0x56b0f6];return _0xee2220;};'use strict';var __importDefault=this&&this[a88_0x2053('0x0')]||function(_0xdf7f3f){return _0xdf7f3f&&_0xdf7f3f['__esModule']?_0xdf7f3f:{'default':_0xdf7f3f};};var __importStar=this&&this[a88_0x2053('0x1')]||function(_0x3bf780){if(_0x3bf780&&_0x3bf780['__esModule'])return _0x3bf780;var _0x40538f={};if(_0x3bf780!=null)for(var _0x196426 in _0x3bf780)if(Object[a88_0x2053('0x2')][a88_0x2053('0x3')](_0x3bf780,_0x196426))_0x40538f[_0x196426]=_0x3bf780[_0x196426];_0x40538f[a88_0x2053('0x4')]=_0x3bf780;return _0x40538f;};Object['defineProperty'](exports,a88_0x2053('0x5'),{'value':!![]});const express_1=__importDefault(require(a88_0x2053('0x6')));const compression_1=__importDefault(require(a88_0x2053('0x7')));const body_parser_1=__importDefault(require('body-parser'));const logger_1=__importDefault(require('./util/logger'));const lusca_1=__importDefault(require('lusca'));const dotenv_1=__importDefault(require('dotenv'));const express_flash_1=__importDefault(require(a88_0x2053('0x8')));const path_1=__importDefault(require(a88_0x2053('0x9')));const passport_1=__importDefault(require(a88_0x2053('0xa')));const express_validator_1=__importDefault(require(a88_0x2053('0xb')));const fs_1=__importDefault(require('fs'));const cors=require(a88_0x2053('0xc'));if(fs_1['default'][a88_0x2053('0xd')](a88_0x2053('0xe'))){logger_1[a88_0x2053('0x4')][a88_0x2053('0xf')](a88_0x2053('0x10'));dotenv_1[a88_0x2053('0x4')][a88_0x2053('0x11')]({'path':a88_0x2053('0xe')});}else{logger_1['default'][a88_0x2053('0xf')](a88_0x2053('0x12'));dotenv_1[a88_0x2053('0x4')][a88_0x2053('0x11')]({'path':a88_0x2053('0x13')});}const apiController=__importStar(require(a88_0x2053('0x14')));const app=express_1[a88_0x2053('0x4')]();app['set'](a88_0x2053('0x15'),process[a88_0x2053('0x16')][a88_0x2053('0x17')]||0xbb8);app['set'](a88_0x2053('0x18'),path_1[a88_0x2053('0x4')]['join'](__dirname,a88_0x2053('0x19')));app[a88_0x2053('0x1a')](a88_0x2053('0x1b'),a88_0x2053('0x1c'));app[a88_0x2053('0x1d')](compression_1[a88_0x2053('0x4')]());app[a88_0x2053('0x1d')](body_parser_1[a88_0x2053('0x4')][a88_0x2053('0x1e')]());app['use'](body_parser_1[a88_0x2053('0x4')][a88_0x2053('0x1f')]({'extended':!![]}));app[a88_0x2053('0x1d')](express_validator_1[a88_0x2053('0x4')]());app['use'](passport_1[a88_0x2053('0x4')][a88_0x2053('0x20')]());app[a88_0x2053('0x1d')](passport_1[a88_0x2053('0x4')]['session']());app['use'](express_flash_1[a88_0x2053('0x4')]());app['use'](lusca_1[a88_0x2053('0x4')][a88_0x2053('0x21')]('SAMEORIGIN'));app['use'](lusca_1[a88_0x2053('0x4')]['xssProtection'](!![]));app[a88_0x2053('0x1d')]((_0x2912f8,_0x465773,_0x35f54d)=>{_0x465773[a88_0x2053('0x22')][a88_0x2053('0x23')]=_0x2912f8[a88_0x2053('0x23')];_0x35f54d();});app[a88_0x2053('0x1d')]((_0x2e3024,_0x5125e7,_0x558412)=>{_0x558412();});app['use'](express_1[a88_0x2053('0x4')][a88_0x2053('0x24')](path_1[a88_0x2053('0x4')][a88_0x2053('0x25')](__dirname,a88_0x2053('0x26')),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require('./config/sequelize'));const models_1=__importDefault(require(a88_0x2053('0x27')));const routes_1=__importDefault(require(a88_0x2053('0x28')));const sequelize_utils_1=__importDefault(require('./infrastructure/sequelize-utils'));const controllers_1=__importDefault(require(a88_0x2053('0x29')));const models=new models_1[(a88_0x2053('0x4'))](sequelize_1[a88_0x2053('0x4')]);const controllers=new controllers_1[(a88_0x2053('0x4'))](models);sequelize_utils_1['default'][a88_0x2053('0x2a')]=models;sequelize_utils_1['default'][a88_0x2053('0x2b')]=controllers;routes_1[a88_0x2053('0x4')](app,passport_1[a88_0x2053('0x4')],models,controllers);require(a88_0x2053('0x2c'))(passport_1[a88_0x2053('0x4')],models[a88_0x2053('0x2d')]);sequelize_utils_1[a88_0x2053('0x4')][a88_0x2053('0x2e')]=sequelize_1[a88_0x2053('0x4')];apiController[a88_0x2053('0x2f')](sequelize_1[a88_0x2053('0x4')]);const options={'exclude':['id',a88_0x2053('0x30'),a88_0x2053('0x31'),a88_0x2053('0x32'),a88_0x2053('0x33'),'updated_at',a88_0x2053('0x34')],'userModel':a88_0x2053('0x35'),'revisionAttribute':a88_0x2053('0x36'),'revisionModel':a88_0x2053('0x36'),'revisionChangeModel':a88_0x2053('0x37'),'enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':a88_0x2053('0x38'),'revisionId':'revision_id'},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':'current_user_request','continuationKey':a88_0x2053('0x39')};const PaperTrail=require('sequelize-paper-trail')[a88_0x2053('0x3a')](sequelize_1['default'],options);PaperTrail[a88_0x2053('0x3b')]({});app[a88_0x2053('0x3c')](a88_0x2053('0x3d'),apiController[a88_0x2053('0x3e')]);app[a88_0x2053('0x3c')](a88_0x2053('0x3f'),apiController[a88_0x2053('0x40')]);app[a88_0x2053('0x3c')](a88_0x2053('0x41'),apiController[a88_0x2053('0x42')]);app[a88_0x2053('0x3c')](a88_0x2053('0x43'),apiController[a88_0x2053('0x44')]);app[a88_0x2053('0x3c')](a88_0x2053('0x45'),apiController[a88_0x2053('0x46')]);app[a88_0x2053('0x3c')]('/api/getPassCountingByHour/:direction',apiController['getPassCountingByHour']);exports['default']=app;