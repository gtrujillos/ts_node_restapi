var a88_0x37e8=['env','join','../views','view\x20engine','pug','use','json','urlencoded','initialize','SAMEORIGIN','xssProtection','user','static','public','./config/sequelize','./app/routes','./infrastructure/sequelize-utils','models','controllers','./config/passport','instance','setSequelize','createdAt','deletedAt','created_at','updated_at','deleted_at','users','revision','revision_change','document_id','revision_id','user_id','init','get','/api/syncftp','syncFtp','/api/downloadFtp','downloadFtp','processFtp','/api/getPassCounting/:direction','getPassCounting','/api/getPassCountingByDay/:direction','getPassCountingByDay','/api/getPassCountingByHour/:direction','getPassCountingByHour','__importDefault','__esModule','call','default','express','body-parser','./util/logger','lusca','express-flash','path','passport','cors','existsSync','.env','debug','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','./controllers/api','set'];(function(_0x2fbeca,_0x302170){var _0x1ae02f=function(_0x1066ee){while(--_0x1066ee){_0x2fbeca['push'](_0x2fbeca['shift']());}};_0x1ae02f(++_0x302170);}(a88_0x37e8,0xb2));var a88_0x2555=function(_0x2507a0,_0x307dc2){_0x2507a0=_0x2507a0-0x0;var _0x51bcf7=a88_0x37e8[_0x2507a0];return _0x51bcf7;};'use strict';var __importDefault=this&&this[a88_0x2555('0x0')]||function(_0x45e4d9){return _0x45e4d9&&_0x45e4d9[a88_0x2555('0x1')]?_0x45e4d9:{'default':_0x45e4d9};};var __importStar=this&&this['__importStar']||function(_0x46dfcb){if(_0x46dfcb&&_0x46dfcb['__esModule'])return _0x46dfcb;var _0xbb2cc6={};if(_0x46dfcb!=null)for(var _0x1fe9f8 in _0x46dfcb)if(Object['hasOwnProperty'][a88_0x2555('0x2')](_0x46dfcb,_0x1fe9f8))_0xbb2cc6[_0x1fe9f8]=_0x46dfcb[_0x1fe9f8];_0xbb2cc6[a88_0x2555('0x3')]=_0x46dfcb;return _0xbb2cc6;};Object['defineProperty'](exports,'__esModule',{'value':!![]});const express_1=__importDefault(require(a88_0x2555('0x4')));const compression_1=__importDefault(require('compression'));const body_parser_1=__importDefault(require(a88_0x2555('0x5')));const logger_1=__importDefault(require(a88_0x2555('0x6')));const lusca_1=__importDefault(require(a88_0x2555('0x7')));const dotenv_1=__importDefault(require('dotenv'));const express_flash_1=__importDefault(require(a88_0x2555('0x8')));const path_1=__importDefault(require(a88_0x2555('0x9')));const passport_1=__importDefault(require(a88_0x2555('0xa')));const express_validator_1=__importDefault(require('express-validator'));const fs_1=__importDefault(require('fs'));const cors=require(a88_0x2555('0xb'));if(fs_1[a88_0x2555('0x3')][a88_0x2555('0xc')](a88_0x2555('0xd'))){logger_1[a88_0x2555('0x3')][a88_0x2555('0xe')](a88_0x2555('0xf'));dotenv_1[a88_0x2555('0x3')][a88_0x2555('0x10')]({'path':a88_0x2555('0xd')});}else{logger_1[a88_0x2555('0x3')][a88_0x2555('0xe')](a88_0x2555('0x11'));dotenv_1[a88_0x2555('0x3')]['config']({'path':'.env.example'});}const apiController=__importStar(require(a88_0x2555('0x12')));const app=express_1[a88_0x2555('0x3')]();app[a88_0x2555('0x13')]('port',process[a88_0x2555('0x14')]['PORT']||0xbb8);app[a88_0x2555('0x13')]('views',path_1[a88_0x2555('0x3')][a88_0x2555('0x15')](__dirname,a88_0x2555('0x16')));app['set'](a88_0x2555('0x17'),a88_0x2555('0x18'));app[a88_0x2555('0x19')](compression_1['default']());app[a88_0x2555('0x19')](body_parser_1['default'][a88_0x2555('0x1a')]());app[a88_0x2555('0x19')](body_parser_1[a88_0x2555('0x3')][a88_0x2555('0x1b')]({'extended':!![]}));app[a88_0x2555('0x19')](express_validator_1[a88_0x2555('0x3')]());app[a88_0x2555('0x19')](passport_1[a88_0x2555('0x3')][a88_0x2555('0x1c')]());app['use'](passport_1[a88_0x2555('0x3')]['session']());app[a88_0x2555('0x19')](express_flash_1['default']());app[a88_0x2555('0x19')](lusca_1['default']['xframe'](a88_0x2555('0x1d')));app[a88_0x2555('0x19')](lusca_1[a88_0x2555('0x3')][a88_0x2555('0x1e')](!![]));app[a88_0x2555('0x19')]((_0x5af69d,_0x3255b3,_0x5c296e)=>{_0x3255b3['locals'][a88_0x2555('0x1f')]=_0x5af69d[a88_0x2555('0x1f')];_0x5c296e();});app[a88_0x2555('0x19')]((_0x1a8014,_0x1e9ccf,_0x413911)=>{_0x413911();});app[a88_0x2555('0x19')](express_1['default'][a88_0x2555('0x20')](path_1[a88_0x2555('0x3')][a88_0x2555('0x15')](__dirname,a88_0x2555('0x21')),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require(a88_0x2555('0x22')));const models_1=__importDefault(require('./app/models'));const routes_1=__importDefault(require(a88_0x2555('0x23')));const sequelize_utils_1=__importDefault(require(a88_0x2555('0x24')));const controllers_1=__importDefault(require('./app/controllers'));const models=new models_1[(a88_0x2555('0x3'))](sequelize_1[a88_0x2555('0x3')]);const controllers=new controllers_1[(a88_0x2555('0x3'))](models);sequelize_utils_1['default'][a88_0x2555('0x25')]=models;sequelize_utils_1[a88_0x2555('0x3')][a88_0x2555('0x26')]=controllers;routes_1[a88_0x2555('0x3')](app,passport_1[a88_0x2555('0x3')],models,controllers);require(a88_0x2555('0x27'))(passport_1['default'],models['usersModel']);sequelize_utils_1['default'][a88_0x2555('0x28')]=sequelize_1[a88_0x2555('0x3')];apiController[a88_0x2555('0x29')](sequelize_1[a88_0x2555('0x3')]);const options={'exclude':['id',a88_0x2555('0x2a'),'updatedAt',a88_0x2555('0x2b'),a88_0x2555('0x2c'),a88_0x2555('0x2d'),a88_0x2555('0x2e')],'userModel':a88_0x2555('0x2f'),'revisionAttribute':a88_0x2555('0x30'),'revisionModel':a88_0x2555('0x30'),'revisionChangeModel':a88_0x2555('0x31'),'enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':a88_0x2555('0x32'),'revisionId':a88_0x2555('0x33')},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':'current_user_request','continuationKey':a88_0x2555('0x34')};const PaperTrail=require('sequelize-paper-trail')[a88_0x2555('0x35')](sequelize_1[a88_0x2555('0x3')],options);PaperTrail['defineModels']({});app[a88_0x2555('0x36')](a88_0x2555('0x37'),apiController[a88_0x2555('0x38')]);app['get'](a88_0x2555('0x39'),apiController[a88_0x2555('0x3a')]);app['get']('/api/processFtp',apiController[a88_0x2555('0x3b')]);app['get'](a88_0x2555('0x3c'),apiController[a88_0x2555('0x3d')]);app[a88_0x2555('0x36')](a88_0x2555('0x3e'),apiController[a88_0x2555('0x3f')]);app['get'](a88_0x2555('0x40'),apiController[a88_0x2555('0x41')]);exports[a88_0x2555('0x3')]=app;