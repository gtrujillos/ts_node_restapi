var a88_0x37a3=['updated_at','deleted_at','users','revision','revision_change','document_id','revision_id','current_user_request','user_id','init','defineModels','get','/api/syncftp','syncFtp','/api/downloadFtp','downloadFtp','processFtp','/api/getPassCounting/:direction','getPassCounting','getPassCountingByDay','/api/getPassCountingByHour/:direction','__importDefault','__importStar','__esModule','hasOwnProperty','call','default','express','compression','body-parser','./util/logger','dotenv','express-flash','express-validator','existsSync','.env','debug','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','.env.example','set','port','env','PORT','views','join','../views','view\x20engine','use','json','urlencoded','initialize','session','xframe','SAMEORIGIN','xssProtection','locals','user','static','public','./config/sequelize','./app/models','./app/routes','models','controllers','./config/passport','usersModel','instance','setSequelize','createdAt','deletedAt','created_at'];(function(_0x4bd822,_0x2bd6f7){var _0xb4bdb3=function(_0x1d68f6){while(--_0x1d68f6){_0x4bd822['push'](_0x4bd822['shift']());}};_0xb4bdb3(++_0x2bd6f7);}(a88_0x37a3,0x182));var a88_0x530c=function(_0xec0c3d,_0x6c142){_0xec0c3d=_0xec0c3d-0x0;var _0x30ff07=a88_0x37a3[_0xec0c3d];return _0x30ff07;};'use strict';var __importDefault=this&&this[a88_0x530c('0x0')]||function(_0x3b86f8){return _0x3b86f8&&_0x3b86f8['__esModule']?_0x3b86f8:{'default':_0x3b86f8};};var __importStar=this&&this[a88_0x530c('0x1')]||function(_0x253d9c){if(_0x253d9c&&_0x253d9c[a88_0x530c('0x2')])return _0x253d9c;var _0x22c257={};if(_0x253d9c!=null)for(var _0x2b9edc in _0x253d9c)if(Object[a88_0x530c('0x3')][a88_0x530c('0x4')](_0x253d9c,_0x2b9edc))_0x22c257[_0x2b9edc]=_0x253d9c[_0x2b9edc];_0x22c257[a88_0x530c('0x5')]=_0x253d9c;return _0x22c257;};Object['defineProperty'](exports,a88_0x530c('0x2'),{'value':!![]});const express_1=__importDefault(require(a88_0x530c('0x6')));const compression_1=__importDefault(require(a88_0x530c('0x7')));const body_parser_1=__importDefault(require(a88_0x530c('0x8')));const logger_1=__importDefault(require(a88_0x530c('0x9')));const lusca_1=__importDefault(require('lusca'));const dotenv_1=__importDefault(require(a88_0x530c('0xa')));const express_flash_1=__importDefault(require(a88_0x530c('0xb')));const path_1=__importDefault(require('path'));const passport_1=__importDefault(require('passport'));const express_validator_1=__importDefault(require(a88_0x530c('0xc')));const fs_1=__importDefault(require('fs'));if(fs_1[a88_0x530c('0x5')][a88_0x530c('0xd')](a88_0x530c('0xe'))){logger_1[a88_0x530c('0x5')][a88_0x530c('0xf')](a88_0x530c('0x10'));dotenv_1[a88_0x530c('0x5')]['config']({'path':a88_0x530c('0xe')});}else{logger_1[a88_0x530c('0x5')][a88_0x530c('0xf')](a88_0x530c('0x11'));dotenv_1[a88_0x530c('0x5')][a88_0x530c('0x12')]({'path':a88_0x530c('0x13')});}const apiController=__importStar(require('./controllers/api'));const app=express_1[a88_0x530c('0x5')]();app[a88_0x530c('0x14')](a88_0x530c('0x15'),process[a88_0x530c('0x16')][a88_0x530c('0x17')]||0xbb8);app[a88_0x530c('0x14')](a88_0x530c('0x18'),path_1[a88_0x530c('0x5')][a88_0x530c('0x19')](__dirname,a88_0x530c('0x1a')));app[a88_0x530c('0x14')](a88_0x530c('0x1b'),'pug');app['use'](compression_1['default']());app[a88_0x530c('0x1c')](body_parser_1['default'][a88_0x530c('0x1d')]());app[a88_0x530c('0x1c')](body_parser_1[a88_0x530c('0x5')][a88_0x530c('0x1e')]({'extended':!![]}));app[a88_0x530c('0x1c')](express_validator_1['default']());app[a88_0x530c('0x1c')](passport_1[a88_0x530c('0x5')][a88_0x530c('0x1f')]());app[a88_0x530c('0x1c')](passport_1['default'][a88_0x530c('0x20')]());app[a88_0x530c('0x1c')](express_flash_1['default']());app[a88_0x530c('0x1c')](lusca_1[a88_0x530c('0x5')][a88_0x530c('0x21')](a88_0x530c('0x22')));app[a88_0x530c('0x1c')](lusca_1[a88_0x530c('0x5')][a88_0x530c('0x23')](!![]));app[a88_0x530c('0x1c')]((_0x6b22a2,_0x2800f3,_0x9c4956)=>{_0x2800f3[a88_0x530c('0x24')]['user']=_0x6b22a2[a88_0x530c('0x25')];_0x9c4956();});app[a88_0x530c('0x1c')]((_0x52a062,_0x5764f9,_0x14e1b3)=>{_0x14e1b3();});app[a88_0x530c('0x1c')](express_1[a88_0x530c('0x5')][a88_0x530c('0x26')](path_1[a88_0x530c('0x5')][a88_0x530c('0x19')](__dirname,a88_0x530c('0x27')),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require(a88_0x530c('0x28')));const models_1=__importDefault(require(a88_0x530c('0x29')));const routes_1=__importDefault(require(a88_0x530c('0x2a')));const sequelize_utils_1=__importDefault(require('./infrastructure/sequelize-utils'));const controllers_1=__importDefault(require('./app/controllers'));const models=new models_1[(a88_0x530c('0x5'))](sequelize_1[a88_0x530c('0x5')]);const controllers=new controllers_1['default'](models);sequelize_utils_1[a88_0x530c('0x5')][a88_0x530c('0x2b')]=models;sequelize_utils_1[a88_0x530c('0x5')][a88_0x530c('0x2c')]=controllers;routes_1['default'](app,passport_1[a88_0x530c('0x5')],models,controllers);require(a88_0x530c('0x2d'))(passport_1[a88_0x530c('0x5')],models[a88_0x530c('0x2e')]);sequelize_utils_1['default'][a88_0x530c('0x2f')]=sequelize_1['default'];apiController[a88_0x530c('0x30')](sequelize_1[a88_0x530c('0x5')]);const options={'exclude':['id',a88_0x530c('0x31'),'updatedAt',a88_0x530c('0x32'),a88_0x530c('0x33'),a88_0x530c('0x34'),a88_0x530c('0x35')],'userModel':a88_0x530c('0x36'),'revisionAttribute':a88_0x530c('0x37'),'revisionModel':'revision','revisionChangeModel':a88_0x530c('0x38'),'enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':a88_0x530c('0x39'),'revisionId':a88_0x530c('0x3a')},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':a88_0x530c('0x3b'),'continuationKey':a88_0x530c('0x3c')};const PaperTrail=require('sequelize-paper-trail')[a88_0x530c('0x3d')](sequelize_1['default'],options);PaperTrail[a88_0x530c('0x3e')]({});app[a88_0x530c('0x3f')](a88_0x530c('0x40'),apiController[a88_0x530c('0x41')]);app['get'](a88_0x530c('0x42'),apiController[a88_0x530c('0x43')]);app[a88_0x530c('0x3f')]('/api/processFtp',apiController[a88_0x530c('0x44')]);app['get'](a88_0x530c('0x45'),apiController[a88_0x530c('0x46')]);app[a88_0x530c('0x3f')]('/api/getPassCountingByDay/:direction',apiController[a88_0x530c('0x47')]);app[a88_0x530c('0x3f')](a88_0x530c('0x48'),apiController['getPassCountingByHour']);exports['default']=app;