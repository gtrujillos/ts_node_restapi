var a194_0x14e9=['downloadFtp','get','/api/processFtp','processFtp','/api/getPassCounting/:direction','getPassCounting','/api/getPassCountingByDay/:direction','__importDefault','__esModule','__importStar','hasOwnProperty','call','default','defineProperty','express','compression','body-parser','./util/logger','lusca','dotenv','path','cors','existsSync','.env','debug','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','./controllers/api','set','port','views','join','../views','view\x20engine','use','initialize','session','xframe','SAMEORIGIN','xssProtection','locals','user','static','./config/sequelize','./app/models','./app/routes','./app/controllers','models','controllers','./config/passport','usersModel','instance','setSequelize','createdAt','updatedAt','deletedAt','created_at','deleted_at','revision','revision_change','document_id','revision_id','current_user_request','user_id','sequelize-paper-trail','init','/api/syncftp','/api/downloadFtp'];(function(_0x1c4daf,_0x4a8300){var _0xb9cfbd=function(_0x25a2e4){while(--_0x25a2e4){_0x1c4daf['push'](_0x1c4daf['shift']());}};_0xb9cfbd(++_0x4a8300);}(a194_0x14e9,0xd3));var a194_0x32d7=function(_0x10522b,_0x5b91a4){_0x10522b=_0x10522b-0x0;var _0x5901de=a194_0x14e9[_0x10522b];return _0x5901de;};'use strict';var __importDefault=this&&this[a194_0x32d7('0x0')]||function(_0x5e7d34){return _0x5e7d34&&_0x5e7d34[a194_0x32d7('0x1')]?_0x5e7d34:{'default':_0x5e7d34};};var __importStar=this&&this[a194_0x32d7('0x2')]||function(_0x210490){if(_0x210490&&_0x210490[a194_0x32d7('0x1')])return _0x210490;var _0x552359={};if(_0x210490!=null)for(var _0x37b0c6 in _0x210490)if(Object[a194_0x32d7('0x3')][a194_0x32d7('0x4')](_0x210490,_0x37b0c6))_0x552359[_0x37b0c6]=_0x210490[_0x37b0c6];_0x552359[a194_0x32d7('0x5')]=_0x210490;return _0x552359;};Object[a194_0x32d7('0x6')](exports,'__esModule',{'value':!![]});const express_1=__importDefault(require(a194_0x32d7('0x7')));const compression_1=__importDefault(require(a194_0x32d7('0x8')));const body_parser_1=__importDefault(require(a194_0x32d7('0x9')));const logger_1=__importDefault(require(a194_0x32d7('0xa')));const lusca_1=__importDefault(require(a194_0x32d7('0xb')));const dotenv_1=__importDefault(require(a194_0x32d7('0xc')));const express_flash_1=__importDefault(require('express-flash'));const path_1=__importDefault(require(a194_0x32d7('0xd')));const passport_1=__importDefault(require('passport'));const express_validator_1=__importDefault(require('express-validator'));const fs_1=__importDefault(require('fs'));const cors=require(a194_0x32d7('0xe'));if(fs_1[a194_0x32d7('0x5')][a194_0x32d7('0xf')](a194_0x32d7('0x10'))){logger_1[a194_0x32d7('0x5')][a194_0x32d7('0x11')](a194_0x32d7('0x12'));dotenv_1[a194_0x32d7('0x5')][a194_0x32d7('0x13')]({'path':a194_0x32d7('0x10')});}else{logger_1[a194_0x32d7('0x5')][a194_0x32d7('0x11')]('Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables');dotenv_1[a194_0x32d7('0x5')]['config']({'path':'.env.example'});}const apiController=__importStar(require(a194_0x32d7('0x14')));const app=express_1['default']();app[a194_0x32d7('0x15')](a194_0x32d7('0x16'),process['env']['PORT']||0xbb8);app[a194_0x32d7('0x15')](a194_0x32d7('0x17'),path_1[a194_0x32d7('0x5')][a194_0x32d7('0x18')](__dirname,a194_0x32d7('0x19')));app['set'](a194_0x32d7('0x1a'),'pug');app[a194_0x32d7('0x1b')](compression_1['default']());app[a194_0x32d7('0x1b')](body_parser_1[a194_0x32d7('0x5')]['json']({'limit':'10mb'}));app['use'](body_parser_1[a194_0x32d7('0x5')]['urlencoded']({'limit':'10mb','extended':!![]}));app[a194_0x32d7('0x1b')](express_validator_1['default']());app['use'](passport_1[a194_0x32d7('0x5')][a194_0x32d7('0x1c')]());app[a194_0x32d7('0x1b')](passport_1[a194_0x32d7('0x5')][a194_0x32d7('0x1d')]());app['use'](express_flash_1[a194_0x32d7('0x5')]());app[a194_0x32d7('0x1b')](lusca_1[a194_0x32d7('0x5')][a194_0x32d7('0x1e')](a194_0x32d7('0x1f')));app['use'](lusca_1[a194_0x32d7('0x5')][a194_0x32d7('0x20')](!![]));app[a194_0x32d7('0x1b')]((_0x49ce2a,_0x490b34,_0x4335b7)=>{_0x490b34[a194_0x32d7('0x21')][a194_0x32d7('0x22')]=_0x49ce2a[a194_0x32d7('0x22')];_0x4335b7();});app[a194_0x32d7('0x1b')]((_0x3e8c1c,_0x43dacb,_0x4e7e69)=>{_0x4e7e69();});app[a194_0x32d7('0x1b')](express_1[a194_0x32d7('0x5')][a194_0x32d7('0x23')](path_1[a194_0x32d7('0x5')][a194_0x32d7('0x18')](__dirname,'public'),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require(a194_0x32d7('0x24')));const models_1=__importDefault(require(a194_0x32d7('0x25')));const routes_1=__importDefault(require(a194_0x32d7('0x26')));const sequelize_utils_1=__importDefault(require('./infrastructure/sequelize-utils'));const controllers_1=__importDefault(require(a194_0x32d7('0x27')));const models=new models_1[(a194_0x32d7('0x5'))](sequelize_1['default']);const controllers=new controllers_1[(a194_0x32d7('0x5'))](models);sequelize_utils_1[a194_0x32d7('0x5')][a194_0x32d7('0x28')]=models;sequelize_utils_1[a194_0x32d7('0x5')][a194_0x32d7('0x29')]=controllers;routes_1['default'](app,passport_1['default'],models,controllers);require(a194_0x32d7('0x2a'))(passport_1[a194_0x32d7('0x5')],models[a194_0x32d7('0x2b')]);sequelize_utils_1[a194_0x32d7('0x5')][a194_0x32d7('0x2c')]=sequelize_1[a194_0x32d7('0x5')];apiController[a194_0x32d7('0x2d')](sequelize_1[a194_0x32d7('0x5')]);const options={'exclude':['id',a194_0x32d7('0x2e'),a194_0x32d7('0x2f'),a194_0x32d7('0x30'),a194_0x32d7('0x31'),'updated_at',a194_0x32d7('0x32')],'userModel':'users','revisionAttribute':a194_0x32d7('0x33'),'revisionModel':a194_0x32d7('0x33'),'revisionChangeModel':a194_0x32d7('0x34'),'enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':a194_0x32d7('0x35'),'revisionId':a194_0x32d7('0x36')},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':a194_0x32d7('0x37'),'continuationKey':a194_0x32d7('0x38')};const PaperTrail=require(a194_0x32d7('0x39'))[a194_0x32d7('0x3a')](sequelize_1[a194_0x32d7('0x5')],options);PaperTrail['defineModels']({});app['get'](a194_0x32d7('0x3b'),apiController['syncFtp']);app['get'](a194_0x32d7('0x3c'),apiController[a194_0x32d7('0x3d')]);app[a194_0x32d7('0x3e')](a194_0x32d7('0x3f'),apiController[a194_0x32d7('0x40')]);app[a194_0x32d7('0x3e')](a194_0x32d7('0x41'),apiController[a194_0x32d7('0x42')]);app[a194_0x32d7('0x3e')](a194_0x32d7('0x43'),apiController['getPassCountingByDay']);app[a194_0x32d7('0x3e')]('/api/getPassCountingByHour/:direction',apiController['getPassCountingByHour']);exports[a194_0x32d7('0x5')]=app;