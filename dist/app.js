var a194_0x11ef=['body-parser','./util/logger','lusca','express-flash','path','passport','cors','existsSync','default','debug','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','.env','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','.env.example','./controllers/api','set','port','env','views','join','../views','pug','use','json','10mb','urlencoded','session','xframe','xssProtection','locals','user','static','./app/models','./infrastructure/sequelize-utils','./app/controllers','controllers','usersModel','instance','setSequelize','createdAt','created_at','updated_at','deleted_at','users','revision','revision_change','current_user_request','user_id','sequelize-paper-trail','init','defineModels','get','/api/syncftp','syncFtp','/api/downloadFtp','downloadFtp','/api/processFtp','processFtp','/api/getPassCounting/:direction','/api/getPassCountingByDay/:direction','getPassCountingByDay','/api/getPassCountingByHour/:direction','__importDefault','__esModule','__importStar','hasOwnProperty','call','defineProperty','express'];(function(_0x59d437,_0xe02cb7){var _0x3b5bef=function(_0x338acb){while(--_0x338acb){_0x59d437['push'](_0x59d437['shift']());}};_0x3b5bef(++_0xe02cb7);}(a194_0x11ef,0xcb));var a194_0x37ee=function(_0xa41185,_0x3bbf08){_0xa41185=_0xa41185-0x0;var _0x187b99=a194_0x11ef[_0xa41185];return _0x187b99;};'use strict';var __importDefault=this&&this[a194_0x37ee('0x0')]||function(_0x1e6fe0){return _0x1e6fe0&&_0x1e6fe0[a194_0x37ee('0x1')]?_0x1e6fe0:{'default':_0x1e6fe0};};var __importStar=this&&this[a194_0x37ee('0x2')]||function(_0x59ce7d){if(_0x59ce7d&&_0x59ce7d[a194_0x37ee('0x1')])return _0x59ce7d;var _0x49b6a7={};if(_0x59ce7d!=null)for(var _0x3f945c in _0x59ce7d)if(Object[a194_0x37ee('0x3')][a194_0x37ee('0x4')](_0x59ce7d,_0x3f945c))_0x49b6a7[_0x3f945c]=_0x59ce7d[_0x3f945c];_0x49b6a7['default']=_0x59ce7d;return _0x49b6a7;};Object[a194_0x37ee('0x5')](exports,a194_0x37ee('0x1'),{'value':!![]});const express_1=__importDefault(require(a194_0x37ee('0x6')));const compression_1=__importDefault(require('compression'));const body_parser_1=__importDefault(require(a194_0x37ee('0x7')));const logger_1=__importDefault(require(a194_0x37ee('0x8')));const lusca_1=__importDefault(require(a194_0x37ee('0x9')));const dotenv_1=__importDefault(require('dotenv'));const express_flash_1=__importDefault(require(a194_0x37ee('0xa')));const path_1=__importDefault(require(a194_0x37ee('0xb')));const passport_1=__importDefault(require(a194_0x37ee('0xc')));const express_validator_1=__importDefault(require('express-validator'));const fs_1=__importDefault(require('fs'));const cors=require(a194_0x37ee('0xd'));if(fs_1['default'][a194_0x37ee('0xe')]('.env')){logger_1[a194_0x37ee('0xf')][a194_0x37ee('0x10')](a194_0x37ee('0x11'));dotenv_1['default'][a194_0x37ee('0x12')]({'path':a194_0x37ee('0x13')});}else{logger_1[a194_0x37ee('0xf')][a194_0x37ee('0x10')](a194_0x37ee('0x14'));dotenv_1[a194_0x37ee('0xf')][a194_0x37ee('0x12')]({'path':a194_0x37ee('0x15')});}const apiController=__importStar(require(a194_0x37ee('0x16')));const app=express_1['default']();app[a194_0x37ee('0x17')](a194_0x37ee('0x18'),process[a194_0x37ee('0x19')]['PORT']||0xbb8);app[a194_0x37ee('0x17')](a194_0x37ee('0x1a'),path_1[a194_0x37ee('0xf')][a194_0x37ee('0x1b')](__dirname,a194_0x37ee('0x1c')));app['set']('view\x20engine',a194_0x37ee('0x1d'));app['use'](compression_1[a194_0x37ee('0xf')]());app[a194_0x37ee('0x1e')](body_parser_1[a194_0x37ee('0xf')][a194_0x37ee('0x1f')]({'limit':a194_0x37ee('0x20')}));app[a194_0x37ee('0x1e')](body_parser_1[a194_0x37ee('0xf')][a194_0x37ee('0x21')]({'limit':a194_0x37ee('0x20'),'extended':!![]}));app[a194_0x37ee('0x1e')](cors());app[a194_0x37ee('0x1e')](express_validator_1[a194_0x37ee('0xf')]());app[a194_0x37ee('0x1e')](passport_1[a194_0x37ee('0xf')]['initialize']());app['use'](passport_1[a194_0x37ee('0xf')][a194_0x37ee('0x22')]());app[a194_0x37ee('0x1e')](express_flash_1[a194_0x37ee('0xf')]());app[a194_0x37ee('0x1e')](lusca_1['default'][a194_0x37ee('0x23')]('SAMEORIGIN'));app[a194_0x37ee('0x1e')](lusca_1[a194_0x37ee('0xf')][a194_0x37ee('0x24')](!![]));app[a194_0x37ee('0x1e')]((_0x448750,_0x536a70,_0x3c6c5c)=>{_0x536a70[a194_0x37ee('0x25')]['user']=_0x448750[a194_0x37ee('0x26')];_0x3c6c5c();});app[a194_0x37ee('0x1e')]((_0x362e81,_0x6e609b,_0x4a74b1)=>{_0x4a74b1();});app[a194_0x37ee('0x1e')](express_1['default'][a194_0x37ee('0x27')](path_1['default']['join'](__dirname,'public'),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require('./config/sequelize'));const models_1=__importDefault(require(a194_0x37ee('0x28')));const routes_1=__importDefault(require('./app/routes'));const sequelize_utils_1=__importDefault(require(a194_0x37ee('0x29')));const controllers_1=__importDefault(require(a194_0x37ee('0x2a')));const models=new models_1[(a194_0x37ee('0xf'))](sequelize_1['default']);const controllers=new controllers_1['default'](models);sequelize_utils_1[a194_0x37ee('0xf')]['models']=models;sequelize_utils_1['default'][a194_0x37ee('0x2b')]=controllers;routes_1['default'](app,passport_1['default'],models,controllers);require('./config/passport')(passport_1[a194_0x37ee('0xf')],models[a194_0x37ee('0x2c')]);sequelize_utils_1['default'][a194_0x37ee('0x2d')]=sequelize_1['default'];apiController[a194_0x37ee('0x2e')](sequelize_1['default']);const options={'exclude':['id',a194_0x37ee('0x2f'),'updatedAt','deletedAt',a194_0x37ee('0x30'),a194_0x37ee('0x31'),a194_0x37ee('0x32')],'userModel':a194_0x37ee('0x33'),'revisionAttribute':a194_0x37ee('0x34'),'revisionModel':'revision','revisionChangeModel':a194_0x37ee('0x35'),'enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':'document_id','revisionId':'revision_id'},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':a194_0x37ee('0x36'),'continuationKey':a194_0x37ee('0x37')};const PaperTrail=require(a194_0x37ee('0x38'))[a194_0x37ee('0x39')](sequelize_1['default'],options);PaperTrail[a194_0x37ee('0x3a')]({});app[a194_0x37ee('0x3b')](a194_0x37ee('0x3c'),apiController[a194_0x37ee('0x3d')]);app['get'](a194_0x37ee('0x3e'),apiController[a194_0x37ee('0x3f')]);app[a194_0x37ee('0x3b')](a194_0x37ee('0x40'),apiController[a194_0x37ee('0x41')]);app[a194_0x37ee('0x3b')](a194_0x37ee('0x42'),apiController['getPassCounting']);app[a194_0x37ee('0x3b')](a194_0x37ee('0x43'),apiController[a194_0x37ee('0x44')]);app[a194_0x37ee('0x3b')](a194_0x37ee('0x45'),apiController['getPassCountingByHour']);exports[a194_0x37ee('0xf')]=app;