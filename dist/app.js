var a194_0x49a1=['revision_id','current_user_request','user_id','init','defineModels','get','/api/syncftp','syncFtp','/api/downloadFtp','downloadFtp','/api/processFtp','processFtp','getPassCountingByDay','/api/getPassCountingByHour/:direction','getPassCountingByHour','__esModule','hasOwnProperty','call','default','defineProperty','express','compression','body-parser','lusca','dotenv','express-flash','path','passport','cors','existsSync','.env','debug','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','.env.example','set','port','env','views','../views','pug','use','urlencoded','10mb','initialize','session','xframe','SAMEORIGIN','xssProtection','locals','user','static','join','./config/sequelize','./app/models','./app/routes','./infrastructure/sequelize-utils','./app/controllers','controllers','./config/passport','usersModel','instance','setSequelize','createdAt','updatedAt','deletedAt','created_at','updated_at','deleted_at','users','revision','document_id'];(function(_0x24e602,_0x11040c){var _0x522fca=function(_0x23f203){while(--_0x23f203){_0x24e602['push'](_0x24e602['shift']());}};_0x522fca(++_0x11040c);}(a194_0x49a1,0x1c5));var a194_0x217f=function(_0x406f8a,_0x523f6e){_0x406f8a=_0x406f8a-0x0;var _0x3485fc=a194_0x49a1[_0x406f8a];return _0x3485fc;};'use strict';var __importDefault=this&&this['__importDefault']||function(_0x5151cb){return _0x5151cb&&_0x5151cb[a194_0x217f('0x0')]?_0x5151cb:{'default':_0x5151cb};};var __importStar=this&&this['__importStar']||function(_0x3a658f){if(_0x3a658f&&_0x3a658f[a194_0x217f('0x0')])return _0x3a658f;var _0x39de74={};if(_0x3a658f!=null)for(var _0x4c7ff1 in _0x3a658f)if(Object[a194_0x217f('0x1')][a194_0x217f('0x2')](_0x3a658f,_0x4c7ff1))_0x39de74[_0x4c7ff1]=_0x3a658f[_0x4c7ff1];_0x39de74[a194_0x217f('0x3')]=_0x3a658f;return _0x39de74;};Object[a194_0x217f('0x4')](exports,a194_0x217f('0x0'),{'value':!![]});const express_1=__importDefault(require(a194_0x217f('0x5')));const compression_1=__importDefault(require(a194_0x217f('0x6')));const body_parser_1=__importDefault(require(a194_0x217f('0x7')));const logger_1=__importDefault(require('./util/logger'));const lusca_1=__importDefault(require(a194_0x217f('0x8')));const dotenv_1=__importDefault(require(a194_0x217f('0x9')));const express_flash_1=__importDefault(require(a194_0x217f('0xa')));const path_1=__importDefault(require(a194_0x217f('0xb')));const passport_1=__importDefault(require(a194_0x217f('0xc')));const express_validator_1=__importDefault(require('express-validator'));const fs_1=__importDefault(require('fs'));const cors=require(a194_0x217f('0xd'));if(fs_1[a194_0x217f('0x3')][a194_0x217f('0xe')](a194_0x217f('0xf'))){logger_1[a194_0x217f('0x3')][a194_0x217f('0x10')](a194_0x217f('0x11'));dotenv_1[a194_0x217f('0x3')]['config']({'path':a194_0x217f('0xf')});}else{logger_1[a194_0x217f('0x3')][a194_0x217f('0x10')](a194_0x217f('0x12'));dotenv_1['default'][a194_0x217f('0x13')]({'path':a194_0x217f('0x14')});}const apiController=__importStar(require('./controllers/api'));const app=express_1[a194_0x217f('0x3')]();app[a194_0x217f('0x15')](a194_0x217f('0x16'),process[a194_0x217f('0x17')]['PORT']||0xbb8);app[a194_0x217f('0x15')](a194_0x217f('0x18'),path_1['default']['join'](__dirname,a194_0x217f('0x19')));app[a194_0x217f('0x15')]('view\x20engine',a194_0x217f('0x1a'));app[a194_0x217f('0x1b')](compression_1[a194_0x217f('0x3')]());app[a194_0x217f('0x1b')](body_parser_1[a194_0x217f('0x3')]['json']({'limit':'10mb'}));app['use'](body_parser_1['default'][a194_0x217f('0x1c')]({'limit':a194_0x217f('0x1d'),'extended':!![]}));app[a194_0x217f('0x1b')](cors());app[a194_0x217f('0x1b')](express_validator_1[a194_0x217f('0x3')]());app['use'](passport_1['default'][a194_0x217f('0x1e')]());app['use'](passport_1['default'][a194_0x217f('0x1f')]());app[a194_0x217f('0x1b')](express_flash_1[a194_0x217f('0x3')]());app[a194_0x217f('0x1b')](lusca_1[a194_0x217f('0x3')][a194_0x217f('0x20')](a194_0x217f('0x21')));app[a194_0x217f('0x1b')](lusca_1['default'][a194_0x217f('0x22')](!![]));app[a194_0x217f('0x1b')]((_0x52b817,_0x56083a,_0x305b87)=>{_0x56083a[a194_0x217f('0x23')][a194_0x217f('0x24')]=_0x52b817[a194_0x217f('0x24')];_0x305b87();});app[a194_0x217f('0x1b')]((_0x291f10,_0x35d7ca,_0x3cf648)=>{_0x3cf648();});app[a194_0x217f('0x1b')](express_1[a194_0x217f('0x3')][a194_0x217f('0x25')](path_1[a194_0x217f('0x3')][a194_0x217f('0x26')](__dirname,'public'),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require(a194_0x217f('0x27')));const models_1=__importDefault(require(a194_0x217f('0x28')));const routes_1=__importDefault(require(a194_0x217f('0x29')));const sequelize_utils_1=__importDefault(require(a194_0x217f('0x2a')));const controllers_1=__importDefault(require(a194_0x217f('0x2b')));const models=new models_1['default'](sequelize_1[a194_0x217f('0x3')]);const controllers=new controllers_1[(a194_0x217f('0x3'))](models);sequelize_utils_1['default']['models']=models;sequelize_utils_1['default'][a194_0x217f('0x2c')]=controllers;routes_1['default'](app,passport_1[a194_0x217f('0x3')],models,controllers);require(a194_0x217f('0x2d'))(passport_1[a194_0x217f('0x3')],models[a194_0x217f('0x2e')]);sequelize_utils_1[a194_0x217f('0x3')][a194_0x217f('0x2f')]=sequelize_1[a194_0x217f('0x3')];apiController[a194_0x217f('0x30')](sequelize_1['default']);const options={'exclude':['id',a194_0x217f('0x31'),a194_0x217f('0x32'),a194_0x217f('0x33'),a194_0x217f('0x34'),a194_0x217f('0x35'),a194_0x217f('0x36')],'userModel':a194_0x217f('0x37'),'revisionAttribute':a194_0x217f('0x38'),'revisionModel':a194_0x217f('0x38'),'revisionChangeModel':'revision_change','enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':a194_0x217f('0x39'),'revisionId':a194_0x217f('0x3a')},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':a194_0x217f('0x3b'),'continuationKey':a194_0x217f('0x3c')};const PaperTrail=require('sequelize-paper-trail')[a194_0x217f('0x3d')](sequelize_1[a194_0x217f('0x3')],options);PaperTrail[a194_0x217f('0x3e')]({});app[a194_0x217f('0x3f')](a194_0x217f('0x40'),apiController[a194_0x217f('0x41')]);app['get'](a194_0x217f('0x42'),apiController[a194_0x217f('0x43')]);app[a194_0x217f('0x3f')](a194_0x217f('0x44'),apiController[a194_0x217f('0x45')]);app[a194_0x217f('0x3f')]('/api/getPassCounting/:direction',apiController['getPassCounting']);app['get']('/api/getPassCountingByDay/:direction',apiController[a194_0x217f('0x46')]);app[a194_0x217f('0x3f')](a194_0x217f('0x47'),apiController[a194_0x217f('0x48')]);exports[a194_0x217f('0x3')]=app;