var a88_0x449c=['join','../views','view\x20engine','pug','use','json','initialize','session','xframe','SAMEORIGIN','xssProtection','locals','user','static','public','./config/sequelize','./app/models','./app/routes','./infrastructure/sequelize-utils','./app/controllers','models','controllers','./config/passport','usersModel','instance','setSequelize','createdAt','deletedAt','updated_at','users','revision','revision_change','document_id','revision_id','current_user_request','user_id','init','defineModels','get','/api/syncftp','syncFtp','downloadFtp','/api/getPassCounting/:direction','getPassCounting','getPassCountingByDay','/api/getPassCountingByHour/:direction','getPassCountingByHour','__importDefault','__esModule','__importStar','call','defineProperty','compression','body-parser','./util/logger','lusca','dotenv','path','express-validator','cors','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','default','debug','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','./controllers/api','set','port','PORT','views'];(function(_0x5eabb1,_0x1c6124){var _0x1368c2=function(_0x3a5df6){while(--_0x3a5df6){_0x5eabb1['push'](_0x5eabb1['shift']());}};_0x1368c2(++_0x1c6124);}(a88_0x449c,0x18d));var a88_0x481b=function(_0x2d8603,_0x37e0dd){_0x2d8603=_0x2d8603-0x0;var _0x24596c=a88_0x449c[_0x2d8603];return _0x24596c;};'use strict';var __importDefault=this&&this[a88_0x481b('0x0')]||function(_0x324669){return _0x324669&&_0x324669[a88_0x481b('0x1')]?_0x324669:{'default':_0x324669};};var __importStar=this&&this[a88_0x481b('0x2')]||function(_0x336c25){if(_0x336c25&&_0x336c25[a88_0x481b('0x1')])return _0x336c25;var _0x561e4d={};if(_0x336c25!=null)for(var _0x584ce3 in _0x336c25)if(Object['hasOwnProperty'][a88_0x481b('0x3')](_0x336c25,_0x584ce3))_0x561e4d[_0x584ce3]=_0x336c25[_0x584ce3];_0x561e4d['default']=_0x336c25;return _0x561e4d;};Object[a88_0x481b('0x4')](exports,a88_0x481b('0x1'),{'value':!![]});const express_1=__importDefault(require('express'));const compression_1=__importDefault(require(a88_0x481b('0x5')));const body_parser_1=__importDefault(require(a88_0x481b('0x6')));const logger_1=__importDefault(require(a88_0x481b('0x7')));const lusca_1=__importDefault(require(a88_0x481b('0x8')));const dotenv_1=__importDefault(require(a88_0x481b('0x9')));const express_flash_1=__importDefault(require('express-flash'));const path_1=__importDefault(require(a88_0x481b('0xa')));const passport_1=__importDefault(require('passport'));const express_validator_1=__importDefault(require(a88_0x481b('0xb')));const fs_1=__importDefault(require('fs'));const cors=require(a88_0x481b('0xc'));if(fs_1['default']['existsSync']('.env')){logger_1['default']['debug'](a88_0x481b('0xd'));dotenv_1['default'][a88_0x481b('0xe')]({'path':'.env'});}else{logger_1[a88_0x481b('0xf')][a88_0x481b('0x10')](a88_0x481b('0x11'));dotenv_1['default'][a88_0x481b('0xe')]({'path':'.env.example'});}const apiController=__importStar(require(a88_0x481b('0x12')));const app=express_1[a88_0x481b('0xf')]();app[a88_0x481b('0x13')](a88_0x481b('0x14'),process['env'][a88_0x481b('0x15')]||0xbb8);app[a88_0x481b('0x13')](a88_0x481b('0x16'),path_1[a88_0x481b('0xf')][a88_0x481b('0x17')](__dirname,a88_0x481b('0x18')));app[a88_0x481b('0x13')](a88_0x481b('0x19'),a88_0x481b('0x1a'));app[a88_0x481b('0x1b')](compression_1['default']());app[a88_0x481b('0x1b')](body_parser_1[a88_0x481b('0xf')][a88_0x481b('0x1c')]());app[a88_0x481b('0x1b')](cors());app[a88_0x481b('0x1b')](body_parser_1[a88_0x481b('0xf')]['urlencoded']({'extended':!![]}));app[a88_0x481b('0x1b')](express_validator_1[a88_0x481b('0xf')]());app[a88_0x481b('0x1b')](passport_1[a88_0x481b('0xf')][a88_0x481b('0x1d')]());app[a88_0x481b('0x1b')](passport_1[a88_0x481b('0xf')][a88_0x481b('0x1e')]());app[a88_0x481b('0x1b')](express_flash_1[a88_0x481b('0xf')]());app[a88_0x481b('0x1b')](lusca_1[a88_0x481b('0xf')][a88_0x481b('0x1f')](a88_0x481b('0x20')));app['use'](lusca_1[a88_0x481b('0xf')][a88_0x481b('0x21')](!![]));app[a88_0x481b('0x1b')]((_0x59809b,_0x58275c,_0x549f9d)=>{_0x58275c[a88_0x481b('0x22')][a88_0x481b('0x23')]=_0x59809b[a88_0x481b('0x23')];_0x549f9d();});app[a88_0x481b('0x1b')]((_0x46755d,_0x31077e,_0x7cb311)=>{_0x7cb311();});app['use'](express_1[a88_0x481b('0xf')][a88_0x481b('0x24')](path_1['default'][a88_0x481b('0x17')](__dirname,a88_0x481b('0x25')),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require(a88_0x481b('0x26')));const models_1=__importDefault(require(a88_0x481b('0x27')));const routes_1=__importDefault(require(a88_0x481b('0x28')));const sequelize_utils_1=__importDefault(require(a88_0x481b('0x29')));const controllers_1=__importDefault(require(a88_0x481b('0x2a')));const models=new models_1[(a88_0x481b('0xf'))](sequelize_1[a88_0x481b('0xf')]);const controllers=new controllers_1[(a88_0x481b('0xf'))](models);sequelize_utils_1['default'][a88_0x481b('0x2b')]=models;sequelize_utils_1[a88_0x481b('0xf')][a88_0x481b('0x2c')]=controllers;routes_1['default'](app,passport_1[a88_0x481b('0xf')],models,controllers);require(a88_0x481b('0x2d'))(passport_1[a88_0x481b('0xf')],models[a88_0x481b('0x2e')]);sequelize_utils_1[a88_0x481b('0xf')][a88_0x481b('0x2f')]=sequelize_1['default'];apiController[a88_0x481b('0x30')](sequelize_1['default']);const options={'exclude':['id',a88_0x481b('0x31'),'updatedAt',a88_0x481b('0x32'),'created_at',a88_0x481b('0x33'),'deleted_at'],'userModel':a88_0x481b('0x34'),'revisionAttribute':a88_0x481b('0x35'),'revisionModel':a88_0x481b('0x35'),'revisionChangeModel':a88_0x481b('0x36'),'enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':a88_0x481b('0x37'),'revisionId':a88_0x481b('0x38')},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':a88_0x481b('0x39'),'continuationKey':a88_0x481b('0x3a')};const PaperTrail=require('sequelize-paper-trail')[a88_0x481b('0x3b')](sequelize_1[a88_0x481b('0xf')],options);PaperTrail[a88_0x481b('0x3c')]({});app[a88_0x481b('0x3d')](a88_0x481b('0x3e'),apiController[a88_0x481b('0x3f')]);app[a88_0x481b('0x3d')]('/api/downloadFtp',apiController[a88_0x481b('0x40')]);app[a88_0x481b('0x3d')]('/api/processFtp',apiController['processFtp']);app['get'](a88_0x481b('0x41'),apiController[a88_0x481b('0x42')]);app['get']('/api/getPassCountingByDay/:direction',apiController[a88_0x481b('0x43')]);app[a88_0x481b('0x3d')](a88_0x481b('0x44'),apiController[a88_0x481b('0x45')]);exports['default']=app;