var a87_0x566b=['./controllers/api','port','env','set','views','join','../views','pug','json','use','urlencoded','initialize','session','xframe','xssProtection','user','public','./config/sequelize','./app/models','./app/routes','./infrastructure/sequelize-utils','models','./config/passport','instance','setSequelize','createdAt','created_at','updated_at','users','revision','revision_change','document_id','revision_id','current_user_request','user_id','sequelize-paper-trail','init','defineModels','/api/syncftp','syncFtp','get','/api/downloadFtp','downloadFtp','/api/processFtp','getPassCounting','getPassCountingByDay','/api/getPassCountingByHour/:direction','getPassCountingByHour','__importDefault','__esModule','__importStar','call','defineProperty','compression','./util/logger','dotenv','express-flash','passport','express-validator','default','existsSync','.env','debug','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','.env.example'];(function(_0x37c08a,_0x5dea57){var _0xb40ce1=function(_0x1532f6){while(--_0x1532f6){_0x37c08a['push'](_0x37c08a['shift']());}};_0xb40ce1(++_0x5dea57);}(a87_0x566b,0xf9));var a87_0x4992=function(_0x310830,_0x13a4ee){_0x310830=_0x310830-0x0;var _0x1eb958=a87_0x566b[_0x310830];return _0x1eb958;};'use strict';var __importDefault=this&&this[a87_0x4992('0x0')]||function(_0x1c255f){return _0x1c255f&&_0x1c255f[a87_0x4992('0x1')]?_0x1c255f:{'default':_0x1c255f};};var __importStar=this&&this[a87_0x4992('0x2')]||function(_0x5cb488){if(_0x5cb488&&_0x5cb488['__esModule'])return _0x5cb488;var _0x4c4824={};if(_0x5cb488!=null)for(var _0x5a09a8 in _0x5cb488)if(Object['hasOwnProperty'][a87_0x4992('0x3')](_0x5cb488,_0x5a09a8))_0x4c4824[_0x5a09a8]=_0x5cb488[_0x5a09a8];_0x4c4824['default']=_0x5cb488;return _0x4c4824;};Object[a87_0x4992('0x4')](exports,a87_0x4992('0x1'),{'value':!![]});const express_1=__importDefault(require('express'));const compression_1=__importDefault(require(a87_0x4992('0x5')));const body_parser_1=__importDefault(require('body-parser'));const logger_1=__importDefault(require(a87_0x4992('0x6')));const lusca_1=__importDefault(require('lusca'));const dotenv_1=__importDefault(require(a87_0x4992('0x7')));const express_flash_1=__importDefault(require(a87_0x4992('0x8')));const path_1=__importDefault(require('path'));const passport_1=__importDefault(require(a87_0x4992('0x9')));const express_validator_1=__importDefault(require(a87_0x4992('0xa')));const fs_1=__importDefault(require('fs'));if(fs_1[a87_0x4992('0xb')][a87_0x4992('0xc')](a87_0x4992('0xd'))){logger_1[a87_0x4992('0xb')][a87_0x4992('0xe')](a87_0x4992('0xf'));dotenv_1['default'][a87_0x4992('0x10')]({'path':a87_0x4992('0xd')});}else{logger_1['default'][a87_0x4992('0xe')](a87_0x4992('0x11'));dotenv_1['default'][a87_0x4992('0x10')]({'path':a87_0x4992('0x12')});}const apiController=__importStar(require(a87_0x4992('0x13')));const app=express_1['default']();app['set'](a87_0x4992('0x14'),process[a87_0x4992('0x15')]['PORT']||0xbb8);app[a87_0x4992('0x16')](a87_0x4992('0x17'),path_1['default'][a87_0x4992('0x18')](__dirname,a87_0x4992('0x19')));app[a87_0x4992('0x16')]('view\x20engine',a87_0x4992('0x1a'));app['use'](compression_1['default']());app['use'](body_parser_1[a87_0x4992('0xb')][a87_0x4992('0x1b')]());app[a87_0x4992('0x1c')](body_parser_1['default'][a87_0x4992('0x1d')]({'extended':!![]}));app[a87_0x4992('0x1c')](express_validator_1[a87_0x4992('0xb')]());app[a87_0x4992('0x1c')](passport_1['default'][a87_0x4992('0x1e')]());app['use'](passport_1[a87_0x4992('0xb')][a87_0x4992('0x1f')]());app[a87_0x4992('0x1c')](express_flash_1[a87_0x4992('0xb')]());app[a87_0x4992('0x1c')](lusca_1['default'][a87_0x4992('0x20')]('SAMEORIGIN'));app[a87_0x4992('0x1c')](lusca_1[a87_0x4992('0xb')][a87_0x4992('0x21')](!![]));app[a87_0x4992('0x1c')]((_0x487197,_0x4d4a14,_0x56dbd5)=>{_0x4d4a14['locals'][a87_0x4992('0x22')]=_0x487197[a87_0x4992('0x22')];_0x56dbd5();});app[a87_0x4992('0x1c')]((_0x4a03eb,_0x2f02bb,_0x349560)=>{_0x349560();});app[a87_0x4992('0x1c')](express_1['default']['static'](path_1['default'][a87_0x4992('0x18')](__dirname,a87_0x4992('0x23')),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require(a87_0x4992('0x24')));const models_1=__importDefault(require(a87_0x4992('0x25')));const routes_1=__importDefault(require(a87_0x4992('0x26')));const sequelize_utils_1=__importDefault(require(a87_0x4992('0x27')));const models=new models_1[(a87_0x4992('0xb'))](sequelize_1[a87_0x4992('0xb')]);sequelize_utils_1['default'][a87_0x4992('0x28')]=models;routes_1[a87_0x4992('0xb')](app,passport_1[a87_0x4992('0xb')],models);require(a87_0x4992('0x29'))(passport_1[a87_0x4992('0xb')],models['usersModel']);sequelize_utils_1['default'][a87_0x4992('0x2a')]=sequelize_1['default'];apiController[a87_0x4992('0x2b')](sequelize_1[a87_0x4992('0xb')]);const options={'exclude':['id',a87_0x4992('0x2c'),'updatedAt','deletedAt',a87_0x4992('0x2d'),a87_0x4992('0x2e'),'deleted_at'],'userModel':a87_0x4992('0x2f'),'revisionAttribute':'revision','revisionModel':a87_0x4992('0x30'),'revisionChangeModel':a87_0x4992('0x31'),'enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':a87_0x4992('0x32'),'revisionId':a87_0x4992('0x33')},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':a87_0x4992('0x34'),'continuationKey':a87_0x4992('0x35')};const PaperTrail=require(a87_0x4992('0x36'))[a87_0x4992('0x37')](sequelize_1[a87_0x4992('0xb')],options);PaperTrail[a87_0x4992('0x38')]({});app['get'](a87_0x4992('0x39'),apiController[a87_0x4992('0x3a')]);app[a87_0x4992('0x3b')](a87_0x4992('0x3c'),apiController[a87_0x4992('0x3d')]);app['get'](a87_0x4992('0x3e'),apiController['processFtp']);app[a87_0x4992('0x3b')]('/api/getPassCounting/:direction',apiController[a87_0x4992('0x3f')]);app[a87_0x4992('0x3b')]('/api/getPassCountingByDay/:direction',apiController[a87_0x4992('0x40')]);app[a87_0x4992('0x3b')](a87_0x4992('0x41'),apiController[a87_0x4992('0x42')]);exports['default']=app;