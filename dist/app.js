var a194_0x270b=['./app/controllers','models','controllers','./config/passport','usersModel','setSequelize','createdAt','updatedAt','created_at','deleted_at','revision','revision_change','document_id','current_user_request','user_id','sequelize-paper-trail','defineModels','/api/syncftp','syncFtp','/api/downloadFtp','downloadFtp','/api/processFtp','processFtp','get','/api/getPassCountingByDay/:direction','getPassCountingByDay','getPassCountingByHour','__importDefault','__importStar','__esModule','hasOwnProperty','call','default','defineProperty','compression','body-parser','./util/logger','lusca','dotenv','express-flash','path','passport','express-validator','cors','existsSync','debug','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','.env','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','.env.example','./controllers/api','set','port','env','PORT','views','join','../views','pug','use','json','10mb','options','initialize','session','xframe','SAMEORIGIN','xssProtection','locals','user','static','public','./config/sequelize','./app/models','./app/routes'];(function(_0x34c553,_0xa5fb68){var _0x3ff812=function(_0x4dc891){while(--_0x4dc891){_0x34c553['push'](_0x34c553['shift']());}};_0x3ff812(++_0xa5fb68);}(a194_0x270b,0xff));var a194_0x26e2=function(_0x2dc561,_0x2c3fda){_0x2dc561=_0x2dc561-0x0;var _0x1f0924=a194_0x270b[_0x2dc561];return _0x1f0924;};'use strict';var __importDefault=this&&this[a194_0x26e2('0x0')]||function(_0x4cb4a7){return _0x4cb4a7&&_0x4cb4a7['__esModule']?_0x4cb4a7:{'default':_0x4cb4a7};};var __importStar=this&&this[a194_0x26e2('0x1')]||function(_0x2d3d07){if(_0x2d3d07&&_0x2d3d07[a194_0x26e2('0x2')])return _0x2d3d07;var _0x1215f2={};if(_0x2d3d07!=null)for(var _0x1b5fcf in _0x2d3d07)if(Object[a194_0x26e2('0x3')][a194_0x26e2('0x4')](_0x2d3d07,_0x1b5fcf))_0x1215f2[_0x1b5fcf]=_0x2d3d07[_0x1b5fcf];_0x1215f2[a194_0x26e2('0x5')]=_0x2d3d07;return _0x1215f2;};Object[a194_0x26e2('0x6')](exports,a194_0x26e2('0x2'),{'value':!![]});const express_1=__importDefault(require('express'));const compression_1=__importDefault(require(a194_0x26e2('0x7')));const body_parser_1=__importDefault(require(a194_0x26e2('0x8')));const logger_1=__importDefault(require(a194_0x26e2('0x9')));const lusca_1=__importDefault(require(a194_0x26e2('0xa')));const dotenv_1=__importDefault(require(a194_0x26e2('0xb')));const express_flash_1=__importDefault(require(a194_0x26e2('0xc')));const path_1=__importDefault(require(a194_0x26e2('0xd')));const passport_1=__importDefault(require(a194_0x26e2('0xe')));const express_validator_1=__importDefault(require(a194_0x26e2('0xf')));const fs_1=__importDefault(require('fs'));const cors=require(a194_0x26e2('0x10'));if(fs_1['default'][a194_0x26e2('0x11')]('.env')){logger_1['default'][a194_0x26e2('0x12')](a194_0x26e2('0x13'));dotenv_1[a194_0x26e2('0x5')]['config']({'path':a194_0x26e2('0x14')});}else{logger_1[a194_0x26e2('0x5')][a194_0x26e2('0x12')](a194_0x26e2('0x15'));dotenv_1['default'][a194_0x26e2('0x16')]({'path':a194_0x26e2('0x17')});}const apiController=__importStar(require(a194_0x26e2('0x18')));const app=express_1[a194_0x26e2('0x5')]();app[a194_0x26e2('0x19')](a194_0x26e2('0x1a'),process[a194_0x26e2('0x1b')][a194_0x26e2('0x1c')]||0xbb8);app['set'](a194_0x26e2('0x1d'),path_1[a194_0x26e2('0x5')][a194_0x26e2('0x1e')](__dirname,a194_0x26e2('0x1f')));app['set']('view\x20engine',a194_0x26e2('0x20'));app['use'](compression_1[a194_0x26e2('0x5')]());app[a194_0x26e2('0x21')](body_parser_1[a194_0x26e2('0x5')][a194_0x26e2('0x22')]({'limit':a194_0x26e2('0x23')}));app['use'](body_parser_1[a194_0x26e2('0x5')]['urlencoded']({'limit':'10mb','extended':!![]}));app[a194_0x26e2('0x21')](cors());app[a194_0x26e2('0x21')](cors({'origin':!![]}));app[a194_0x26e2('0x24')]('*',cors());app['use'](express_validator_1[a194_0x26e2('0x5')]());app['use'](passport_1[a194_0x26e2('0x5')][a194_0x26e2('0x25')]());app[a194_0x26e2('0x21')](passport_1[a194_0x26e2('0x5')][a194_0x26e2('0x26')]());app[a194_0x26e2('0x21')](express_flash_1[a194_0x26e2('0x5')]());app[a194_0x26e2('0x21')](lusca_1[a194_0x26e2('0x5')][a194_0x26e2('0x27')](a194_0x26e2('0x28')));app[a194_0x26e2('0x21')](lusca_1[a194_0x26e2('0x5')][a194_0x26e2('0x29')](!![]));app[a194_0x26e2('0x21')]((_0x2deb28,_0x3a3d1b,_0x58f1c2)=>{_0x3a3d1b[a194_0x26e2('0x2a')][a194_0x26e2('0x2b')]=_0x2deb28[a194_0x26e2('0x2b')];_0x58f1c2();});app[a194_0x26e2('0x21')]((_0x2faa1d,_0x126489,_0x3d6c79)=>{_0x3d6c79();});app['use'](express_1[a194_0x26e2('0x5')][a194_0x26e2('0x2c')](path_1['default'][a194_0x26e2('0x1e')](__dirname,a194_0x26e2('0x2d')),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require(a194_0x26e2('0x2e')));const models_1=__importDefault(require(a194_0x26e2('0x2f')));const routes_1=__importDefault(require(a194_0x26e2('0x30')));const sequelize_utils_1=__importDefault(require('./infrastructure/sequelize-utils'));const controllers_1=__importDefault(require(a194_0x26e2('0x31')));const models=new models_1[(a194_0x26e2('0x5'))](sequelize_1[a194_0x26e2('0x5')]);const controllers=new controllers_1['default'](models);sequelize_utils_1['default'][a194_0x26e2('0x32')]=models;sequelize_utils_1[a194_0x26e2('0x5')][a194_0x26e2('0x33')]=controllers;routes_1[a194_0x26e2('0x5')](app,passport_1[a194_0x26e2('0x5')],models,controllers);require(a194_0x26e2('0x34'))(passport_1[a194_0x26e2('0x5')],models[a194_0x26e2('0x35')]);sequelize_utils_1['default']['instance']=sequelize_1['default'];apiController[a194_0x26e2('0x36')](sequelize_1[a194_0x26e2('0x5')]);const options={'exclude':['id',a194_0x26e2('0x37'),a194_0x26e2('0x38'),'deletedAt',a194_0x26e2('0x39'),'updated_at',a194_0x26e2('0x3a')],'userModel':'users','revisionAttribute':a194_0x26e2('0x3b'),'revisionModel':a194_0x26e2('0x3b'),'revisionChangeModel':a194_0x26e2('0x3c'),'enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':a194_0x26e2('0x3d'),'revisionId':'revision_id'},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':a194_0x26e2('0x3e'),'continuationKey':a194_0x26e2('0x3f')};const PaperTrail=require(a194_0x26e2('0x40'))['init'](sequelize_1['default'],options);PaperTrail[a194_0x26e2('0x41')]({});app['get'](a194_0x26e2('0x42'),apiController[a194_0x26e2('0x43')]);app['get'](a194_0x26e2('0x44'),apiController[a194_0x26e2('0x45')]);app['get'](a194_0x26e2('0x46'),apiController[a194_0x26e2('0x47')]);app[a194_0x26e2('0x48')]('/api/getPassCounting/:direction',apiController['getPassCounting']);app[a194_0x26e2('0x48')](a194_0x26e2('0x49'),apiController[a194_0x26e2('0x4a')]);app[a194_0x26e2('0x48')]('/api/getPassCountingByHour/:direction',apiController[a194_0x26e2('0x4b')]);exports[a194_0x26e2('0x5')]=app;