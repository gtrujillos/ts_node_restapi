var a194_0x5cee=['/api/getPassCountingByHour/:direction','getPassCountingByHour','__importDefault','__esModule','__importStar','hasOwnProperty','defineProperty','express','express-flash','path','passport','express-validator','cors','existsSync','.env','default','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','debug','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','.env.example','./controllers/api','port','env','PORT','set','views','join','../views','view\x20engine','pug','use','json','urlencoded','initialize','xssProtection','locals','user','static','public','./config/sequelize','./app/models','./app/routes','./app/controllers','models','usersModel','instance','setSequelize','createdAt','updatedAt','deletedAt','created_at','updated_at','users','revision','revision_change','document_id','current_user_request','init','defineModels','get','syncFtp','/api/downloadFtp','downloadFtp','getPassCounting','/api/getPassCountingByDay/:direction','getPassCountingByDay'];(function(_0x41a4ea,_0x5712a3){var _0x3ce1ee=function(_0x4c8200){while(--_0x4c8200){_0x41a4ea['push'](_0x41a4ea['shift']());}};_0x3ce1ee(++_0x5712a3);}(a194_0x5cee,0x151));var a194_0x4fff=function(_0x171c95,_0x56f7b0){_0x171c95=_0x171c95-0x0;var _0x557aca=a194_0x5cee[_0x171c95];return _0x557aca;};'use strict';var __importDefault=this&&this[a194_0x4fff('0x0')]||function(_0x245219){return _0x245219&&_0x245219[a194_0x4fff('0x1')]?_0x245219:{'default':_0x245219};};var __importStar=this&&this[a194_0x4fff('0x2')]||function(_0x4a6780){if(_0x4a6780&&_0x4a6780[a194_0x4fff('0x1')])return _0x4a6780;var _0x582cbf={};if(_0x4a6780!=null)for(var _0x370d5a in _0x4a6780)if(Object[a194_0x4fff('0x3')]['call'](_0x4a6780,_0x370d5a))_0x582cbf[_0x370d5a]=_0x4a6780[_0x370d5a];_0x582cbf['default']=_0x4a6780;return _0x582cbf;};Object[a194_0x4fff('0x4')](exports,'__esModule',{'value':!![]});const express_1=__importDefault(require(a194_0x4fff('0x5')));const compression_1=__importDefault(require('compression'));const body_parser_1=__importDefault(require('body-parser'));const logger_1=__importDefault(require('./util/logger'));const lusca_1=__importDefault(require('lusca'));const dotenv_1=__importDefault(require('dotenv'));const express_flash_1=__importDefault(require(a194_0x4fff('0x6')));const path_1=__importDefault(require(a194_0x4fff('0x7')));const passport_1=__importDefault(require(a194_0x4fff('0x8')));const express_validator_1=__importDefault(require(a194_0x4fff('0x9')));const fs_1=__importDefault(require('fs'));const cors=require(a194_0x4fff('0xa'));if(fs_1['default'][a194_0x4fff('0xb')](a194_0x4fff('0xc'))){logger_1[a194_0x4fff('0xd')]['debug'](a194_0x4fff('0xe'));dotenv_1[a194_0x4fff('0xd')][a194_0x4fff('0xf')]({'path':'.env'});}else{logger_1[a194_0x4fff('0xd')][a194_0x4fff('0x10')](a194_0x4fff('0x11'));dotenv_1['default'][a194_0x4fff('0xf')]({'path':a194_0x4fff('0x12')});}const apiController=__importStar(require(a194_0x4fff('0x13')));const app=express_1['default']();app['set'](a194_0x4fff('0x14'),process[a194_0x4fff('0x15')][a194_0x4fff('0x16')]||0xbb8);app[a194_0x4fff('0x17')](a194_0x4fff('0x18'),path_1[a194_0x4fff('0xd')][a194_0x4fff('0x19')](__dirname,a194_0x4fff('0x1a')));app[a194_0x4fff('0x17')](a194_0x4fff('0x1b'),a194_0x4fff('0x1c'));app['use'](compression_1[a194_0x4fff('0xd')]());app[a194_0x4fff('0x1d')](body_parser_1['default'][a194_0x4fff('0x1e')]({'limit':'10mb'}));app[a194_0x4fff('0x1d')](body_parser_1['default'][a194_0x4fff('0x1f')]({'limit':'10mb','extended':!![]}));app[a194_0x4fff('0x1d')](cors());app[a194_0x4fff('0x1d')](express_validator_1[a194_0x4fff('0xd')]());app[a194_0x4fff('0x1d')](passport_1[a194_0x4fff('0xd')][a194_0x4fff('0x20')]());app[a194_0x4fff('0x1d')](passport_1[a194_0x4fff('0xd')]['session']());app[a194_0x4fff('0x1d')](express_flash_1['default']());app[a194_0x4fff('0x1d')](lusca_1[a194_0x4fff('0xd')]['xframe']('SAMEORIGIN'));app[a194_0x4fff('0x1d')](lusca_1[a194_0x4fff('0xd')][a194_0x4fff('0x21')](!![]));app[a194_0x4fff('0x1d')]((_0x385b16,_0x2cbd7a,_0x18e1d8)=>{_0x2cbd7a[a194_0x4fff('0x22')][a194_0x4fff('0x23')]=_0x385b16[a194_0x4fff('0x23')];_0x18e1d8();});app[a194_0x4fff('0x1d')]((_0x502fcb,_0x347d10,_0x537c5f)=>{_0x537c5f();});app['use'](express_1[a194_0x4fff('0xd')][a194_0x4fff('0x24')](path_1[a194_0x4fff('0xd')][a194_0x4fff('0x19')](__dirname,a194_0x4fff('0x25')),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require(a194_0x4fff('0x26')));const models_1=__importDefault(require(a194_0x4fff('0x27')));const routes_1=__importDefault(require(a194_0x4fff('0x28')));const sequelize_utils_1=__importDefault(require('./infrastructure/sequelize-utils'));const controllers_1=__importDefault(require(a194_0x4fff('0x29')));const models=new models_1['default'](sequelize_1[a194_0x4fff('0xd')]);const controllers=new controllers_1[(a194_0x4fff('0xd'))](models);sequelize_utils_1['default'][a194_0x4fff('0x2a')]=models;sequelize_utils_1[a194_0x4fff('0xd')]['controllers']=controllers;routes_1['default'](app,passport_1['default'],models,controllers);require('./config/passport')(passport_1[a194_0x4fff('0xd')],models[a194_0x4fff('0x2b')]);sequelize_utils_1[a194_0x4fff('0xd')][a194_0x4fff('0x2c')]=sequelize_1[a194_0x4fff('0xd')];apiController[a194_0x4fff('0x2d')](sequelize_1['default']);const options={'exclude':['id',a194_0x4fff('0x2e'),a194_0x4fff('0x2f'),a194_0x4fff('0x30'),a194_0x4fff('0x31'),a194_0x4fff('0x32'),'deleted_at'],'userModel':a194_0x4fff('0x33'),'revisionAttribute':a194_0x4fff('0x34'),'revisionModel':a194_0x4fff('0x34'),'revisionChangeModel':a194_0x4fff('0x35'),'enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':a194_0x4fff('0x36'),'revisionId':'revision_id'},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':a194_0x4fff('0x37'),'continuationKey':'user_id'};const PaperTrail=require('sequelize-paper-trail')[a194_0x4fff('0x38')](sequelize_1[a194_0x4fff('0xd')],options);PaperTrail[a194_0x4fff('0x39')]({});app[a194_0x4fff('0x3a')]('/api/syncftp',apiController[a194_0x4fff('0x3b')]);app[a194_0x4fff('0x3a')](a194_0x4fff('0x3c'),apiController[a194_0x4fff('0x3d')]);app[a194_0x4fff('0x3a')]('/api/processFtp',apiController['processFtp']);app[a194_0x4fff('0x3a')]('/api/getPassCounting/:direction',apiController[a194_0x4fff('0x3e')]);app[a194_0x4fff('0x3a')](a194_0x4fff('0x3f'),apiController[a194_0x4fff('0x40')]);app[a194_0x4fff('0x3a')](a194_0x4fff('0x41'),apiController[a194_0x4fff('0x42')]);exports[a194_0x4fff('0xd')]=app;