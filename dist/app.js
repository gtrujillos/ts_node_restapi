var a194_0x8186=['join','../views','view\x20engine','pug','use','json','10mb','urlencoded','initialize','session','xframe','xssProtection','user','static','public','./config/sequelize','./app/models','./infrastructure/sequelize-utils','./app/controllers','controllers','usersModel','instance','setSequelize','createdAt','updatedAt','deletedAt','updated_at','deleted_at','users','revision','document_id','revision_id','current_user_request','user_id','sequelize-paper-trail','init','get','/api/syncftp','syncFtp','/api/downloadFtp','/api/processFtp','processFtp','/api/getPassCounting/:direction','getPassCounting','/api/getPassCountingByDay/:direction','getPassCountingByDay','__importDefault','__esModule','__importStar','default','defineProperty','express','compression','./util/logger','dotenv','path','express-validator','cors','.env','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','debug','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','.env.example','set','port','PORT'];(function(_0x2a9b01,_0x522f6d){var _0x639874=function(_0x3aaaec){while(--_0x3aaaec){_0x2a9b01['push'](_0x2a9b01['shift']());}};_0x639874(++_0x522f6d);}(a194_0x8186,0x178));var a194_0x55d0=function(_0x5ca2c6,_0x2e2a1e){_0x5ca2c6=_0x5ca2c6-0x0;var _0x3c9ed8=a194_0x8186[_0x5ca2c6];return _0x3c9ed8;};'use strict';var __importDefault=this&&this[a194_0x55d0('0x0')]||function(_0x31b0b5){return _0x31b0b5&&_0x31b0b5[a194_0x55d0('0x1')]?_0x31b0b5:{'default':_0x31b0b5};};var __importStar=this&&this[a194_0x55d0('0x2')]||function(_0x394e30){if(_0x394e30&&_0x394e30[a194_0x55d0('0x1')])return _0x394e30;var _0x1b7a16={};if(_0x394e30!=null)for(var _0x559f5e in _0x394e30)if(Object['hasOwnProperty']['call'](_0x394e30,_0x559f5e))_0x1b7a16[_0x559f5e]=_0x394e30[_0x559f5e];_0x1b7a16[a194_0x55d0('0x3')]=_0x394e30;return _0x1b7a16;};Object[a194_0x55d0('0x4')](exports,'__esModule',{'value':!![]});const express_1=__importDefault(require(a194_0x55d0('0x5')));const compression_1=__importDefault(require(a194_0x55d0('0x6')));const body_parser_1=__importDefault(require('body-parser'));const logger_1=__importDefault(require(a194_0x55d0('0x7')));const lusca_1=__importDefault(require('lusca'));const dotenv_1=__importDefault(require(a194_0x55d0('0x8')));const express_flash_1=__importDefault(require('express-flash'));const path_1=__importDefault(require(a194_0x55d0('0x9')));const passport_1=__importDefault(require('passport'));const express_validator_1=__importDefault(require(a194_0x55d0('0xa')));const fs_1=__importDefault(require('fs'));const cors=require(a194_0x55d0('0xb'));if(fs_1['default']['existsSync'](a194_0x55d0('0xc'))){logger_1['default']['debug'](a194_0x55d0('0xd'));dotenv_1['default']['config']({'path':'.env'});}else{logger_1['default'][a194_0x55d0('0xe')](a194_0x55d0('0xf'));dotenv_1['default']['config']({'path':a194_0x55d0('0x10')});}const apiController=__importStar(require('./controllers/api'));const app=express_1[a194_0x55d0('0x3')]();app[a194_0x55d0('0x11')](a194_0x55d0('0x12'),process['env'][a194_0x55d0('0x13')]||0xbb8);app[a194_0x55d0('0x11')]('views',path_1[a194_0x55d0('0x3')][a194_0x55d0('0x14')](__dirname,a194_0x55d0('0x15')));app['set'](a194_0x55d0('0x16'),a194_0x55d0('0x17'));app[a194_0x55d0('0x18')](compression_1['default']());app[a194_0x55d0('0x18')](body_parser_1[a194_0x55d0('0x3')][a194_0x55d0('0x19')]({'limit':a194_0x55d0('0x1a')}));app[a194_0x55d0('0x18')](body_parser_1[a194_0x55d0('0x3')][a194_0x55d0('0x1b')]({'limit':'10mb','extended':!![]}));app['use'](cors());app[a194_0x55d0('0x18')](express_validator_1['default']());app['use'](passport_1[a194_0x55d0('0x3')][a194_0x55d0('0x1c')]());app['use'](passport_1['default'][a194_0x55d0('0x1d')]());app[a194_0x55d0('0x18')](express_flash_1[a194_0x55d0('0x3')]());app[a194_0x55d0('0x18')](lusca_1[a194_0x55d0('0x3')][a194_0x55d0('0x1e')]('SAMEORIGIN'));app[a194_0x55d0('0x18')](lusca_1[a194_0x55d0('0x3')][a194_0x55d0('0x1f')](!![]));app[a194_0x55d0('0x18')]((_0x1b59e0,_0x988cd2,_0xce310a)=>{_0x988cd2['locals']['user']=_0x1b59e0[a194_0x55d0('0x20')];_0xce310a();});app[a194_0x55d0('0x18')]((_0x31dc64,_0x4b867e,_0x389ed6)=>{_0x389ed6();});app[a194_0x55d0('0x18')](express_1[a194_0x55d0('0x3')][a194_0x55d0('0x21')](path_1['default'][a194_0x55d0('0x14')](__dirname,a194_0x55d0('0x22')),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require(a194_0x55d0('0x23')));const models_1=__importDefault(require(a194_0x55d0('0x24')));const routes_1=__importDefault(require('./app/routes'));const sequelize_utils_1=__importDefault(require(a194_0x55d0('0x25')));const controllers_1=__importDefault(require(a194_0x55d0('0x26')));const models=new models_1['default'](sequelize_1[a194_0x55d0('0x3')]);const controllers=new controllers_1['default'](models);sequelize_utils_1[a194_0x55d0('0x3')]['models']=models;sequelize_utils_1[a194_0x55d0('0x3')][a194_0x55d0('0x27')]=controllers;routes_1[a194_0x55d0('0x3')](app,passport_1[a194_0x55d0('0x3')],models,controllers);require('./config/passport')(passport_1[a194_0x55d0('0x3')],models[a194_0x55d0('0x28')]);sequelize_utils_1[a194_0x55d0('0x3')][a194_0x55d0('0x29')]=sequelize_1[a194_0x55d0('0x3')];apiController[a194_0x55d0('0x2a')](sequelize_1['default']);const options={'exclude':['id',a194_0x55d0('0x2b'),a194_0x55d0('0x2c'),a194_0x55d0('0x2d'),'created_at',a194_0x55d0('0x2e'),a194_0x55d0('0x2f')],'userModel':a194_0x55d0('0x30'),'revisionAttribute':'revision','revisionModel':a194_0x55d0('0x31'),'revisionChangeModel':'revision_change','enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':a194_0x55d0('0x32'),'revisionId':a194_0x55d0('0x33')},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':a194_0x55d0('0x34'),'continuationKey':a194_0x55d0('0x35')};const PaperTrail=require(a194_0x55d0('0x36'))[a194_0x55d0('0x37')](sequelize_1[a194_0x55d0('0x3')],options);PaperTrail['defineModels']({});app[a194_0x55d0('0x38')](a194_0x55d0('0x39'),apiController[a194_0x55d0('0x3a')]);app[a194_0x55d0('0x38')](a194_0x55d0('0x3b'),apiController['downloadFtp']);app[a194_0x55d0('0x38')](a194_0x55d0('0x3c'),apiController[a194_0x55d0('0x3d')]);app['get'](a194_0x55d0('0x3e'),apiController[a194_0x55d0('0x3f')]);app[a194_0x55d0('0x38')](a194_0x55d0('0x40'),apiController[a194_0x55d0('0x41')]);app['get']('/api/getPassCountingByHour/:direction',apiController['getPassCountingByHour']);exports[a194_0x55d0('0x3')]=app;