var a88_0x10d4=['express','body-parser','./util/logger','lusca','dotenv','express-flash','path','express-validator','default','existsSync','.env','debug','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','.env.example','./controllers/api','set','port','env','PORT','views','join','../views','pug','use','json','session','xframe','xssProtection','locals','user','static','public','./app/models','./app/routes','./infrastructure/sequelize-utils','./app/controllers','models','./config/passport','instance','setSequelize','createdAt','deletedAt','created_at','updated_at','deleted_at','revision','document_id','current_user_request','sequelize-paper-trail','init','defineModels','get','/api/syncftp','syncFtp','downloadFtp','processFtp','/api/getPassCounting/:direction','/api/getPassCountingByDay/:direction','getPassCountingByDay','getPassCountingByHour','__importDefault','__esModule','__importStar','hasOwnProperty','call','defineProperty'];(function(_0x190c9c,_0x597443){var _0xa14379=function(_0xacee78){while(--_0xacee78){_0x190c9c['push'](_0x190c9c['shift']());}};_0xa14379(++_0x597443);}(a88_0x10d4,0x14e));var a88_0xda2d=function(_0x2b70ce,_0x3f9da6){_0x2b70ce=_0x2b70ce-0x0;var _0x37f0b5=a88_0x10d4[_0x2b70ce];return _0x37f0b5;};'use strict';var __importDefault=this&&this[a88_0xda2d('0x0')]||function(_0x445840){return _0x445840&&_0x445840[a88_0xda2d('0x1')]?_0x445840:{'default':_0x445840};};var __importStar=this&&this[a88_0xda2d('0x2')]||function(_0x3c666f){if(_0x3c666f&&_0x3c666f[a88_0xda2d('0x1')])return _0x3c666f;var _0x1f4771={};if(_0x3c666f!=null)for(var _0x5c6e43 in _0x3c666f)if(Object[a88_0xda2d('0x3')][a88_0xda2d('0x4')](_0x3c666f,_0x5c6e43))_0x1f4771[_0x5c6e43]=_0x3c666f[_0x5c6e43];_0x1f4771['default']=_0x3c666f;return _0x1f4771;};Object[a88_0xda2d('0x5')](exports,a88_0xda2d('0x1'),{'value':!![]});const express_1=__importDefault(require(a88_0xda2d('0x6')));const compression_1=__importDefault(require('compression'));const body_parser_1=__importDefault(require(a88_0xda2d('0x7')));const logger_1=__importDefault(require(a88_0xda2d('0x8')));const lusca_1=__importDefault(require(a88_0xda2d('0x9')));const dotenv_1=__importDefault(require(a88_0xda2d('0xa')));const express_flash_1=__importDefault(require(a88_0xda2d('0xb')));const path_1=__importDefault(require(a88_0xda2d('0xc')));const passport_1=__importDefault(require('passport'));const express_validator_1=__importDefault(require(a88_0xda2d('0xd')));const fs_1=__importDefault(require('fs'));if(fs_1[a88_0xda2d('0xe')][a88_0xda2d('0xf')](a88_0xda2d('0x10'))){logger_1[a88_0xda2d('0xe')][a88_0xda2d('0x11')](a88_0xda2d('0x12'));dotenv_1[a88_0xda2d('0xe')][a88_0xda2d('0x13')]({'path':'.env'});}else{logger_1[a88_0xda2d('0xe')][a88_0xda2d('0x11')](a88_0xda2d('0x14'));dotenv_1['default'][a88_0xda2d('0x13')]({'path':a88_0xda2d('0x15')});}const apiController=__importStar(require(a88_0xda2d('0x16')));const app=express_1[a88_0xda2d('0xe')]();app[a88_0xda2d('0x17')](a88_0xda2d('0x18'),process[a88_0xda2d('0x19')][a88_0xda2d('0x1a')]||0xbb8);app[a88_0xda2d('0x17')](a88_0xda2d('0x1b'),path_1[a88_0xda2d('0xe')][a88_0xda2d('0x1c')](__dirname,a88_0xda2d('0x1d')));app[a88_0xda2d('0x17')]('view\x20engine',a88_0xda2d('0x1e'));app[a88_0xda2d('0x1f')](compression_1[a88_0xda2d('0xe')]());app[a88_0xda2d('0x1f')](body_parser_1['default'][a88_0xda2d('0x20')]());app[a88_0xda2d('0x1f')](body_parser_1[a88_0xda2d('0xe')]['urlencoded']({'extended':!![]}));app[a88_0xda2d('0x1f')](express_validator_1[a88_0xda2d('0xe')]());app[a88_0xda2d('0x1f')](passport_1['default']['initialize']());app[a88_0xda2d('0x1f')](passport_1[a88_0xda2d('0xe')][a88_0xda2d('0x21')]());app['use'](express_flash_1[a88_0xda2d('0xe')]());app[a88_0xda2d('0x1f')](lusca_1[a88_0xda2d('0xe')][a88_0xda2d('0x22')]('SAMEORIGIN'));app[a88_0xda2d('0x1f')](lusca_1[a88_0xda2d('0xe')][a88_0xda2d('0x23')](!![]));app[a88_0xda2d('0x1f')]((_0x3fab40,_0x357ae6,_0x445078)=>{_0x357ae6[a88_0xda2d('0x24')][a88_0xda2d('0x25')]=_0x3fab40[a88_0xda2d('0x25')];_0x445078();});app['use']((_0x3a593b,_0x447ffa,_0x52720)=>{_0x52720();});app['use'](express_1[a88_0xda2d('0xe')][a88_0xda2d('0x26')](path_1[a88_0xda2d('0xe')]['join'](__dirname,a88_0xda2d('0x27')),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require('./config/sequelize'));const models_1=__importDefault(require(a88_0xda2d('0x28')));const routes_1=__importDefault(require(a88_0xda2d('0x29')));const sequelize_utils_1=__importDefault(require(a88_0xda2d('0x2a')));const controllers_1=__importDefault(require(a88_0xda2d('0x2b')));const models=new models_1['default'](sequelize_1[a88_0xda2d('0xe')]);const controllers=new controllers_1[(a88_0xda2d('0xe'))](models);sequelize_utils_1[a88_0xda2d('0xe')][a88_0xda2d('0x2c')]=models;sequelize_utils_1[a88_0xda2d('0xe')]['controllers']=controllers;routes_1[a88_0xda2d('0xe')](app,passport_1[a88_0xda2d('0xe')],models,controllers);require(a88_0xda2d('0x2d'))(passport_1[a88_0xda2d('0xe')],models['usersModel']);sequelize_utils_1['default'][a88_0xda2d('0x2e')]=sequelize_1[a88_0xda2d('0xe')];apiController[a88_0xda2d('0x2f')](sequelize_1[a88_0xda2d('0xe')]);const options={'exclude':['id',a88_0xda2d('0x30'),'updatedAt',a88_0xda2d('0x31'),a88_0xda2d('0x32'),a88_0xda2d('0x33'),a88_0xda2d('0x34')],'userModel':'users','revisionAttribute':'revision','revisionModel':a88_0xda2d('0x35'),'revisionChangeModel':'revision_change','enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':a88_0xda2d('0x36'),'revisionId':'revision_id'},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':a88_0xda2d('0x37'),'continuationKey':'user_id'};const PaperTrail=require(a88_0xda2d('0x38'))[a88_0xda2d('0x39')](sequelize_1[a88_0xda2d('0xe')],options);PaperTrail[a88_0xda2d('0x3a')]({});app[a88_0xda2d('0x3b')](a88_0xda2d('0x3c'),apiController[a88_0xda2d('0x3d')]);app['get']('/api/downloadFtp',apiController[a88_0xda2d('0x3e')]);app[a88_0xda2d('0x3b')]('/api/processFtp',apiController[a88_0xda2d('0x3f')]);app[a88_0xda2d('0x3b')](a88_0xda2d('0x40'),apiController['getPassCounting']);app[a88_0xda2d('0x3b')](a88_0xda2d('0x41'),apiController[a88_0xda2d('0x42')]);app[a88_0xda2d('0x3b')]('/api/getPassCountingByHour/:direction',apiController[a88_0xda2d('0x43')]);exports[a88_0xda2d('0xe')]=app;