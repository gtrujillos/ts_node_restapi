var a88_0x1f68=['updatedAt','created_at','updated_at','revision','revision_change','document_id','revision_id','user_id','sequelize-paper-trail','init','defineModels','/api/syncftp','syncFtp','get','/api/downloadFtp','downloadFtp','/api/processFtp','processFtp','/api/getPassCounting/:direction','getPassCounting','/api/getPassCountingByDay/:direction','getPassCountingByDay','getPassCountingByHour','__importStar','__esModule','hasOwnProperty','call','compression','./util/logger','lusca','dotenv','express-flash','path','passport','express-validator','cors','default','existsSync','.env','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','debug','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','.env.example','set','port','PORT','views','join','view\x20engine','pug','use','SAMEORIGIN','locals','public','./app/models','./infrastructure/sequelize-utils','models','controllers','./config/passport','instance','setSequelize','createdAt'];(function(_0x56c6f7,_0xb72efa){var _0x2136b0=function(_0x3fafeb){while(--_0x3fafeb){_0x56c6f7['push'](_0x56c6f7['shift']());}};_0x2136b0(++_0xb72efa);}(a88_0x1f68,0x95));var a88_0x27b7=function(_0x20899b,_0x158927){_0x20899b=_0x20899b-0x0;var _0x11e731=a88_0x1f68[_0x20899b];return _0x11e731;};'use strict';var __importDefault=this&&this['__importDefault']||function(_0x1c3a83){return _0x1c3a83&&_0x1c3a83['__esModule']?_0x1c3a83:{'default':_0x1c3a83};};var __importStar=this&&this[a88_0x27b7('0x0')]||function(_0x1eac82){if(_0x1eac82&&_0x1eac82[a88_0x27b7('0x1')])return _0x1eac82;var _0xee2dd0={};if(_0x1eac82!=null)for(var _0x4d50ce in _0x1eac82)if(Object[a88_0x27b7('0x2')][a88_0x27b7('0x3')](_0x1eac82,_0x4d50ce))_0xee2dd0[_0x4d50ce]=_0x1eac82[_0x4d50ce];_0xee2dd0['default']=_0x1eac82;return _0xee2dd0;};Object['defineProperty'](exports,a88_0x27b7('0x1'),{'value':!![]});const express_1=__importDefault(require('express'));const compression_1=__importDefault(require(a88_0x27b7('0x4')));const body_parser_1=__importDefault(require('body-parser'));const logger_1=__importDefault(require(a88_0x27b7('0x5')));const lusca_1=__importDefault(require(a88_0x27b7('0x6')));const dotenv_1=__importDefault(require(a88_0x27b7('0x7')));const express_flash_1=__importDefault(require(a88_0x27b7('0x8')));const path_1=__importDefault(require(a88_0x27b7('0x9')));const passport_1=__importDefault(require(a88_0x27b7('0xa')));const express_validator_1=__importDefault(require(a88_0x27b7('0xb')));const fs_1=__importDefault(require('fs'));const cors=require(a88_0x27b7('0xc'));if(fs_1[a88_0x27b7('0xd')][a88_0x27b7('0xe')](a88_0x27b7('0xf'))){logger_1['default']['debug'](a88_0x27b7('0x10'));dotenv_1[a88_0x27b7('0xd')][a88_0x27b7('0x11')]({'path':a88_0x27b7('0xf')});}else{logger_1['default'][a88_0x27b7('0x12')](a88_0x27b7('0x13'));dotenv_1['default'][a88_0x27b7('0x11')]({'path':a88_0x27b7('0x14')});}const apiController=__importStar(require('./controllers/api'));const app=express_1[a88_0x27b7('0xd')]();app[a88_0x27b7('0x15')](a88_0x27b7('0x16'),process['env'][a88_0x27b7('0x17')]||0xbb8);app[a88_0x27b7('0x15')](a88_0x27b7('0x18'),path_1[a88_0x27b7('0xd')][a88_0x27b7('0x19')](__dirname,'../views'));app[a88_0x27b7('0x15')](a88_0x27b7('0x1a'),a88_0x27b7('0x1b'));app[a88_0x27b7('0x1c')](compression_1[a88_0x27b7('0xd')]());app['use'](body_parser_1[a88_0x27b7('0xd')]['json']());app[a88_0x27b7('0x1c')](body_parser_1[a88_0x27b7('0xd')]['urlencoded']({'extended':!![]}));app[a88_0x27b7('0x1c')](express_validator_1['default']());app[a88_0x27b7('0x1c')](passport_1[a88_0x27b7('0xd')]['initialize']());app['use'](passport_1[a88_0x27b7('0xd')]['session']());app['use'](express_flash_1['default']());app[a88_0x27b7('0x1c')](lusca_1['default']['xframe'](a88_0x27b7('0x1d')));app['use'](lusca_1[a88_0x27b7('0xd')]['xssProtection'](!![]));app[a88_0x27b7('0x1c')]((_0x1cd7c4,_0x3e10b3,_0x310a6d)=>{_0x3e10b3[a88_0x27b7('0x1e')]['user']=_0x1cd7c4['user'];_0x310a6d();});app[a88_0x27b7('0x1c')]((_0x5512bb,_0x12b260,_0x31b5f8)=>{_0x31b5f8();});app['use'](express_1[a88_0x27b7('0xd')]['static'](path_1[a88_0x27b7('0xd')]['join'](__dirname,a88_0x27b7('0x1f')),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require('./config/sequelize'));const models_1=__importDefault(require(a88_0x27b7('0x20')));const routes_1=__importDefault(require('./app/routes'));const sequelize_utils_1=__importDefault(require(a88_0x27b7('0x21')));const controllers_1=__importDefault(require('./app/controllers'));const models=new models_1[(a88_0x27b7('0xd'))](sequelize_1['default']);const controllers=new controllers_1[(a88_0x27b7('0xd'))](models);sequelize_utils_1[a88_0x27b7('0xd')][a88_0x27b7('0x22')]=models;sequelize_utils_1[a88_0x27b7('0xd')][a88_0x27b7('0x23')]=controllers;routes_1[a88_0x27b7('0xd')](app,passport_1['default'],models,controllers);require(a88_0x27b7('0x24'))(passport_1[a88_0x27b7('0xd')],models['usersModel']);sequelize_utils_1[a88_0x27b7('0xd')][a88_0x27b7('0x25')]=sequelize_1[a88_0x27b7('0xd')];apiController[a88_0x27b7('0x26')](sequelize_1[a88_0x27b7('0xd')]);const options={'exclude':['id',a88_0x27b7('0x27'),a88_0x27b7('0x28'),'deletedAt',a88_0x27b7('0x29'),a88_0x27b7('0x2a'),'deleted_at'],'userModel':'users','revisionAttribute':a88_0x27b7('0x2b'),'revisionModel':a88_0x27b7('0x2b'),'revisionChangeModel':a88_0x27b7('0x2c'),'enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':a88_0x27b7('0x2d'),'revisionId':a88_0x27b7('0x2e')},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':'current_user_request','continuationKey':a88_0x27b7('0x2f')};const PaperTrail=require(a88_0x27b7('0x30'))[a88_0x27b7('0x31')](sequelize_1[a88_0x27b7('0xd')],options);PaperTrail[a88_0x27b7('0x32')]({});app['get'](a88_0x27b7('0x33'),apiController[a88_0x27b7('0x34')]);app[a88_0x27b7('0x35')](a88_0x27b7('0x36'),apiController[a88_0x27b7('0x37')]);app[a88_0x27b7('0x35')](a88_0x27b7('0x38'),apiController[a88_0x27b7('0x39')]);app[a88_0x27b7('0x35')](a88_0x27b7('0x3a'),apiController[a88_0x27b7('0x3b')]);app[a88_0x27b7('0x35')](a88_0x27b7('0x3c'),apiController[a88_0x27b7('0x3d')]);app[a88_0x27b7('0x35')]('/api/getPassCountingByHour/:direction',apiController[a88_0x27b7('0x3e')]);exports[a88_0x27b7('0xd')]=app;