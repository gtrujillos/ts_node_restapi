var a84_0x572d=['revision_id','user_id','sequelize-paper-trail','init','defineModels','/api/syncftp','syncFtp','/api/downloadFtp','get','/api/processFtp','processFtp','/api/getPassCounting/:direction','/api/getPassCountingByDay/:direction','/api/getPassCountingByHour/:direction','__importDefault','__esModule','call','defineProperty','body-parser','./util/logger','lusca','dotenv','express-flash','path','passport','express-validator','default','existsSync','.env','debug','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','./controllers/api','set','port','env','PORT','views','join','../views','view\x20engine','pug','use','json','urlencoded','initialize','session','xframe','SAMEORIGIN','xssProtection','locals','user','static','public','./app/models','./app/routes','./infrastructure/sequelize-utils','models','./config/passport','usersModel','instance','setSequelize','updatedAt','deletedAt','created_at','updated_at','deleted_at','revision','revision_change','document_id'];(function(_0x2699a9,_0x501e82){var _0x5b6c40=function(_0xa3de42){while(--_0xa3de42){_0x2699a9['push'](_0x2699a9['shift']());}};_0x5b6c40(++_0x501e82);}(a84_0x572d,0x9c));var a84_0x5311=function(_0x45e383,_0x3bc165){_0x45e383=_0x45e383-0x0;var _0x59b198=a84_0x572d[_0x45e383];return _0x59b198;};'use strict';var __importDefault=this&&this[a84_0x5311('0x0')]||function(_0x26500c){return _0x26500c&&_0x26500c[a84_0x5311('0x1')]?_0x26500c:{'default':_0x26500c};};var __importStar=this&&this['__importStar']||function(_0x399686){if(_0x399686&&_0x399686[a84_0x5311('0x1')])return _0x399686;var _0x2aa88c={};if(_0x399686!=null)for(var _0x214e94 in _0x399686)if(Object['hasOwnProperty'][a84_0x5311('0x2')](_0x399686,_0x214e94))_0x2aa88c[_0x214e94]=_0x399686[_0x214e94];_0x2aa88c['default']=_0x399686;return _0x2aa88c;};Object[a84_0x5311('0x3')](exports,'__esModule',{'value':!![]});const express_1=__importDefault(require('express'));const compression_1=__importDefault(require('compression'));const body_parser_1=__importDefault(require(a84_0x5311('0x4')));const logger_1=__importDefault(require(a84_0x5311('0x5')));const lusca_1=__importDefault(require(a84_0x5311('0x6')));const dotenv_1=__importDefault(require(a84_0x5311('0x7')));const express_flash_1=__importDefault(require(a84_0x5311('0x8')));const path_1=__importDefault(require(a84_0x5311('0x9')));const passport_1=__importDefault(require(a84_0x5311('0xa')));const express_validator_1=__importDefault(require(a84_0x5311('0xb')));const fs_1=__importDefault(require('fs'));if(fs_1[a84_0x5311('0xc')][a84_0x5311('0xd')](a84_0x5311('0xe'))){logger_1[a84_0x5311('0xc')][a84_0x5311('0xf')](a84_0x5311('0x10'));dotenv_1[a84_0x5311('0xc')][a84_0x5311('0x11')]({'path':'.env'});}else{logger_1[a84_0x5311('0xc')]['debug'](a84_0x5311('0x12'));dotenv_1[a84_0x5311('0xc')][a84_0x5311('0x11')]({'path':'.env.example'});}const apiController=__importStar(require(a84_0x5311('0x13')));const app=express_1[a84_0x5311('0xc')]();app[a84_0x5311('0x14')](a84_0x5311('0x15'),process[a84_0x5311('0x16')][a84_0x5311('0x17')]||0xbb8);app[a84_0x5311('0x14')](a84_0x5311('0x18'),path_1['default'][a84_0x5311('0x19')](__dirname,a84_0x5311('0x1a')));app[a84_0x5311('0x14')](a84_0x5311('0x1b'),a84_0x5311('0x1c'));app[a84_0x5311('0x1d')](compression_1[a84_0x5311('0xc')]());app[a84_0x5311('0x1d')](body_parser_1[a84_0x5311('0xc')][a84_0x5311('0x1e')]());app[a84_0x5311('0x1d')](body_parser_1['default'][a84_0x5311('0x1f')]({'extended':!![]}));app[a84_0x5311('0x1d')](express_validator_1[a84_0x5311('0xc')]());app[a84_0x5311('0x1d')](passport_1[a84_0x5311('0xc')][a84_0x5311('0x20')]());app[a84_0x5311('0x1d')](passport_1['default'][a84_0x5311('0x21')]());app['use'](express_flash_1['default']());app[a84_0x5311('0x1d')](lusca_1[a84_0x5311('0xc')][a84_0x5311('0x22')](a84_0x5311('0x23')));app[a84_0x5311('0x1d')](lusca_1[a84_0x5311('0xc')][a84_0x5311('0x24')](!![]));app[a84_0x5311('0x1d')]((_0x34368f,_0x15c791,_0x28d10b)=>{_0x15c791[a84_0x5311('0x25')][a84_0x5311('0x26')]=_0x34368f[a84_0x5311('0x26')];_0x28d10b();});app[a84_0x5311('0x1d')]((_0x42328b,_0x1b8e3f,_0x4ace22)=>{_0x4ace22();});app[a84_0x5311('0x1d')](express_1[a84_0x5311('0xc')][a84_0x5311('0x27')](path_1['default'][a84_0x5311('0x19')](__dirname,a84_0x5311('0x28')),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require('./config/sequelize'));const models_1=__importDefault(require(a84_0x5311('0x29')));const routes_1=__importDefault(require(a84_0x5311('0x2a')));const sequelize_utils_1=__importDefault(require(a84_0x5311('0x2b')));const models=new models_1[(a84_0x5311('0xc'))](sequelize_1[a84_0x5311('0xc')]);sequelize_utils_1[a84_0x5311('0xc')][a84_0x5311('0x2c')]=models;routes_1[a84_0x5311('0xc')](app,passport_1[a84_0x5311('0xc')],models);require(a84_0x5311('0x2d'))(passport_1['default'],models[a84_0x5311('0x2e')]);sequelize_utils_1['default'][a84_0x5311('0x2f')]=sequelize_1['default'];apiController[a84_0x5311('0x30')](sequelize_1['default']);const options={'exclude':['id','createdAt',a84_0x5311('0x31'),a84_0x5311('0x32'),a84_0x5311('0x33'),a84_0x5311('0x34'),a84_0x5311('0x35')],'userModel':'users','revisionAttribute':a84_0x5311('0x36'),'revisionModel':a84_0x5311('0x36'),'revisionChangeModel':a84_0x5311('0x37'),'enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':a84_0x5311('0x38'),'revisionId':a84_0x5311('0x39')},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':'current_user_request','continuationKey':a84_0x5311('0x3a')};const PaperTrail=require(a84_0x5311('0x3b'))[a84_0x5311('0x3c')](sequelize_1[a84_0x5311('0xc')],options);PaperTrail[a84_0x5311('0x3d')]({});app['get'](a84_0x5311('0x3e'),apiController[a84_0x5311('0x3f')]);app['get'](a84_0x5311('0x40'),apiController['downloadFtp']);app[a84_0x5311('0x41')](a84_0x5311('0x42'),apiController[a84_0x5311('0x43')]);app[a84_0x5311('0x41')](a84_0x5311('0x44'),apiController['getPassCounting']);app['get'](a84_0x5311('0x45'),apiController['getPassCountingByDay']);app[a84_0x5311('0x41')](a84_0x5311('0x46'),apiController['getPassCountingByHour']);exports[a84_0x5311('0xc')]=app;