var a88_0x1225=['__importStar','hasOwnProperty','call','default','defineProperty','express','compression','body-parser','./util/logger','lusca','express-flash','path','passport','express-validator','existsSync','.env','debug','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','./controllers/api','set','port','env','PORT','views','join','pug','use','json','urlencoded','initialize','session','locals','user','static','public','./config/sequelize','./app/models','./infrastructure/sequelize-utils','models','controllers','./config/passport','usersModel','instance','createdAt','updatedAt','deletedAt','users','revision','revision_change','revision_id','current_user_request','sequelize-paper-trail','init','defineModels','get','/api/syncftp','syncFtp','/api/downloadFtp','downloadFtp','/api/processFtp','processFtp','getPassCounting','/api/getPassCountingByDay/:direction','getPassCountingByDay','/api/getPassCountingByHour/:direction','__importDefault','__esModule'];(function(_0x140139,_0x87c5d5){var _0x42eafd=function(_0x2c4656){while(--_0x2c4656){_0x140139['push'](_0x140139['shift']());}};_0x42eafd(++_0x87c5d5);}(a88_0x1225,0xca));var a88_0x8d2b=function(_0x447609,_0x48b3e8){_0x447609=_0x447609-0x0;var _0x543031=a88_0x1225[_0x447609];return _0x543031;};'use strict';var __importDefault=this&&this[a88_0x8d2b('0x0')]||function(_0x369171){return _0x369171&&_0x369171[a88_0x8d2b('0x1')]?_0x369171:{'default':_0x369171};};var __importStar=this&&this[a88_0x8d2b('0x2')]||function(_0x19f887){if(_0x19f887&&_0x19f887[a88_0x8d2b('0x1')])return _0x19f887;var _0x5d5d2a={};if(_0x19f887!=null)for(var _0x9cb972 in _0x19f887)if(Object[a88_0x8d2b('0x3')][a88_0x8d2b('0x4')](_0x19f887,_0x9cb972))_0x5d5d2a[_0x9cb972]=_0x19f887[_0x9cb972];_0x5d5d2a[a88_0x8d2b('0x5')]=_0x19f887;return _0x5d5d2a;};Object[a88_0x8d2b('0x6')](exports,a88_0x8d2b('0x1'),{'value':!![]});const express_1=__importDefault(require(a88_0x8d2b('0x7')));const compression_1=__importDefault(require(a88_0x8d2b('0x8')));const body_parser_1=__importDefault(require(a88_0x8d2b('0x9')));const logger_1=__importDefault(require(a88_0x8d2b('0xa')));const lusca_1=__importDefault(require(a88_0x8d2b('0xb')));const dotenv_1=__importDefault(require('dotenv'));const express_flash_1=__importDefault(require(a88_0x8d2b('0xc')));const path_1=__importDefault(require(a88_0x8d2b('0xd')));const passport_1=__importDefault(require(a88_0x8d2b('0xe')));const express_validator_1=__importDefault(require(a88_0x8d2b('0xf')));const fs_1=__importDefault(require('fs'));if(fs_1[a88_0x8d2b('0x5')][a88_0x8d2b('0x10')](a88_0x8d2b('0x11'))){logger_1[a88_0x8d2b('0x5')][a88_0x8d2b('0x12')](a88_0x8d2b('0x13'));dotenv_1[a88_0x8d2b('0x5')][a88_0x8d2b('0x14')]({'path':'.env'});}else{logger_1['default']['debug']('Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables');dotenv_1[a88_0x8d2b('0x5')][a88_0x8d2b('0x14')]({'path':'.env.example'});}const apiController=__importStar(require(a88_0x8d2b('0x15')));const app=express_1[a88_0x8d2b('0x5')]();app[a88_0x8d2b('0x16')](a88_0x8d2b('0x17'),process[a88_0x8d2b('0x18')][a88_0x8d2b('0x19')]||0xbb8);app[a88_0x8d2b('0x16')](a88_0x8d2b('0x1a'),path_1[a88_0x8d2b('0x5')][a88_0x8d2b('0x1b')](__dirname,'../views'));app[a88_0x8d2b('0x16')]('view\x20engine',a88_0x8d2b('0x1c'));app['use'](compression_1[a88_0x8d2b('0x5')]());app[a88_0x8d2b('0x1d')](body_parser_1[a88_0x8d2b('0x5')][a88_0x8d2b('0x1e')]());app[a88_0x8d2b('0x1d')](body_parser_1['default'][a88_0x8d2b('0x1f')]({'extended':!![]}));app[a88_0x8d2b('0x1d')](express_validator_1['default']());app[a88_0x8d2b('0x1d')](passport_1[a88_0x8d2b('0x5')][a88_0x8d2b('0x20')]());app[a88_0x8d2b('0x1d')](passport_1[a88_0x8d2b('0x5')][a88_0x8d2b('0x21')]());app['use'](express_flash_1[a88_0x8d2b('0x5')]());app['use'](lusca_1['default']['xframe']('SAMEORIGIN'));app[a88_0x8d2b('0x1d')](lusca_1[a88_0x8d2b('0x5')]['xssProtection'](!![]));app[a88_0x8d2b('0x1d')]((_0x5c9eec,_0x560720,_0x3f4f60)=>{_0x560720[a88_0x8d2b('0x22')][a88_0x8d2b('0x23')]=_0x5c9eec['user'];_0x3f4f60();});app[a88_0x8d2b('0x1d')]((_0x22a9a3,_0x1193b9,_0x440a78)=>{_0x440a78();});app[a88_0x8d2b('0x1d')](express_1[a88_0x8d2b('0x5')][a88_0x8d2b('0x24')](path_1['default'][a88_0x8d2b('0x1b')](__dirname,a88_0x8d2b('0x25')),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require(a88_0x8d2b('0x26')));const models_1=__importDefault(require(a88_0x8d2b('0x27')));const routes_1=__importDefault(require('./app/routes'));const sequelize_utils_1=__importDefault(require(a88_0x8d2b('0x28')));const controllers_1=__importDefault(require('./app/controllers'));const models=new models_1[(a88_0x8d2b('0x5'))](sequelize_1[a88_0x8d2b('0x5')]);const controllers=new controllers_1[(a88_0x8d2b('0x5'))](models);sequelize_utils_1[a88_0x8d2b('0x5')][a88_0x8d2b('0x29')]=models;sequelize_utils_1[a88_0x8d2b('0x5')][a88_0x8d2b('0x2a')]=controllers;routes_1[a88_0x8d2b('0x5')](app,passport_1[a88_0x8d2b('0x5')],models,controllers);require(a88_0x8d2b('0x2b'))(passport_1[a88_0x8d2b('0x5')],models[a88_0x8d2b('0x2c')]);sequelize_utils_1[a88_0x8d2b('0x5')][a88_0x8d2b('0x2d')]=sequelize_1[a88_0x8d2b('0x5')];apiController['setSequelize'](sequelize_1[a88_0x8d2b('0x5')]);const options={'exclude':['id',a88_0x8d2b('0x2e'),a88_0x8d2b('0x2f'),a88_0x8d2b('0x30'),'created_at','updated_at','deleted_at'],'userModel':a88_0x8d2b('0x31'),'revisionAttribute':a88_0x8d2b('0x32'),'revisionModel':a88_0x8d2b('0x32'),'revisionChangeModel':a88_0x8d2b('0x33'),'enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':'document_id','revisionId':a88_0x8d2b('0x34')},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':a88_0x8d2b('0x35'),'continuationKey':'user_id'};const PaperTrail=require(a88_0x8d2b('0x36'))[a88_0x8d2b('0x37')](sequelize_1[a88_0x8d2b('0x5')],options);PaperTrail[a88_0x8d2b('0x38')]({});app[a88_0x8d2b('0x39')](a88_0x8d2b('0x3a'),apiController[a88_0x8d2b('0x3b')]);app[a88_0x8d2b('0x39')](a88_0x8d2b('0x3c'),apiController[a88_0x8d2b('0x3d')]);app['get'](a88_0x8d2b('0x3e'),apiController[a88_0x8d2b('0x3f')]);app[a88_0x8d2b('0x39')]('/api/getPassCounting/:direction',apiController[a88_0x8d2b('0x40')]);app[a88_0x8d2b('0x39')](a88_0x8d2b('0x41'),apiController[a88_0x8d2b('0x42')]);app[a88_0x8d2b('0x39')](a88_0x8d2b('0x43'),apiController['getPassCountingByHour']);exports[a88_0x8d2b('0x5')]=app;