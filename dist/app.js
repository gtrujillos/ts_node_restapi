var a84_0x1417=['express-validator','existsSync','.env','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','debug','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','./controllers/api','set','port','env','PORT','views','../views','view\x20engine','pug','use','json','urlencoded','session','xframe','xssProtection','user','static','public','./config/sequelize','./app/models','./infrastructure/sequelize-utils','models','./config/passport','usersModel','setSequelize','createdAt','updatedAt','deletedAt','created_at','updated_at','deleted_at','revision','revision_change','document_id','revision_id','current_user_request','user_id','sequelize-paper-trail','init','defineModels','get','syncFtp','/api/processFtp','processFtp','/api/getPassCountingByDay/:direction','getPassCountingByDay','/api/getPassCountingByHour/:direction','getPassCountingByHour','__importDefault','__importStar','__esModule','call','default','express','body-parser','./util/logger','express-flash','path'];(function(_0x123432,_0x1213a4){var _0x224098=function(_0x5e3db6){while(--_0x5e3db6){_0x123432['push'](_0x123432['shift']());}};_0x224098(++_0x1213a4);}(a84_0x1417,0xb9));var a84_0x4243=function(_0x1f4970,_0x2bda50){_0x1f4970=_0x1f4970-0x0;var _0x488918=a84_0x1417[_0x1f4970];return _0x488918;};'use strict';var __importDefault=this&&this[a84_0x4243('0x0')]||function(_0x468de3){return _0x468de3&&_0x468de3['__esModule']?_0x468de3:{'default':_0x468de3};};var __importStar=this&&this[a84_0x4243('0x1')]||function(_0x30545a){if(_0x30545a&&_0x30545a[a84_0x4243('0x2')])return _0x30545a;var _0x2a7c44={};if(_0x30545a!=null)for(var _0x590f3f in _0x30545a)if(Object['hasOwnProperty'][a84_0x4243('0x3')](_0x30545a,_0x590f3f))_0x2a7c44[_0x590f3f]=_0x30545a[_0x590f3f];_0x2a7c44[a84_0x4243('0x4')]=_0x30545a;return _0x2a7c44;};Object['defineProperty'](exports,'__esModule',{'value':!![]});const express_1=__importDefault(require(a84_0x4243('0x5')));const compression_1=__importDefault(require('compression'));const body_parser_1=__importDefault(require(a84_0x4243('0x6')));const logger_1=__importDefault(require(a84_0x4243('0x7')));const lusca_1=__importDefault(require('lusca'));const dotenv_1=__importDefault(require('dotenv'));const express_flash_1=__importDefault(require(a84_0x4243('0x8')));const path_1=__importDefault(require(a84_0x4243('0x9')));const passport_1=__importDefault(require('passport'));const express_validator_1=__importDefault(require(a84_0x4243('0xa')));const fs_1=__importDefault(require('fs'));if(fs_1[a84_0x4243('0x4')][a84_0x4243('0xb')](a84_0x4243('0xc'))){logger_1[a84_0x4243('0x4')]['debug'](a84_0x4243('0xd'));dotenv_1[a84_0x4243('0x4')]['config']({'path':a84_0x4243('0xc')});}else{logger_1[a84_0x4243('0x4')][a84_0x4243('0xe')](a84_0x4243('0xf'));dotenv_1[a84_0x4243('0x4')][a84_0x4243('0x10')]({'path':'.env.example'});}const apiController=__importStar(require(a84_0x4243('0x11')));const app=express_1[a84_0x4243('0x4')]();app[a84_0x4243('0x12')](a84_0x4243('0x13'),process[a84_0x4243('0x14')][a84_0x4243('0x15')]||0xbb8);app[a84_0x4243('0x12')](a84_0x4243('0x16'),path_1[a84_0x4243('0x4')]['join'](__dirname,a84_0x4243('0x17')));app[a84_0x4243('0x12')](a84_0x4243('0x18'),a84_0x4243('0x19'));app[a84_0x4243('0x1a')](compression_1['default']());app['use'](body_parser_1['default'][a84_0x4243('0x1b')]());app[a84_0x4243('0x1a')](body_parser_1['default'][a84_0x4243('0x1c')]({'extended':!![]}));app['use'](express_validator_1[a84_0x4243('0x4')]());app[a84_0x4243('0x1a')](passport_1[a84_0x4243('0x4')]['initialize']());app[a84_0x4243('0x1a')](passport_1[a84_0x4243('0x4')][a84_0x4243('0x1d')]());app['use'](express_flash_1[a84_0x4243('0x4')]());app[a84_0x4243('0x1a')](lusca_1[a84_0x4243('0x4')][a84_0x4243('0x1e')]('SAMEORIGIN'));app['use'](lusca_1[a84_0x4243('0x4')][a84_0x4243('0x1f')](!![]));app['use']((_0xac6a9a,_0x2f7a3b,_0x41a752)=>{_0x2f7a3b['locals'][a84_0x4243('0x20')]=_0xac6a9a[a84_0x4243('0x20')];_0x41a752();});app[a84_0x4243('0x1a')]((_0x17f6ae,_0x226c40,_0x1cba12)=>{_0x1cba12();});app[a84_0x4243('0x1a')](express_1[a84_0x4243('0x4')][a84_0x4243('0x21')](path_1[a84_0x4243('0x4')]['join'](__dirname,a84_0x4243('0x22')),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require(a84_0x4243('0x23')));const models_1=__importDefault(require(a84_0x4243('0x24')));const routes_1=__importDefault(require('./app/routes'));const sequelize_utils_1=__importDefault(require(a84_0x4243('0x25')));const models=new models_1[(a84_0x4243('0x4'))](sequelize_1['default']);sequelize_utils_1[a84_0x4243('0x4')][a84_0x4243('0x26')]=models;routes_1[a84_0x4243('0x4')](app,passport_1[a84_0x4243('0x4')],models);require(a84_0x4243('0x27'))(passport_1['default'],models[a84_0x4243('0x28')]);sequelize_utils_1[a84_0x4243('0x4')]['instance']=sequelize_1[a84_0x4243('0x4')];apiController[a84_0x4243('0x29')](sequelize_1[a84_0x4243('0x4')]);const options={'exclude':['id',a84_0x4243('0x2a'),a84_0x4243('0x2b'),a84_0x4243('0x2c'),a84_0x4243('0x2d'),a84_0x4243('0x2e'),a84_0x4243('0x2f')],'userModel':'users','revisionAttribute':'revision','revisionModel':a84_0x4243('0x30'),'revisionChangeModel':a84_0x4243('0x31'),'enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':a84_0x4243('0x32'),'revisionId':a84_0x4243('0x33')},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':a84_0x4243('0x34'),'continuationKey':a84_0x4243('0x35')};const PaperTrail=require(a84_0x4243('0x36'))[a84_0x4243('0x37')](sequelize_1[a84_0x4243('0x4')],options);PaperTrail[a84_0x4243('0x38')]({});app[a84_0x4243('0x39')]('/api/syncftp',apiController[a84_0x4243('0x3a')]);app[a84_0x4243('0x39')]('/api/downloadFtp',apiController['downloadFtp']);app['get'](a84_0x4243('0x3b'),apiController[a84_0x4243('0x3c')]);app[a84_0x4243('0x39')]('/api/getPassCounting/:direction',apiController['getPassCounting']);app[a84_0x4243('0x39')](a84_0x4243('0x3d'),apiController[a84_0x4243('0x3e')]);app[a84_0x4243('0x39')](a84_0x4243('0x3f'),apiController[a84_0x4243('0x40')]);exports[a84_0x4243('0x4')]=app;