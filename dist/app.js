var a88_0x350c=['sequelize-paper-trail','init','defineModels','get','/api/syncftp','/api/downloadFtp','downloadFtp','/api/processFtp','processFtp','/api/getPassCounting/:direction','/api/getPassCountingByDay/:direction','getPassCountingByDay','/api/getPassCountingByHour/:direction','getPassCountingByHour','__importDefault','__esModule','hasOwnProperty','defineProperty','express','compression','body-parser','./util/logger','passport','express-validator','cors','default','existsSync','.env','debug','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','./controllers/api','set','port','env','PORT','views','join','../views','use','json','xframe','SAMEORIGIN','xssProtection','user','static','public','./config/sequelize','./app/models','./app/routes','./infrastructure/sequelize-utils','models','controllers','usersModel','instance','setSequelize','createdAt','created_at','updated_at','revision','revision_id','current_user_request','user_id'];(function(_0x29549c,_0x10488a){var _0x1de351=function(_0x208113){while(--_0x208113){_0x29549c['push'](_0x29549c['shift']());}};_0x1de351(++_0x10488a);}(a88_0x350c,0x14e));var a88_0x48c7=function(_0x2f16f9,_0x1231f5){_0x2f16f9=_0x2f16f9-0x0;var _0x5dc21c=a88_0x350c[_0x2f16f9];return _0x5dc21c;};'use strict';var __importDefault=this&&this[a88_0x48c7('0x0')]||function(_0x9feef1){return _0x9feef1&&_0x9feef1[a88_0x48c7('0x1')]?_0x9feef1:{'default':_0x9feef1};};var __importStar=this&&this['__importStar']||function(_0x739530){if(_0x739530&&_0x739530[a88_0x48c7('0x1')])return _0x739530;var _0x55aeb9={};if(_0x739530!=null)for(var _0x4d7314 in _0x739530)if(Object[a88_0x48c7('0x2')]['call'](_0x739530,_0x4d7314))_0x55aeb9[_0x4d7314]=_0x739530[_0x4d7314];_0x55aeb9['default']=_0x739530;return _0x55aeb9;};Object[a88_0x48c7('0x3')](exports,a88_0x48c7('0x1'),{'value':!![]});const express_1=__importDefault(require(a88_0x48c7('0x4')));const compression_1=__importDefault(require(a88_0x48c7('0x5')));const body_parser_1=__importDefault(require(a88_0x48c7('0x6')));const logger_1=__importDefault(require(a88_0x48c7('0x7')));const lusca_1=__importDefault(require('lusca'));const dotenv_1=__importDefault(require('dotenv'));const express_flash_1=__importDefault(require('express-flash'));const path_1=__importDefault(require('path'));const passport_1=__importDefault(require(a88_0x48c7('0x8')));const express_validator_1=__importDefault(require(a88_0x48c7('0x9')));const fs_1=__importDefault(require('fs'));const cors=require(a88_0x48c7('0xa'));if(fs_1[a88_0x48c7('0xb')][a88_0x48c7('0xc')](a88_0x48c7('0xd'))){logger_1['default'][a88_0x48c7('0xe')](a88_0x48c7('0xf'));dotenv_1['default']['config']({'path':a88_0x48c7('0xd')});}else{logger_1[a88_0x48c7('0xb')][a88_0x48c7('0xe')](a88_0x48c7('0x10'));dotenv_1[a88_0x48c7('0xb')][a88_0x48c7('0x11')]({'path':'.env.example'});}const apiController=__importStar(require(a88_0x48c7('0x12')));const app=express_1['default']();app[a88_0x48c7('0x13')](a88_0x48c7('0x14'),process[a88_0x48c7('0x15')][a88_0x48c7('0x16')]||0xbb8);app[a88_0x48c7('0x13')](a88_0x48c7('0x17'),path_1[a88_0x48c7('0xb')][a88_0x48c7('0x18')](__dirname,a88_0x48c7('0x19')));app['set']('view\x20engine','pug');app[a88_0x48c7('0x1a')](compression_1[a88_0x48c7('0xb')]());app[a88_0x48c7('0x1a')](body_parser_1[a88_0x48c7('0xb')][a88_0x48c7('0x1b')]());app[a88_0x48c7('0x1a')](cors());app[a88_0x48c7('0x1a')](body_parser_1[a88_0x48c7('0xb')]['urlencoded']({'extended':!![]}));app['use'](express_validator_1[a88_0x48c7('0xb')]());app[a88_0x48c7('0x1a')](passport_1[a88_0x48c7('0xb')]['initialize']());app['use'](passport_1[a88_0x48c7('0xb')]['session']());app['use'](express_flash_1[a88_0x48c7('0xb')]());app[a88_0x48c7('0x1a')](lusca_1[a88_0x48c7('0xb')][a88_0x48c7('0x1c')](a88_0x48c7('0x1d')));app[a88_0x48c7('0x1a')](lusca_1[a88_0x48c7('0xb')][a88_0x48c7('0x1e')](!![]));app[a88_0x48c7('0x1a')]((_0x2dafbe,_0x5e6b9f,_0x11c132)=>{_0x5e6b9f['locals'][a88_0x48c7('0x1f')]=_0x2dafbe[a88_0x48c7('0x1f')];_0x11c132();});app[a88_0x48c7('0x1a')]((_0x268d5e,_0x5e38c1,_0x42bae5)=>{_0x42bae5();});app[a88_0x48c7('0x1a')](express_1[a88_0x48c7('0xb')][a88_0x48c7('0x20')](path_1[a88_0x48c7('0xb')][a88_0x48c7('0x18')](__dirname,a88_0x48c7('0x21')),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require(a88_0x48c7('0x22')));const models_1=__importDefault(require(a88_0x48c7('0x23')));const routes_1=__importDefault(require(a88_0x48c7('0x24')));const sequelize_utils_1=__importDefault(require(a88_0x48c7('0x25')));const controllers_1=__importDefault(require('./app/controllers'));const models=new models_1['default'](sequelize_1[a88_0x48c7('0xb')]);const controllers=new controllers_1['default'](models);sequelize_utils_1[a88_0x48c7('0xb')][a88_0x48c7('0x26')]=models;sequelize_utils_1['default'][a88_0x48c7('0x27')]=controllers;routes_1[a88_0x48c7('0xb')](app,passport_1[a88_0x48c7('0xb')],models,controllers);require('./config/passport')(passport_1[a88_0x48c7('0xb')],models[a88_0x48c7('0x28')]);sequelize_utils_1[a88_0x48c7('0xb')][a88_0x48c7('0x29')]=sequelize_1[a88_0x48c7('0xb')];apiController[a88_0x48c7('0x2a')](sequelize_1[a88_0x48c7('0xb')]);const options={'exclude':['id',a88_0x48c7('0x2b'),'updatedAt','deletedAt',a88_0x48c7('0x2c'),a88_0x48c7('0x2d'),'deleted_at'],'userModel':'users','revisionAttribute':'revision','revisionModel':a88_0x48c7('0x2e'),'revisionChangeModel':'revision_change','enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':'document_id','revisionId':a88_0x48c7('0x2f')},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':a88_0x48c7('0x30'),'continuationKey':a88_0x48c7('0x31')};const PaperTrail=require(a88_0x48c7('0x32'))[a88_0x48c7('0x33')](sequelize_1[a88_0x48c7('0xb')],options);PaperTrail[a88_0x48c7('0x34')]({});app[a88_0x48c7('0x35')](a88_0x48c7('0x36'),apiController['syncFtp']);app[a88_0x48c7('0x35')](a88_0x48c7('0x37'),apiController[a88_0x48c7('0x38')]);app['get'](a88_0x48c7('0x39'),apiController[a88_0x48c7('0x3a')]);app[a88_0x48c7('0x35')](a88_0x48c7('0x3b'),apiController['getPassCounting']);app['get'](a88_0x48c7('0x3c'),apiController[a88_0x48c7('0x3d')]);app['get'](a88_0x48c7('0x3e'),apiController[a88_0x48c7('0x3f')]);exports[a88_0x48c7('0xb')]=app;