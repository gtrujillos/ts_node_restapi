var a194_0x18c6=['revision_change','revision_id','current_user_request','sequelize-paper-trail','defineModels','get','syncFtp','downloadFtp','/api/processFtp','processFtp','getPassCounting','getPassCountingByDay','getPassCountingByHour','__importDefault','__esModule','hasOwnProperty','call','default','express','compression','body-parser','./util/logger','dotenv','express-flash','path','passport','express-validator','existsSync','.env','debug','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','.env.example','./controllers/api','env','PORT','set','views','join','../views','view\x20engine','pug','use','json','10mb','urlencoded','session','xframe','SAMEORIGIN','xssProtection','locals','user','static','public','./config/sequelize','./app/models','./app/routes','./infrastructure/sequelize-utils','./app/controllers','models','controllers','./config/passport','usersModel','instance','setSequelize','createdAt','updatedAt','deletedAt','users','revision'];(function(_0x15f92,_0x4da07b){var _0x2eb27d=function(_0xd84776){while(--_0xd84776){_0x15f92['push'](_0x15f92['shift']());}};_0x2eb27d(++_0x4da07b);}(a194_0x18c6,0x170));var a194_0x982f=function(_0x40bf5c,_0x351722){_0x40bf5c=_0x40bf5c-0x0;var _0x10e77e=a194_0x18c6[_0x40bf5c];return _0x10e77e;};'use strict';var __importDefault=this&&this[a194_0x982f('0x0')]||function(_0x1cda39){return _0x1cda39&&_0x1cda39[a194_0x982f('0x1')]?_0x1cda39:{'default':_0x1cda39};};var __importStar=this&&this['__importStar']||function(_0x1495b8){if(_0x1495b8&&_0x1495b8[a194_0x982f('0x1')])return _0x1495b8;var _0x49cdb1={};if(_0x1495b8!=null)for(var _0x104d7a in _0x1495b8)if(Object[a194_0x982f('0x2')][a194_0x982f('0x3')](_0x1495b8,_0x104d7a))_0x49cdb1[_0x104d7a]=_0x1495b8[_0x104d7a];_0x49cdb1[a194_0x982f('0x4')]=_0x1495b8;return _0x49cdb1;};Object['defineProperty'](exports,a194_0x982f('0x1'),{'value':!![]});const express_1=__importDefault(require(a194_0x982f('0x5')));const compression_1=__importDefault(require(a194_0x982f('0x6')));const body_parser_1=__importDefault(require(a194_0x982f('0x7')));const logger_1=__importDefault(require(a194_0x982f('0x8')));const lusca_1=__importDefault(require('lusca'));const dotenv_1=__importDefault(require(a194_0x982f('0x9')));const express_flash_1=__importDefault(require(a194_0x982f('0xa')));const path_1=__importDefault(require(a194_0x982f('0xb')));const passport_1=__importDefault(require(a194_0x982f('0xc')));const express_validator_1=__importDefault(require(a194_0x982f('0xd')));const fs_1=__importDefault(require('fs'));const cors=require('cors');if(fs_1[a194_0x982f('0x4')][a194_0x982f('0xe')](a194_0x982f('0xf'))){logger_1['default'][a194_0x982f('0x10')](a194_0x982f('0x11'));dotenv_1['default'][a194_0x982f('0x12')]({'path':a194_0x982f('0xf')});}else{logger_1[a194_0x982f('0x4')][a194_0x982f('0x10')](a194_0x982f('0x13'));dotenv_1[a194_0x982f('0x4')][a194_0x982f('0x12')]({'path':a194_0x982f('0x14')});}const apiController=__importStar(require(a194_0x982f('0x15')));const app=express_1[a194_0x982f('0x4')]();app['set']('port',process[a194_0x982f('0x16')][a194_0x982f('0x17')]||0xbb8);app[a194_0x982f('0x18')](a194_0x982f('0x19'),path_1[a194_0x982f('0x4')][a194_0x982f('0x1a')](__dirname,a194_0x982f('0x1b')));app[a194_0x982f('0x18')](a194_0x982f('0x1c'),a194_0x982f('0x1d'));app['use'](compression_1[a194_0x982f('0x4')]());app[a194_0x982f('0x1e')](body_parser_1[a194_0x982f('0x4')][a194_0x982f('0x1f')]({'limit':a194_0x982f('0x20')}));app[a194_0x982f('0x1e')](body_parser_1[a194_0x982f('0x4')][a194_0x982f('0x21')]({'limit':'10mb','extended':!![]}));app[a194_0x982f('0x1e')](express_validator_1[a194_0x982f('0x4')]());app[a194_0x982f('0x1e')](passport_1[a194_0x982f('0x4')]['initialize']());app[a194_0x982f('0x1e')](passport_1[a194_0x982f('0x4')][a194_0x982f('0x22')]());app[a194_0x982f('0x1e')](express_flash_1[a194_0x982f('0x4')]());app[a194_0x982f('0x1e')](lusca_1[a194_0x982f('0x4')][a194_0x982f('0x23')](a194_0x982f('0x24')));app['use'](lusca_1[a194_0x982f('0x4')][a194_0x982f('0x25')](!![]));app[a194_0x982f('0x1e')]((_0xabeffb,_0x148a79,_0x168ac9)=>{_0x148a79[a194_0x982f('0x26')][a194_0x982f('0x27')]=_0xabeffb[a194_0x982f('0x27')];_0x168ac9();});app[a194_0x982f('0x1e')]((_0x5eec1e,_0x45438c,_0x4350c9)=>{_0x4350c9();});app[a194_0x982f('0x1e')](express_1[a194_0x982f('0x4')][a194_0x982f('0x28')](path_1[a194_0x982f('0x4')][a194_0x982f('0x1a')](__dirname,a194_0x982f('0x29')),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require(a194_0x982f('0x2a')));const models_1=__importDefault(require(a194_0x982f('0x2b')));const routes_1=__importDefault(require(a194_0x982f('0x2c')));const sequelize_utils_1=__importDefault(require(a194_0x982f('0x2d')));const controllers_1=__importDefault(require(a194_0x982f('0x2e')));const models=new models_1['default'](sequelize_1[a194_0x982f('0x4')]);const controllers=new controllers_1[(a194_0x982f('0x4'))](models);sequelize_utils_1[a194_0x982f('0x4')][a194_0x982f('0x2f')]=models;sequelize_utils_1[a194_0x982f('0x4')][a194_0x982f('0x30')]=controllers;routes_1[a194_0x982f('0x4')](app,passport_1[a194_0x982f('0x4')],models,controllers);require(a194_0x982f('0x31'))(passport_1[a194_0x982f('0x4')],models[a194_0x982f('0x32')]);sequelize_utils_1[a194_0x982f('0x4')][a194_0x982f('0x33')]=sequelize_1[a194_0x982f('0x4')];apiController[a194_0x982f('0x34')](sequelize_1[a194_0x982f('0x4')]);const options={'exclude':['id',a194_0x982f('0x35'),a194_0x982f('0x36'),a194_0x982f('0x37'),'created_at','updated_at','deleted_at'],'userModel':a194_0x982f('0x38'),'revisionAttribute':a194_0x982f('0x39'),'revisionModel':a194_0x982f('0x39'),'revisionChangeModel':a194_0x982f('0x3a'),'enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':'document_id','revisionId':a194_0x982f('0x3b')},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':a194_0x982f('0x3c'),'continuationKey':'user_id'};const PaperTrail=require(a194_0x982f('0x3d'))['init'](sequelize_1[a194_0x982f('0x4')],options);PaperTrail[a194_0x982f('0x3e')]({});app[a194_0x982f('0x3f')]('/api/syncftp',apiController[a194_0x982f('0x40')]);app[a194_0x982f('0x3f')]('/api/downloadFtp',apiController[a194_0x982f('0x41')]);app[a194_0x982f('0x3f')](a194_0x982f('0x42'),apiController[a194_0x982f('0x43')]);app['get']('/api/getPassCounting/:direction',apiController[a194_0x982f('0x44')]);app[a194_0x982f('0x3f')]('/api/getPassCountingByDay/:direction',apiController[a194_0x982f('0x45')]);app['get']('/api/getPassCountingByHour/:direction',apiController[a194_0x982f('0x46')]);exports[a194_0x982f('0x4')]=app;