var a84_0xd44d=['/api/getPassCountingByHour/:direction','getPassCountingByHour','__esModule','hasOwnProperty','call','default','express','compression','body-parser','path','passport','debug','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','.env.example','./controllers/api','set','port','views','join','../views','view\x20engine','pug','use','json','initialize','xframe','SAMEORIGIN','xssProtection','user','static','public','./config/sequelize','./app/models','./app/routes','models','./config/passport','usersModel','instance','setSequelize','createdAt','updatedAt','deletedAt','created_at','deleted_at','revision','document_id','revision_id','user_id','sequelize-paper-trail','init','defineModels','get','syncFtp','/api/downloadFtp','downloadFtp','/api/processFtp','getPassCounting','/api/getPassCountingByDay/:direction','getPassCountingByDay'];(function(_0x26911f,_0x42ef24){var _0x3703e8=function(_0x2fab33){while(--_0x2fab33){_0x26911f['push'](_0x26911f['shift']());}};_0x3703e8(++_0x42ef24);}(a84_0xd44d,0x170));var a84_0x4115=function(_0x1d2762,_0x12150a){_0x1d2762=_0x1d2762-0x0;var _0xcdac7a=a84_0xd44d[_0x1d2762];return _0xcdac7a;};'use strict';var __importDefault=this&&this['__importDefault']||function(_0x171c39){return _0x171c39&&_0x171c39[a84_0x4115('0x0')]?_0x171c39:{'default':_0x171c39};};var __importStar=this&&this['__importStar']||function(_0x500651){if(_0x500651&&_0x500651[a84_0x4115('0x0')])return _0x500651;var _0xf92f9f={};if(_0x500651!=null)for(var _0x226e87 in _0x500651)if(Object[a84_0x4115('0x1')][a84_0x4115('0x2')](_0x500651,_0x226e87))_0xf92f9f[_0x226e87]=_0x500651[_0x226e87];_0xf92f9f[a84_0x4115('0x3')]=_0x500651;return _0xf92f9f;};Object['defineProperty'](exports,a84_0x4115('0x0'),{'value':!![]});const express_1=__importDefault(require(a84_0x4115('0x4')));const compression_1=__importDefault(require(a84_0x4115('0x5')));const body_parser_1=__importDefault(require(a84_0x4115('0x6')));const logger_1=__importDefault(require('./util/logger'));const lusca_1=__importDefault(require('lusca'));const dotenv_1=__importDefault(require('dotenv'));const express_flash_1=__importDefault(require('express-flash'));const path_1=__importDefault(require(a84_0x4115('0x7')));const passport_1=__importDefault(require(a84_0x4115('0x8')));const express_validator_1=__importDefault(require('express-validator'));const fs_1=__importDefault(require('fs'));if(fs_1[a84_0x4115('0x3')]['existsSync']('.env')){logger_1['default'][a84_0x4115('0x9')](a84_0x4115('0xa'));dotenv_1[a84_0x4115('0x3')][a84_0x4115('0xb')]({'path':'.env'});}else{logger_1[a84_0x4115('0x3')]['debug'](a84_0x4115('0xc'));dotenv_1[a84_0x4115('0x3')]['config']({'path':a84_0x4115('0xd')});}const apiController=__importStar(require(a84_0x4115('0xe')));const app=express_1[a84_0x4115('0x3')]();app[a84_0x4115('0xf')](a84_0x4115('0x10'),process['env']['PORT']||0xbb8);app['set'](a84_0x4115('0x11'),path_1[a84_0x4115('0x3')][a84_0x4115('0x12')](__dirname,a84_0x4115('0x13')));app['set'](a84_0x4115('0x14'),a84_0x4115('0x15'));app['use'](compression_1[a84_0x4115('0x3')]());app[a84_0x4115('0x16')](body_parser_1['default'][a84_0x4115('0x17')]());app['use'](body_parser_1['default']['urlencoded']({'extended':!![]}));app['use'](express_validator_1[a84_0x4115('0x3')]());app[a84_0x4115('0x16')](passport_1[a84_0x4115('0x3')][a84_0x4115('0x18')]());app['use'](passport_1[a84_0x4115('0x3')]['session']());app[a84_0x4115('0x16')](express_flash_1[a84_0x4115('0x3')]());app[a84_0x4115('0x16')](lusca_1['default'][a84_0x4115('0x19')](a84_0x4115('0x1a')));app['use'](lusca_1[a84_0x4115('0x3')][a84_0x4115('0x1b')](!![]));app[a84_0x4115('0x16')]((_0xacc011,_0x450418,_0x4dc472)=>{_0x450418['locals'][a84_0x4115('0x1c')]=_0xacc011[a84_0x4115('0x1c')];_0x4dc472();});app[a84_0x4115('0x16')]((_0x42f4f2,_0x406668,_0x3b4095)=>{_0x3b4095();});app[a84_0x4115('0x16')](express_1['default'][a84_0x4115('0x1d')](path_1['default'][a84_0x4115('0x12')](__dirname,a84_0x4115('0x1e')),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require(a84_0x4115('0x1f')));const models_1=__importDefault(require(a84_0x4115('0x20')));const routes_1=__importDefault(require(a84_0x4115('0x21')));const sequelize_utils_1=__importDefault(require('./infrastructure/sequelize-utils'));const models=new models_1[(a84_0x4115('0x3'))](sequelize_1[a84_0x4115('0x3')]);sequelize_utils_1[a84_0x4115('0x3')][a84_0x4115('0x22')]=models;routes_1[a84_0x4115('0x3')](app,passport_1[a84_0x4115('0x3')],models);require(a84_0x4115('0x23'))(passport_1[a84_0x4115('0x3')],models[a84_0x4115('0x24')]);sequelize_utils_1[a84_0x4115('0x3')][a84_0x4115('0x25')]=sequelize_1['default'];apiController[a84_0x4115('0x26')](sequelize_1['default']);const options={'exclude':['id',a84_0x4115('0x27'),a84_0x4115('0x28'),a84_0x4115('0x29'),a84_0x4115('0x2a'),'updated_at',a84_0x4115('0x2b')],'userModel':'users','revisionAttribute':a84_0x4115('0x2c'),'revisionModel':a84_0x4115('0x2c'),'revisionChangeModel':'revision_change','enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':a84_0x4115('0x2d'),'revisionId':a84_0x4115('0x2e')},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':'current_user_request','continuationKey':a84_0x4115('0x2f')};const PaperTrail=require(a84_0x4115('0x30'))[a84_0x4115('0x31')](sequelize_1[a84_0x4115('0x3')],options);PaperTrail[a84_0x4115('0x32')]({});app[a84_0x4115('0x33')]('/api/syncftp',apiController[a84_0x4115('0x34')]);app[a84_0x4115('0x33')](a84_0x4115('0x35'),apiController[a84_0x4115('0x36')]);app[a84_0x4115('0x33')](a84_0x4115('0x37'),apiController['processFtp']);app['get']('/api/getPassCounting/:direction',apiController[a84_0x4115('0x38')]);app[a84_0x4115('0x33')](a84_0x4115('0x39'),apiController[a84_0x4115('0x3a')]);app[a84_0x4115('0x33')](a84_0x4115('0x3b'),apiController[a84_0x4115('0x3c')]);exports['default']=app;