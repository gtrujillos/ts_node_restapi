var a88_0xb223=['initialize','session','xframe','SAMEORIGIN','xssProtection','locals','user','public','./config/sequelize','./app/models','./app/routes','./infrastructure/sequelize-utils','./app/controllers','controllers','./config/passport','usersModel','instance','setSequelize','createdAt','updatedAt','deletedAt','created_at','deleted_at','users','revision','revision_change','document_id','revision_id','current_user_request','user_id','get','/api/syncftp','syncFtp','/api/downloadFtp','downloadFtp','/api/processFtp','processFtp','getPassCounting','/api/getPassCountingByDay/:direction','getPassCountingByDay','/api/getPassCountingByHour/:direction','getPassCountingByHour','__importDefault','__importStar','__esModule','hasOwnProperty','default','defineProperty','express','compression','./util/logger','dotenv','express-flash','path','passport','express-validator','cors','existsSync','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','.env','debug','./controllers/api','set','port','PORT','views','join','../views','view\x20engine','use','urlencoded'];(function(_0x319322,_0x44acfd){var _0x3c046e=function(_0x4195bd){while(--_0x4195bd){_0x319322['push'](_0x319322['shift']());}};_0x3c046e(++_0x44acfd);}(a88_0xb223,0xba));var a88_0x245d=function(_0x5c97bf,_0xc56854){_0x5c97bf=_0x5c97bf-0x0;var _0x549432=a88_0xb223[_0x5c97bf];return _0x549432;};'use strict';var __importDefault=this&&this[a88_0x245d('0x0')]||function(_0x37e523){return _0x37e523&&_0x37e523['__esModule']?_0x37e523:{'default':_0x37e523};};var __importStar=this&&this[a88_0x245d('0x1')]||function(_0x39a207){if(_0x39a207&&_0x39a207[a88_0x245d('0x2')])return _0x39a207;var _0x148359={};if(_0x39a207!=null)for(var _0x33b506 in _0x39a207)if(Object[a88_0x245d('0x3')]['call'](_0x39a207,_0x33b506))_0x148359[_0x33b506]=_0x39a207[_0x33b506];_0x148359[a88_0x245d('0x4')]=_0x39a207;return _0x148359;};Object[a88_0x245d('0x5')](exports,a88_0x245d('0x2'),{'value':!![]});const express_1=__importDefault(require(a88_0x245d('0x6')));const compression_1=__importDefault(require(a88_0x245d('0x7')));const body_parser_1=__importDefault(require('body-parser'));const logger_1=__importDefault(require(a88_0x245d('0x8')));const lusca_1=__importDefault(require('lusca'));const dotenv_1=__importDefault(require(a88_0x245d('0x9')));const express_flash_1=__importDefault(require(a88_0x245d('0xa')));const path_1=__importDefault(require(a88_0x245d('0xb')));const passport_1=__importDefault(require(a88_0x245d('0xc')));const express_validator_1=__importDefault(require(a88_0x245d('0xd')));const fs_1=__importDefault(require('fs'));const cors=require(a88_0x245d('0xe'));if(fs_1[a88_0x245d('0x4')][a88_0x245d('0xf')]('.env')){logger_1[a88_0x245d('0x4')]['debug'](a88_0x245d('0x10'));dotenv_1[a88_0x245d('0x4')][a88_0x245d('0x11')]({'path':a88_0x245d('0x12')});}else{logger_1[a88_0x245d('0x4')][a88_0x245d('0x13')]('Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables');dotenv_1[a88_0x245d('0x4')]['config']({'path':'.env.example'});}const apiController=__importStar(require(a88_0x245d('0x14')));const app=express_1['default']();app[a88_0x245d('0x15')](a88_0x245d('0x16'),process['env'][a88_0x245d('0x17')]||0xbb8);app[a88_0x245d('0x15')](a88_0x245d('0x18'),path_1['default'][a88_0x245d('0x19')](__dirname,a88_0x245d('0x1a')));app['set'](a88_0x245d('0x1b'),'pug');app['use'](compression_1[a88_0x245d('0x4')]());app[a88_0x245d('0x1c')](body_parser_1[a88_0x245d('0x4')]['json']());app['use'](cors());app['use'](body_parser_1['default'][a88_0x245d('0x1d')]({'extended':!![]}));app[a88_0x245d('0x1c')](express_validator_1['default']());app[a88_0x245d('0x1c')](passport_1['default'][a88_0x245d('0x1e')]());app[a88_0x245d('0x1c')](passport_1[a88_0x245d('0x4')][a88_0x245d('0x1f')]());app[a88_0x245d('0x1c')](express_flash_1['default']());app[a88_0x245d('0x1c')](lusca_1['default'][a88_0x245d('0x20')](a88_0x245d('0x21')));app['use'](lusca_1[a88_0x245d('0x4')][a88_0x245d('0x22')](!![]));app[a88_0x245d('0x1c')]((_0xd878de,_0x15b60c,_0x5b4fbd)=>{_0x15b60c[a88_0x245d('0x23')][a88_0x245d('0x24')]=_0xd878de[a88_0x245d('0x24')];_0x5b4fbd();});app[a88_0x245d('0x1c')]((_0x409e67,_0x12189e,_0xc4096f)=>{_0xc4096f();});app[a88_0x245d('0x1c')](express_1['default']['static'](path_1['default'][a88_0x245d('0x19')](__dirname,a88_0x245d('0x25')),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require(a88_0x245d('0x26')));const models_1=__importDefault(require(a88_0x245d('0x27')));const routes_1=__importDefault(require(a88_0x245d('0x28')));const sequelize_utils_1=__importDefault(require(a88_0x245d('0x29')));const controllers_1=__importDefault(require(a88_0x245d('0x2a')));const models=new models_1[(a88_0x245d('0x4'))](sequelize_1[a88_0x245d('0x4')]);const controllers=new controllers_1['default'](models);sequelize_utils_1[a88_0x245d('0x4')]['models']=models;sequelize_utils_1[a88_0x245d('0x4')][a88_0x245d('0x2b')]=controllers;routes_1[a88_0x245d('0x4')](app,passport_1['default'],models,controllers);require(a88_0x245d('0x2c'))(passport_1[a88_0x245d('0x4')],models[a88_0x245d('0x2d')]);sequelize_utils_1[a88_0x245d('0x4')][a88_0x245d('0x2e')]=sequelize_1[a88_0x245d('0x4')];apiController[a88_0x245d('0x2f')](sequelize_1[a88_0x245d('0x4')]);const options={'exclude':['id',a88_0x245d('0x30'),a88_0x245d('0x31'),a88_0x245d('0x32'),a88_0x245d('0x33'),'updated_at',a88_0x245d('0x34')],'userModel':a88_0x245d('0x35'),'revisionAttribute':a88_0x245d('0x36'),'revisionModel':a88_0x245d('0x36'),'revisionChangeModel':a88_0x245d('0x37'),'enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':a88_0x245d('0x38'),'revisionId':a88_0x245d('0x39')},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':a88_0x245d('0x3a'),'continuationKey':a88_0x245d('0x3b')};const PaperTrail=require('sequelize-paper-trail')['init'](sequelize_1['default'],options);PaperTrail['defineModels']({});app[a88_0x245d('0x3c')](a88_0x245d('0x3d'),apiController[a88_0x245d('0x3e')]);app[a88_0x245d('0x3c')](a88_0x245d('0x3f'),apiController[a88_0x245d('0x40')]);app[a88_0x245d('0x3c')](a88_0x245d('0x41'),apiController[a88_0x245d('0x42')]);app[a88_0x245d('0x3c')]('/api/getPassCounting/:direction',apiController[a88_0x245d('0x43')]);app[a88_0x245d('0x3c')](a88_0x245d('0x44'),apiController[a88_0x245d('0x45')]);app[a88_0x245d('0x3c')](a88_0x245d('0x46'),apiController[a88_0x245d('0x47')]);exports[a88_0x245d('0x4')]=app;