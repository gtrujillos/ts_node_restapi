var a88_0x1e73=['env','views','use','json','session','xframe','SAMEORIGIN','xssProtection','user','static','public','./config/sequelize','./app/models','./app/routes','./infrastructure/sequelize-utils','./app/controllers','models','controllers','./config/passport','usersModel','instance','setSequelize','createdAt','updatedAt','created_at','updated_at','deleted_at','users','revision','revision_change','revision_id','current_user_request','user_id','sequelize-paper-trail','init','defineModels','get','/api/syncftp','/api/downloadFtp','downloadFtp','/api/processFtp','/api/getPassCounting/:direction','getPassCounting','/api/getPassCountingByHour/:direction','getPassCountingByHour','__importDefault','__esModule','__importStar','hasOwnProperty','call','default','defineProperty','compression','body-parser','./util/logger','lusca','dotenv','express-flash','path','passport','existsSync','.env','debug','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','.env.example','set','port'];(function(_0xb479be,_0x4bb6ab){var _0x44c2ed=function(_0x39774b){while(--_0x39774b){_0xb479be['push'](_0xb479be['shift']());}};_0x44c2ed(++_0x4bb6ab);}(a88_0x1e73,0x72));var a88_0x66dd=function(_0x59cb3d,_0x3b4fce){_0x59cb3d=_0x59cb3d-0x0;var _0x3ca417=a88_0x1e73[_0x59cb3d];return _0x3ca417;};'use strict';var __importDefault=this&&this[a88_0x66dd('0x0')]||function(_0x49b66d){return _0x49b66d&&_0x49b66d[a88_0x66dd('0x1')]?_0x49b66d:{'default':_0x49b66d};};var __importStar=this&&this[a88_0x66dd('0x2')]||function(_0x432b2f){if(_0x432b2f&&_0x432b2f[a88_0x66dd('0x1')])return _0x432b2f;var _0x9003e7={};if(_0x432b2f!=null)for(var _0x2694a5 in _0x432b2f)if(Object[a88_0x66dd('0x3')][a88_0x66dd('0x4')](_0x432b2f,_0x2694a5))_0x9003e7[_0x2694a5]=_0x432b2f[_0x2694a5];_0x9003e7[a88_0x66dd('0x5')]=_0x432b2f;return _0x9003e7;};Object[a88_0x66dd('0x6')](exports,'__esModule',{'value':!![]});const express_1=__importDefault(require('express'));const compression_1=__importDefault(require(a88_0x66dd('0x7')));const body_parser_1=__importDefault(require(a88_0x66dd('0x8')));const logger_1=__importDefault(require(a88_0x66dd('0x9')));const lusca_1=__importDefault(require(a88_0x66dd('0xa')));const dotenv_1=__importDefault(require(a88_0x66dd('0xb')));const express_flash_1=__importDefault(require(a88_0x66dd('0xc')));const path_1=__importDefault(require(a88_0x66dd('0xd')));const passport_1=__importDefault(require(a88_0x66dd('0xe')));const express_validator_1=__importDefault(require('express-validator'));const fs_1=__importDefault(require('fs'));if(fs_1['default'][a88_0x66dd('0xf')](a88_0x66dd('0x10'))){logger_1[a88_0x66dd('0x5')][a88_0x66dd('0x11')](a88_0x66dd('0x12'));dotenv_1['default'][a88_0x66dd('0x13')]({'path':a88_0x66dd('0x10')});}else{logger_1[a88_0x66dd('0x5')][a88_0x66dd('0x11')](a88_0x66dd('0x14'));dotenv_1[a88_0x66dd('0x5')][a88_0x66dd('0x13')]({'path':a88_0x66dd('0x15')});}const apiController=__importStar(require('./controllers/api'));const app=express_1[a88_0x66dd('0x5')]();app[a88_0x66dd('0x16')](a88_0x66dd('0x17'),process[a88_0x66dd('0x18')]['PORT']||0xbb8);app['set'](a88_0x66dd('0x19'),path_1[a88_0x66dd('0x5')]['join'](__dirname,'../views'));app[a88_0x66dd('0x16')]('view\x20engine','pug');app[a88_0x66dd('0x1a')](compression_1['default']());app['use'](body_parser_1[a88_0x66dd('0x5')][a88_0x66dd('0x1b')]());app[a88_0x66dd('0x1a')](body_parser_1[a88_0x66dd('0x5')]['urlencoded']({'extended':!![]}));app[a88_0x66dd('0x1a')](express_validator_1[a88_0x66dd('0x5')]());app[a88_0x66dd('0x1a')](passport_1[a88_0x66dd('0x5')]['initialize']());app[a88_0x66dd('0x1a')](passport_1[a88_0x66dd('0x5')][a88_0x66dd('0x1c')]());app['use'](express_flash_1['default']());app['use'](lusca_1[a88_0x66dd('0x5')][a88_0x66dd('0x1d')](a88_0x66dd('0x1e')));app[a88_0x66dd('0x1a')](lusca_1[a88_0x66dd('0x5')][a88_0x66dd('0x1f')](!![]));app[a88_0x66dd('0x1a')]((_0xd6caa7,_0x1347bc,_0x18be64)=>{_0x1347bc['locals'][a88_0x66dd('0x20')]=_0xd6caa7[a88_0x66dd('0x20')];_0x18be64();});app['use']((_0x3be18a,_0x5bb4f4,_0x2e243e)=>{_0x2e243e();});app[a88_0x66dd('0x1a')](express_1['default'][a88_0x66dd('0x21')](path_1[a88_0x66dd('0x5')]['join'](__dirname,a88_0x66dd('0x22')),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require(a88_0x66dd('0x23')));const models_1=__importDefault(require(a88_0x66dd('0x24')));const routes_1=__importDefault(require(a88_0x66dd('0x25')));const sequelize_utils_1=__importDefault(require(a88_0x66dd('0x26')));const controllers_1=__importDefault(require(a88_0x66dd('0x27')));const models=new models_1[(a88_0x66dd('0x5'))](sequelize_1[a88_0x66dd('0x5')]);const controllers=new controllers_1[(a88_0x66dd('0x5'))](models);sequelize_utils_1[a88_0x66dd('0x5')][a88_0x66dd('0x28')]=models;sequelize_utils_1[a88_0x66dd('0x5')][a88_0x66dd('0x29')]=controllers;routes_1[a88_0x66dd('0x5')](app,passport_1[a88_0x66dd('0x5')],models,controllers);require(a88_0x66dd('0x2a'))(passport_1['default'],models[a88_0x66dd('0x2b')]);sequelize_utils_1['default'][a88_0x66dd('0x2c')]=sequelize_1[a88_0x66dd('0x5')];apiController[a88_0x66dd('0x2d')](sequelize_1['default']);const options={'exclude':['id',a88_0x66dd('0x2e'),a88_0x66dd('0x2f'),'deletedAt',a88_0x66dd('0x30'),a88_0x66dd('0x31'),a88_0x66dd('0x32')],'userModel':a88_0x66dd('0x33'),'revisionAttribute':a88_0x66dd('0x34'),'revisionModel':a88_0x66dd('0x34'),'revisionChangeModel':a88_0x66dd('0x35'),'enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':'document_id','revisionId':a88_0x66dd('0x36')},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':a88_0x66dd('0x37'),'continuationKey':a88_0x66dd('0x38')};const PaperTrail=require(a88_0x66dd('0x39'))[a88_0x66dd('0x3a')](sequelize_1[a88_0x66dd('0x5')],options);PaperTrail[a88_0x66dd('0x3b')]({});app[a88_0x66dd('0x3c')](a88_0x66dd('0x3d'),apiController['syncFtp']);app[a88_0x66dd('0x3c')](a88_0x66dd('0x3e'),apiController[a88_0x66dd('0x3f')]);app[a88_0x66dd('0x3c')](a88_0x66dd('0x40'),apiController['processFtp']);app[a88_0x66dd('0x3c')](a88_0x66dd('0x41'),apiController[a88_0x66dd('0x42')]);app[a88_0x66dd('0x3c')]('/api/getPassCountingByDay/:direction',apiController['getPassCountingByDay']);app[a88_0x66dd('0x3c')](a88_0x66dd('0x43'),apiController[a88_0x66dd('0x44')]);exports['default']=app;