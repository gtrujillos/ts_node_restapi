var a194_0x4c59=['passport','express-validator','.env','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','debug','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','env','PORT','set','views','../views','view\x20engine','pug','use','json','10mb','urlencoded','initialize','session','xframe','SAMEORIGIN','xssProtection','user','static','join','public','./config/sequelize','./app/models','./app/routes','./app/controllers','usersModel','instance','setSequelize','createdAt','deletedAt','created_at','updated_at','users','revision','revision_change','current_user_request','user_id','sequelize-paper-trail','init','defineModels','get','/api/syncftp','/api/downloadFtp','downloadFtp','/api/processFtp','processFtp','/api/getPassCounting/:direction','getPassCounting','/api/getPassCountingByDay/:direction','/api/getPassCountingByHour/:direction','__importDefault','__importStar','hasOwnProperty','call','default','defineProperty','__esModule','express','compression','body-parser','./util/logger','lusca','express-flash'];(function(_0x2d8f05,_0x4b81bb){var _0x4d74cb=function(_0x32719f){while(--_0x32719f){_0x2d8f05['push'](_0x2d8f05['shift']());}};_0x4d74cb(++_0x4b81bb);}(a194_0x4c59,0x14c));var a194_0x46ec=function(_0xadc33e,_0x34e134){_0xadc33e=_0xadc33e-0x0;var _0x5fdd08=a194_0x4c59[_0xadc33e];return _0x5fdd08;};'use strict';var __importDefault=this&&this[a194_0x46ec('0x0')]||function(_0x8d8fbe){return _0x8d8fbe&&_0x8d8fbe['__esModule']?_0x8d8fbe:{'default':_0x8d8fbe};};var __importStar=this&&this[a194_0x46ec('0x1')]||function(_0x524329){if(_0x524329&&_0x524329['__esModule'])return _0x524329;var _0x4a6148={};if(_0x524329!=null)for(var _0x31e0fd in _0x524329)if(Object[a194_0x46ec('0x2')][a194_0x46ec('0x3')](_0x524329,_0x31e0fd))_0x4a6148[_0x31e0fd]=_0x524329[_0x31e0fd];_0x4a6148[a194_0x46ec('0x4')]=_0x524329;return _0x4a6148;};Object[a194_0x46ec('0x5')](exports,a194_0x46ec('0x6'),{'value':!![]});const express_1=__importDefault(require(a194_0x46ec('0x7')));const compression_1=__importDefault(require(a194_0x46ec('0x8')));const body_parser_1=__importDefault(require(a194_0x46ec('0x9')));const logger_1=__importDefault(require(a194_0x46ec('0xa')));const lusca_1=__importDefault(require(a194_0x46ec('0xb')));const dotenv_1=__importDefault(require('dotenv'));const express_flash_1=__importDefault(require(a194_0x46ec('0xc')));const path_1=__importDefault(require('path'));const passport_1=__importDefault(require(a194_0x46ec('0xd')));const express_validator_1=__importDefault(require(a194_0x46ec('0xe')));const fs_1=__importDefault(require('fs'));const cors=require('cors');if(fs_1[a194_0x46ec('0x4')]['existsSync'](a194_0x46ec('0xf'))){logger_1[a194_0x46ec('0x4')]['debug'](a194_0x46ec('0x10'));dotenv_1[a194_0x46ec('0x4')][a194_0x46ec('0x11')]({'path':a194_0x46ec('0xf')});}else{logger_1[a194_0x46ec('0x4')][a194_0x46ec('0x12')](a194_0x46ec('0x13'));dotenv_1[a194_0x46ec('0x4')][a194_0x46ec('0x11')]({'path':'.env.example'});}const apiController=__importStar(require('./controllers/api'));const app=express_1[a194_0x46ec('0x4')]();app['set']('port',process[a194_0x46ec('0x14')][a194_0x46ec('0x15')]||0xbb8);app[a194_0x46ec('0x16')](a194_0x46ec('0x17'),path_1['default']['join'](__dirname,a194_0x46ec('0x18')));app[a194_0x46ec('0x16')](a194_0x46ec('0x19'),a194_0x46ec('0x1a'));app[a194_0x46ec('0x1b')](compression_1[a194_0x46ec('0x4')]());app[a194_0x46ec('0x1b')](body_parser_1[a194_0x46ec('0x4')][a194_0x46ec('0x1c')]({'limit':a194_0x46ec('0x1d')}));app['use'](body_parser_1[a194_0x46ec('0x4')][a194_0x46ec('0x1e')]({'limit':a194_0x46ec('0x1d'),'extended':!![]}));app[a194_0x46ec('0x1b')](cors());app[a194_0x46ec('0x1b')](express_validator_1[a194_0x46ec('0x4')]());app[a194_0x46ec('0x1b')](passport_1[a194_0x46ec('0x4')][a194_0x46ec('0x1f')]());app['use'](passport_1['default'][a194_0x46ec('0x20')]());app[a194_0x46ec('0x1b')](express_flash_1[a194_0x46ec('0x4')]());app[a194_0x46ec('0x1b')](lusca_1[a194_0x46ec('0x4')][a194_0x46ec('0x21')](a194_0x46ec('0x22')));app[a194_0x46ec('0x1b')](lusca_1[a194_0x46ec('0x4')][a194_0x46ec('0x23')](!![]));app[a194_0x46ec('0x1b')]((_0x44fd93,_0x426467,_0x4fb695)=>{_0x426467['locals']['user']=_0x44fd93[a194_0x46ec('0x24')];_0x4fb695();});app[a194_0x46ec('0x1b')]((_0x7591c1,_0x4015c8,_0x180811)=>{_0x180811();});app['use'](express_1['default'][a194_0x46ec('0x25')](path_1['default'][a194_0x46ec('0x26')](__dirname,a194_0x46ec('0x27')),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require(a194_0x46ec('0x28')));const models_1=__importDefault(require(a194_0x46ec('0x29')));const routes_1=__importDefault(require(a194_0x46ec('0x2a')));const sequelize_utils_1=__importDefault(require('./infrastructure/sequelize-utils'));const controllers_1=__importDefault(require(a194_0x46ec('0x2b')));const models=new models_1['default'](sequelize_1['default']);const controllers=new controllers_1['default'](models);sequelize_utils_1[a194_0x46ec('0x4')]['models']=models;sequelize_utils_1[a194_0x46ec('0x4')]['controllers']=controllers;routes_1[a194_0x46ec('0x4')](app,passport_1['default'],models,controllers);require('./config/passport')(passport_1[a194_0x46ec('0x4')],models[a194_0x46ec('0x2c')]);sequelize_utils_1[a194_0x46ec('0x4')][a194_0x46ec('0x2d')]=sequelize_1[a194_0x46ec('0x4')];apiController[a194_0x46ec('0x2e')](sequelize_1[a194_0x46ec('0x4')]);const options={'exclude':['id',a194_0x46ec('0x2f'),'updatedAt',a194_0x46ec('0x30'),a194_0x46ec('0x31'),a194_0x46ec('0x32'),'deleted_at'],'userModel':a194_0x46ec('0x33'),'revisionAttribute':'revision','revisionModel':a194_0x46ec('0x34'),'revisionChangeModel':a194_0x46ec('0x35'),'enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':'document_id','revisionId':'revision_id'},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':a194_0x46ec('0x36'),'continuationKey':a194_0x46ec('0x37')};const PaperTrail=require(a194_0x46ec('0x38'))[a194_0x46ec('0x39')](sequelize_1[a194_0x46ec('0x4')],options);PaperTrail[a194_0x46ec('0x3a')]({});app[a194_0x46ec('0x3b')](a194_0x46ec('0x3c'),apiController['syncFtp']);app[a194_0x46ec('0x3b')](a194_0x46ec('0x3d'),apiController[a194_0x46ec('0x3e')]);app[a194_0x46ec('0x3b')](a194_0x46ec('0x3f'),apiController[a194_0x46ec('0x40')]);app[a194_0x46ec('0x3b')](a194_0x46ec('0x41'),apiController[a194_0x46ec('0x42')]);app['get'](a194_0x46ec('0x43'),apiController['getPassCountingByDay']);app[a194_0x46ec('0x3b')](a194_0x46ec('0x44'),apiController['getPassCountingByHour']);exports[a194_0x46ec('0x4')]=app;