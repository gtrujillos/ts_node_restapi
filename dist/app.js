var a194_0x2d9d=['created_at','updated_at','revision','document_id','current_user_request','user_id','sequelize-paper-trail','init','defineModels','get','/api/syncftp','downloadFtp','processFtp','/api/getPassCounting/:direction','/api/getPassCountingByDay/:direction','getPassCountingByDay','/api/getPassCountingByHour/:direction','getPassCountingByHour','__importDefault','__esModule','__importStar','hasOwnProperty','default','defineProperty','express','body-parser','./util/logger','dotenv','path','passport','express-validator','cors','existsSync','.env','debug','config','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','.env.example','set','port','env','PORT','views','join','../views','view\x20engine','use','10mb','urlencoded','initialize','xframe','SAMEORIGIN','xssProtection','user','static','public','./config/sequelize','./app/models','./app/routes','./infrastructure/sequelize-utils','models','controllers','./config/passport','usersModel','instance','setSequelize','createdAt','deletedAt'];(function(_0x1bae7c,_0x2d73c8){var _0x505a5a=function(_0x34579b){while(--_0x34579b){_0x1bae7c['push'](_0x1bae7c['shift']());}};_0x505a5a(++_0x2d73c8);}(a194_0x2d9d,0x1aa));var a194_0x2e5c=function(_0x1ad597,_0x15de9a){_0x1ad597=_0x1ad597-0x0;var _0x38e9f1=a194_0x2d9d[_0x1ad597];return _0x38e9f1;};'use strict';var __importDefault=this&&this[a194_0x2e5c('0x0')]||function(_0x4c9e24){return _0x4c9e24&&_0x4c9e24[a194_0x2e5c('0x1')]?_0x4c9e24:{'default':_0x4c9e24};};var __importStar=this&&this[a194_0x2e5c('0x2')]||function(_0x7fa53c){if(_0x7fa53c&&_0x7fa53c['__esModule'])return _0x7fa53c;var _0x5aac7b={};if(_0x7fa53c!=null)for(var _0x45f8ed in _0x7fa53c)if(Object[a194_0x2e5c('0x3')]['call'](_0x7fa53c,_0x45f8ed))_0x5aac7b[_0x45f8ed]=_0x7fa53c[_0x45f8ed];_0x5aac7b[a194_0x2e5c('0x4')]=_0x7fa53c;return _0x5aac7b;};Object[a194_0x2e5c('0x5')](exports,a194_0x2e5c('0x1'),{'value':!![]});const express_1=__importDefault(require(a194_0x2e5c('0x6')));const compression_1=__importDefault(require('compression'));const body_parser_1=__importDefault(require(a194_0x2e5c('0x7')));const logger_1=__importDefault(require(a194_0x2e5c('0x8')));const lusca_1=__importDefault(require('lusca'));const dotenv_1=__importDefault(require(a194_0x2e5c('0x9')));const express_flash_1=__importDefault(require('express-flash'));const path_1=__importDefault(require(a194_0x2e5c('0xa')));const passport_1=__importDefault(require(a194_0x2e5c('0xb')));const express_validator_1=__importDefault(require(a194_0x2e5c('0xc')));const fs_1=__importDefault(require('fs'));const cors=require(a194_0x2e5c('0xd'));if(fs_1['default'][a194_0x2e5c('0xe')](a194_0x2e5c('0xf'))){logger_1['default'][a194_0x2e5c('0x10')]('Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables');dotenv_1[a194_0x2e5c('0x4')][a194_0x2e5c('0x11')]({'path':a194_0x2e5c('0xf')});}else{logger_1[a194_0x2e5c('0x4')]['debug'](a194_0x2e5c('0x12'));dotenv_1[a194_0x2e5c('0x4')][a194_0x2e5c('0x11')]({'path':a194_0x2e5c('0x13')});}const apiController=__importStar(require('./controllers/api'));const app=express_1[a194_0x2e5c('0x4')]();app[a194_0x2e5c('0x14')](a194_0x2e5c('0x15'),process[a194_0x2e5c('0x16')][a194_0x2e5c('0x17')]||0xbb8);app['set'](a194_0x2e5c('0x18'),path_1['default'][a194_0x2e5c('0x19')](__dirname,a194_0x2e5c('0x1a')));app['set'](a194_0x2e5c('0x1b'),'pug');app[a194_0x2e5c('0x1c')](compression_1[a194_0x2e5c('0x4')]());app['use'](body_parser_1[a194_0x2e5c('0x4')]['json']({'limit':a194_0x2e5c('0x1d')}));app['use'](body_parser_1[a194_0x2e5c('0x4')][a194_0x2e5c('0x1e')]({'limit':a194_0x2e5c('0x1d'),'extended':!![]}));app[a194_0x2e5c('0x1c')](cors());app['options']('*',cors());app[a194_0x2e5c('0x1c')](express_validator_1[a194_0x2e5c('0x4')]());app[a194_0x2e5c('0x1c')](passport_1[a194_0x2e5c('0x4')][a194_0x2e5c('0x1f')]());app[a194_0x2e5c('0x1c')](passport_1[a194_0x2e5c('0x4')]['session']());app['use'](express_flash_1['default']());app[a194_0x2e5c('0x1c')](lusca_1[a194_0x2e5c('0x4')][a194_0x2e5c('0x20')](a194_0x2e5c('0x21')));app[a194_0x2e5c('0x1c')](lusca_1[a194_0x2e5c('0x4')][a194_0x2e5c('0x22')](!![]));app[a194_0x2e5c('0x1c')]((_0x2609c8,_0x3aa136,_0x1b7d8d)=>{_0x3aa136['locals'][a194_0x2e5c('0x23')]=_0x2609c8[a194_0x2e5c('0x23')];_0x1b7d8d();});app[a194_0x2e5c('0x1c')]((_0x30cfff,_0x3cf60f,_0x55cf78)=>{_0x55cf78();});app['use'](express_1['default'][a194_0x2e5c('0x24')](path_1[a194_0x2e5c('0x4')]['join'](__dirname,a194_0x2e5c('0x25')),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require(a194_0x2e5c('0x26')));const models_1=__importDefault(require(a194_0x2e5c('0x27')));const routes_1=__importDefault(require(a194_0x2e5c('0x28')));const sequelize_utils_1=__importDefault(require(a194_0x2e5c('0x29')));const controllers_1=__importDefault(require('./app/controllers'));const models=new models_1[(a194_0x2e5c('0x4'))](sequelize_1[a194_0x2e5c('0x4')]);const controllers=new controllers_1[(a194_0x2e5c('0x4'))](models);sequelize_utils_1[a194_0x2e5c('0x4')][a194_0x2e5c('0x2a')]=models;sequelize_utils_1['default'][a194_0x2e5c('0x2b')]=controllers;routes_1[a194_0x2e5c('0x4')](app,passport_1[a194_0x2e5c('0x4')],models,controllers);require(a194_0x2e5c('0x2c'))(passport_1['default'],models[a194_0x2e5c('0x2d')]);sequelize_utils_1[a194_0x2e5c('0x4')][a194_0x2e5c('0x2e')]=sequelize_1[a194_0x2e5c('0x4')];apiController[a194_0x2e5c('0x2f')](sequelize_1[a194_0x2e5c('0x4')]);const options={'exclude':['id',a194_0x2e5c('0x30'),'updatedAt',a194_0x2e5c('0x31'),a194_0x2e5c('0x32'),a194_0x2e5c('0x33'),'deleted_at'],'userModel':'users','revisionAttribute':a194_0x2e5c('0x34'),'revisionModel':a194_0x2e5c('0x34'),'revisionChangeModel':'revision_change','enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':a194_0x2e5c('0x35'),'revisionId':'revision_id'},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':a194_0x2e5c('0x36'),'continuationKey':a194_0x2e5c('0x37')};const PaperTrail=require(a194_0x2e5c('0x38'))[a194_0x2e5c('0x39')](sequelize_1[a194_0x2e5c('0x4')],options);PaperTrail[a194_0x2e5c('0x3a')]({});app[a194_0x2e5c('0x3b')](a194_0x2e5c('0x3c'),apiController['syncFtp']);app[a194_0x2e5c('0x3b')]('/api/downloadFtp',apiController[a194_0x2e5c('0x3d')]);app[a194_0x2e5c('0x3b')]('/api/processFtp',apiController[a194_0x2e5c('0x3e')]);app[a194_0x2e5c('0x3b')](a194_0x2e5c('0x3f'),apiController['getPassCounting']);app['get'](a194_0x2e5c('0x40'),apiController[a194_0x2e5c('0x41')]);app[a194_0x2e5c('0x3b')](a194_0x2e5c('0x42'),apiController[a194_0x2e5c('0x43')]);exports[a194_0x2e5c('0x4')]=app;