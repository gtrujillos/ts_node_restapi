var a81_0x3363=['sequelize-paper-trail','init','get','/api/syncftp','syncFtp','/api/downloadFtp','downloadFtp','/api/processFtp','processFtp','getPassCounting','/api/getPassCountingByDay/:direction','getPassCountingByDay','/api/getPassCountingByHour/:direction','getPassCountingByHour','__importDefault','__esModule','__importStar','hasOwnProperty','call','default','express','compression','body-parser','./util/logger','lusca','express-flash','path','passport','express-validator','existsSync','.env','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','debug','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','./controllers/api','port','set','views','join','../views','use','urlencoded','initialize','session','xframe','SAMEORIGIN','xssProtection','locals','user','public','./config/sequelize','./app/routes','./infrastructure/sequelize-utils','models','./config/passport','usersModel','instance','setSequelize','createdAt','updatedAt','deletedAt','created_at','updated_at','deleted_at','users','revision','revision_change','document_id','user_id'];(function(_0x33e6e1,_0x313955){var _0x596429=function(_0x9533cb){while(--_0x9533cb){_0x33e6e1['push'](_0x33e6e1['shift']());}};_0x596429(++_0x313955);}(a81_0x3363,0x1b2));var a81_0x318d=function(_0xc1440c,_0x4457b5){_0xc1440c=_0xc1440c-0x0;var _0x1ed6b4=a81_0x3363[_0xc1440c];return _0x1ed6b4;};'use strict';var __importDefault=this&&this[a81_0x318d('0x0')]||function(_0x351ff4){return _0x351ff4&&_0x351ff4[a81_0x318d('0x1')]?_0x351ff4:{'default':_0x351ff4};};var __importStar=this&&this[a81_0x318d('0x2')]||function(_0x36c8eb){if(_0x36c8eb&&_0x36c8eb[a81_0x318d('0x1')])return _0x36c8eb;var _0x4878fd={};if(_0x36c8eb!=null)for(var _0x2fc80d in _0x36c8eb)if(Object[a81_0x318d('0x3')][a81_0x318d('0x4')](_0x36c8eb,_0x2fc80d))_0x4878fd[_0x2fc80d]=_0x36c8eb[_0x2fc80d];_0x4878fd[a81_0x318d('0x5')]=_0x36c8eb;return _0x4878fd;};Object['defineProperty'](exports,a81_0x318d('0x1'),{'value':!![]});const express_1=__importDefault(require(a81_0x318d('0x6')));const compression_1=__importDefault(require(a81_0x318d('0x7')));const body_parser_1=__importDefault(require(a81_0x318d('0x8')));const logger_1=__importDefault(require(a81_0x318d('0x9')));const lusca_1=__importDefault(require(a81_0x318d('0xa')));const dotenv_1=__importDefault(require('dotenv'));const express_flash_1=__importDefault(require(a81_0x318d('0xb')));const path_1=__importDefault(require(a81_0x318d('0xc')));const passport_1=__importDefault(require(a81_0x318d('0xd')));const express_validator_1=__importDefault(require(a81_0x318d('0xe')));const fs_1=__importDefault(require('fs'));if(fs_1[a81_0x318d('0x5')][a81_0x318d('0xf')](a81_0x318d('0x10'))){logger_1[a81_0x318d('0x5')]['debug'](a81_0x318d('0x11'));dotenv_1[a81_0x318d('0x5')][a81_0x318d('0x12')]({'path':a81_0x318d('0x10')});}else{logger_1[a81_0x318d('0x5')][a81_0x318d('0x13')](a81_0x318d('0x14'));dotenv_1[a81_0x318d('0x5')]['config']({'path':'.env.example'});}const apiController=__importStar(require(a81_0x318d('0x15')));const app=express_1['default']();app['set'](a81_0x318d('0x16'),process['env']['PORT']||0xbb8);app[a81_0x318d('0x17')](a81_0x318d('0x18'),path_1[a81_0x318d('0x5')][a81_0x318d('0x19')](__dirname,a81_0x318d('0x1a')));app['set']('view\x20engine','pug');app[a81_0x318d('0x1b')](compression_1[a81_0x318d('0x5')]());app[a81_0x318d('0x1b')](body_parser_1['default']['json']());app['use'](body_parser_1[a81_0x318d('0x5')][a81_0x318d('0x1c')]({'extended':!![]}));app[a81_0x318d('0x1b')](express_validator_1[a81_0x318d('0x5')]());app[a81_0x318d('0x1b')](passport_1['default'][a81_0x318d('0x1d')]());app[a81_0x318d('0x1b')](passport_1[a81_0x318d('0x5')][a81_0x318d('0x1e')]());app[a81_0x318d('0x1b')](express_flash_1['default']());app[a81_0x318d('0x1b')](lusca_1[a81_0x318d('0x5')][a81_0x318d('0x1f')](a81_0x318d('0x20')));app[a81_0x318d('0x1b')](lusca_1[a81_0x318d('0x5')][a81_0x318d('0x21')](!![]));app[a81_0x318d('0x1b')]((_0x11e0b8,_0x37fbcb,_0x5373e7)=>{_0x37fbcb[a81_0x318d('0x22')]['user']=_0x11e0b8[a81_0x318d('0x23')];_0x5373e7();});app[a81_0x318d('0x1b')]((_0x7e2f4d,_0x47b401,_0x39f598)=>{_0x39f598();});app[a81_0x318d('0x1b')](express_1[a81_0x318d('0x5')]['static'](path_1['default'][a81_0x318d('0x19')](__dirname,a81_0x318d('0x24')),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require(a81_0x318d('0x25')));const models_1=__importDefault(require('./app/models'));const routes_1=__importDefault(require(a81_0x318d('0x26')));const sequelize_utils_1=__importDefault(require(a81_0x318d('0x27')));const models=new models_1[(a81_0x318d('0x5'))](sequelize_1[a81_0x318d('0x5')]);sequelize_utils_1[a81_0x318d('0x5')][a81_0x318d('0x28')]=models;routes_1['default'](app,passport_1[a81_0x318d('0x5')],models);require(a81_0x318d('0x29'))(passport_1[a81_0x318d('0x5')],models[a81_0x318d('0x2a')]);sequelize_utils_1[a81_0x318d('0x5')][a81_0x318d('0x2b')]=sequelize_1[a81_0x318d('0x5')];apiController[a81_0x318d('0x2c')](sequelize_1[a81_0x318d('0x5')]);const options={'exclude':['id',a81_0x318d('0x2d'),a81_0x318d('0x2e'),a81_0x318d('0x2f'),a81_0x318d('0x30'),a81_0x318d('0x31'),a81_0x318d('0x32')],'userModel':a81_0x318d('0x33'),'revisionAttribute':a81_0x318d('0x34'),'revisionModel':a81_0x318d('0x34'),'revisionChangeModel':a81_0x318d('0x35'),'enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':a81_0x318d('0x36'),'revisionId':'revision_id'},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':'current_user_request','continuationKey':a81_0x318d('0x37')};const PaperTrail=require(a81_0x318d('0x38'))[a81_0x318d('0x39')](sequelize_1[a81_0x318d('0x5')],options);PaperTrail['defineModels']({});app[a81_0x318d('0x3a')](a81_0x318d('0x3b'),apiController[a81_0x318d('0x3c')]);app[a81_0x318d('0x3a')](a81_0x318d('0x3d'),apiController[a81_0x318d('0x3e')]);app['get'](a81_0x318d('0x3f'),apiController[a81_0x318d('0x40')]);app[a81_0x318d('0x3a')]('/api/getPassCounting/:direction',apiController[a81_0x318d('0x41')]);app[a81_0x318d('0x3a')](a81_0x318d('0x42'),apiController[a81_0x318d('0x43')]);app[a81_0x318d('0x3a')](a81_0x318d('0x44'),apiController[a81_0x318d('0x45')]);exports['default']=app;