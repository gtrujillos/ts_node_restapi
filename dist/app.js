var a194_0x3e3b=['getPassCountingByHour','__esModule','__importStar','hasOwnProperty','default','express','lusca','dotenv','path','passport','cors','existsSync','.env','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','debug','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','./controllers/api','set','port','env','PORT','views','join','view\x20engine','use','urlencoded','10mb','options','session','xframe','SAMEORIGIN','xssProtection','locals','user','static','public','./config/sequelize','./app/models','./app/routes','./infrastructure/sequelize-utils','./app/controllers','models','./config/passport','usersModel','instance','setSequelize','updatedAt','deletedAt','created_at','updated_at','users','revision','revision_change','document_id','revision_id','init','defineModels','get','/api/syncftp','syncFtp','/api/downloadFtp','downloadFtp','/api/processFtp','processFtp','getPassCounting','/api/getPassCountingByDay/:direction','getPassCountingByDay','/api/getPassCountingByHour/:direction'];(function(_0x250345,_0x5bbf66){var _0x24cf1f=function(_0x4174bf){while(--_0x4174bf){_0x250345['push'](_0x250345['shift']());}};_0x24cf1f(++_0x5bbf66);}(a194_0x3e3b,0x89));var a194_0x1921=function(_0xc7f74a,_0x4e8293){_0xc7f74a=_0xc7f74a-0x0;var _0x4f53b7=a194_0x3e3b[_0xc7f74a];return _0x4f53b7;};'use strict';var __importDefault=this&&this['__importDefault']||function(_0x16f7e6){return _0x16f7e6&&_0x16f7e6[a194_0x1921('0x0')]?_0x16f7e6:{'default':_0x16f7e6};};var __importStar=this&&this[a194_0x1921('0x1')]||function(_0x3035b4){if(_0x3035b4&&_0x3035b4['__esModule'])return _0x3035b4;var _0xb52e2d={};if(_0x3035b4!=null)for(var _0x9a276a in _0x3035b4)if(Object[a194_0x1921('0x2')]['call'](_0x3035b4,_0x9a276a))_0xb52e2d[_0x9a276a]=_0x3035b4[_0x9a276a];_0xb52e2d[a194_0x1921('0x3')]=_0x3035b4;return _0xb52e2d;};Object['defineProperty'](exports,a194_0x1921('0x0'),{'value':!![]});const express_1=__importDefault(require(a194_0x1921('0x4')));const compression_1=__importDefault(require('compression'));const body_parser_1=__importDefault(require('body-parser'));const logger_1=__importDefault(require('./util/logger'));const lusca_1=__importDefault(require(a194_0x1921('0x5')));const dotenv_1=__importDefault(require(a194_0x1921('0x6')));const express_flash_1=__importDefault(require('express-flash'));const path_1=__importDefault(require(a194_0x1921('0x7')));const passport_1=__importDefault(require(a194_0x1921('0x8')));const express_validator_1=__importDefault(require('express-validator'));const fs_1=__importDefault(require('fs'));const cors=require(a194_0x1921('0x9'));if(fs_1['default'][a194_0x1921('0xa')](a194_0x1921('0xb'))){logger_1[a194_0x1921('0x3')]['debug'](a194_0x1921('0xc'));dotenv_1[a194_0x1921('0x3')]['config']({'path':a194_0x1921('0xb')});}else{logger_1['default'][a194_0x1921('0xd')](a194_0x1921('0xe'));dotenv_1['default']['config']({'path':'.env.example'});}const apiController=__importStar(require(a194_0x1921('0xf')));const app=express_1[a194_0x1921('0x3')]();app[a194_0x1921('0x10')](a194_0x1921('0x11'),process[a194_0x1921('0x12')][a194_0x1921('0x13')]||0xbb8);app[a194_0x1921('0x10')](a194_0x1921('0x14'),path_1[a194_0x1921('0x3')][a194_0x1921('0x15')](__dirname,'../views'));app[a194_0x1921('0x10')](a194_0x1921('0x16'),'pug');app['use'](compression_1['default']());app['use'](body_parser_1[a194_0x1921('0x3')]['json']({'limit':'10mb'}));app[a194_0x1921('0x17')](body_parser_1['default'][a194_0x1921('0x18')]({'limit':a194_0x1921('0x19'),'extended':!![]}));app[a194_0x1921('0x17')](cors());app['use'](cors({'origin':!![]}));app[a194_0x1921('0x1a')]('*',cors());app[a194_0x1921('0x17')](express_validator_1[a194_0x1921('0x3')]());app[a194_0x1921('0x17')](passport_1['default']['initialize']());app[a194_0x1921('0x17')](passport_1['default'][a194_0x1921('0x1b')]());app['use'](express_flash_1[a194_0x1921('0x3')]());app[a194_0x1921('0x17')](lusca_1[a194_0x1921('0x3')][a194_0x1921('0x1c')](a194_0x1921('0x1d')));app[a194_0x1921('0x17')](lusca_1[a194_0x1921('0x3')][a194_0x1921('0x1e')](!![]));app[a194_0x1921('0x17')]((_0x33a80f,_0x4193d4,_0x4392ad)=>{_0x4193d4[a194_0x1921('0x1f')][a194_0x1921('0x20')]=_0x33a80f['user'];_0x4392ad();});app[a194_0x1921('0x17')]((_0xa734d0,_0x4a16ea,_0x42f22a)=>{_0x42f22a();});app[a194_0x1921('0x17')](express_1['default'][a194_0x1921('0x21')](path_1[a194_0x1921('0x3')][a194_0x1921('0x15')](__dirname,a194_0x1921('0x22')),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require(a194_0x1921('0x23')));const models_1=__importDefault(require(a194_0x1921('0x24')));const routes_1=__importDefault(require(a194_0x1921('0x25')));const sequelize_utils_1=__importDefault(require(a194_0x1921('0x26')));const controllers_1=__importDefault(require(a194_0x1921('0x27')));const models=new models_1[(a194_0x1921('0x3'))](sequelize_1[a194_0x1921('0x3')]);const controllers=new controllers_1[(a194_0x1921('0x3'))](models);sequelize_utils_1['default'][a194_0x1921('0x28')]=models;sequelize_utils_1[a194_0x1921('0x3')]['controllers']=controllers;routes_1['default'](app,passport_1['default'],models,controllers);require(a194_0x1921('0x29'))(passport_1[a194_0x1921('0x3')],models[a194_0x1921('0x2a')]);sequelize_utils_1[a194_0x1921('0x3')][a194_0x1921('0x2b')]=sequelize_1[a194_0x1921('0x3')];apiController[a194_0x1921('0x2c')](sequelize_1['default']);const options={'exclude':['id','createdAt',a194_0x1921('0x2d'),a194_0x1921('0x2e'),a194_0x1921('0x2f'),a194_0x1921('0x30'),'deleted_at'],'userModel':a194_0x1921('0x31'),'revisionAttribute':a194_0x1921('0x32'),'revisionModel':a194_0x1921('0x32'),'revisionChangeModel':a194_0x1921('0x33'),'enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':a194_0x1921('0x34'),'revisionId':a194_0x1921('0x35')},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':'current_user_request','continuationKey':'user_id'};const PaperTrail=require('sequelize-paper-trail')[a194_0x1921('0x36')](sequelize_1[a194_0x1921('0x3')],options);PaperTrail[a194_0x1921('0x37')]({});app[a194_0x1921('0x38')](a194_0x1921('0x39'),apiController[a194_0x1921('0x3a')]);app['get'](a194_0x1921('0x3b'),apiController[a194_0x1921('0x3c')]);app[a194_0x1921('0x38')](a194_0x1921('0x3d'),apiController[a194_0x1921('0x3e')]);app[a194_0x1921('0x38')]('/api/getPassCounting/:direction',apiController[a194_0x1921('0x3f')]);app[a194_0x1921('0x38')](a194_0x1921('0x40'),apiController[a194_0x1921('0x41')]);app[a194_0x1921('0x38')](a194_0x1921('0x42'),apiController[a194_0x1921('0x43')]);exports[a194_0x1921('0x3')]=app;