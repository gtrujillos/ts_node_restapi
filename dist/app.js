var a94_0x5f52=['user','static','public','./config/sequelize','./app/models','./app/routes','./infrastructure/sequelize-utils','./app/controllers','models','controllers','./config/passport','instance','createdAt','updatedAt','deletedAt','created_at','updated_at','revision','revision_change','revision_id','current_user_request','user_id','sequelize-paper-trail','init','defineModels','get','syncFtp','/api/downloadFtp','downloadFtp','/api/processFtp','processFtp','/api/getPassCounting/:direction','getPassCounting','/api/getPassCountingByDay/:direction','/api/getPassCountingByHour/:direction','getPassCountingByHour','__importDefault','__esModule','__importStar','hasOwnProperty','default','defineProperty','express','compression','body-parser','./util/logger','lusca','dotenv','express-flash','express-validator','cors','existsSync','.env','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','debug','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','set','env','PORT','views','join','view\x20engine','pug','use','json','urlencoded','initialize','session','SAMEORIGIN','locals'];(function(_0x4add31,_0x7555b4){var _0x27fc46=function(_0x1eccef){while(--_0x1eccef){_0x4add31['push'](_0x4add31['shift']());}};_0x27fc46(++_0x7555b4);}(a94_0x5f52,0xf9));var a94_0x44c0=function(_0x16eda4,_0x4f343b){_0x16eda4=_0x16eda4-0x0;var _0x32461b=a94_0x5f52[_0x16eda4];return _0x32461b;};'use strict';var __importDefault=this&&this[a94_0x44c0('0x0')]||function(_0x25feb6){return _0x25feb6&&_0x25feb6[a94_0x44c0('0x1')]?_0x25feb6:{'default':_0x25feb6};};var __importStar=this&&this[a94_0x44c0('0x2')]||function(_0x1a275f){if(_0x1a275f&&_0x1a275f['__esModule'])return _0x1a275f;var _0x1e863a={};if(_0x1a275f!=null)for(var _0xeddec3 in _0x1a275f)if(Object[a94_0x44c0('0x3')]['call'](_0x1a275f,_0xeddec3))_0x1e863a[_0xeddec3]=_0x1a275f[_0xeddec3];_0x1e863a[a94_0x44c0('0x4')]=_0x1a275f;return _0x1e863a;};Object[a94_0x44c0('0x5')](exports,a94_0x44c0('0x1'),{'value':!![]});const express_1=__importDefault(require(a94_0x44c0('0x6')));const compression_1=__importDefault(require(a94_0x44c0('0x7')));const body_parser_1=__importDefault(require(a94_0x44c0('0x8')));const logger_1=__importDefault(require(a94_0x44c0('0x9')));const lusca_1=__importDefault(require(a94_0x44c0('0xa')));const dotenv_1=__importDefault(require(a94_0x44c0('0xb')));const express_flash_1=__importDefault(require(a94_0x44c0('0xc')));const path_1=__importDefault(require('path'));const passport_1=__importDefault(require('passport'));const express_validator_1=__importDefault(require(a94_0x44c0('0xd')));const fs_1=__importDefault(require('fs'));const cors=require(a94_0x44c0('0xe'));if(fs_1[a94_0x44c0('0x4')][a94_0x44c0('0xf')](a94_0x44c0('0x10'))){logger_1[a94_0x44c0('0x4')]['debug'](a94_0x44c0('0x11'));dotenv_1[a94_0x44c0('0x4')][a94_0x44c0('0x12')]({'path':'.env'});}else{logger_1[a94_0x44c0('0x4')][a94_0x44c0('0x13')](a94_0x44c0('0x14'));dotenv_1['default'][a94_0x44c0('0x12')]({'path':'.env.example'});}const apiController=__importStar(require('./controllers/api'));const app=express_1[a94_0x44c0('0x4')]();app[a94_0x44c0('0x15')]('port',process[a94_0x44c0('0x16')][a94_0x44c0('0x17')]||0xbb8);app[a94_0x44c0('0x15')](a94_0x44c0('0x18'),path_1[a94_0x44c0('0x4')][a94_0x44c0('0x19')](__dirname,'../views'));app[a94_0x44c0('0x15')](a94_0x44c0('0x1a'),a94_0x44c0('0x1b'));app[a94_0x44c0('0x1c')](compression_1[a94_0x44c0('0x4')]());app['use'](body_parser_1[a94_0x44c0('0x4')][a94_0x44c0('0x1d')]());app[a94_0x44c0('0x1c')](body_parser_1[a94_0x44c0('0x4')][a94_0x44c0('0x1e')]({'extended':!![]}));app[a94_0x44c0('0x1c')](express_validator_1[a94_0x44c0('0x4')]());app[a94_0x44c0('0x1c')](passport_1[a94_0x44c0('0x4')][a94_0x44c0('0x1f')]());app[a94_0x44c0('0x1c')](passport_1[a94_0x44c0('0x4')][a94_0x44c0('0x20')]());app[a94_0x44c0('0x1c')](express_flash_1[a94_0x44c0('0x4')]());app[a94_0x44c0('0x1c')](lusca_1[a94_0x44c0('0x4')]['xframe'](a94_0x44c0('0x21')));app[a94_0x44c0('0x1c')](lusca_1['default']['xssProtection'](!![]));app[a94_0x44c0('0x1c')]((_0x388e6c,_0x4ae323,_0x45b74f)=>{_0x4ae323[a94_0x44c0('0x22')][a94_0x44c0('0x23')]=_0x388e6c[a94_0x44c0('0x23')];_0x45b74f();});app[a94_0x44c0('0x1c')]((_0x4c691a,_0x21cd91,_0x4669a6)=>{_0x4669a6();});app[a94_0x44c0('0x1c')](express_1[a94_0x44c0('0x4')][a94_0x44c0('0x24')](path_1['default']['join'](__dirname,a94_0x44c0('0x25')),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require(a94_0x44c0('0x26')));const models_1=__importDefault(require(a94_0x44c0('0x27')));const routes_1=__importDefault(require(a94_0x44c0('0x28')));const sequelize_utils_1=__importDefault(require(a94_0x44c0('0x29')));const controllers_1=__importDefault(require(a94_0x44c0('0x2a')));const models=new models_1[(a94_0x44c0('0x4'))](sequelize_1[a94_0x44c0('0x4')]);const controllers=new controllers_1[(a94_0x44c0('0x4'))](models);sequelize_utils_1['default'][a94_0x44c0('0x2b')]=models;sequelize_utils_1[a94_0x44c0('0x4')][a94_0x44c0('0x2c')]=controllers;routes_1[a94_0x44c0('0x4')](app,passport_1[a94_0x44c0('0x4')],models,controllers);require(a94_0x44c0('0x2d'))(passport_1['default'],models['usersModel']);sequelize_utils_1[a94_0x44c0('0x4')][a94_0x44c0('0x2e')]=sequelize_1[a94_0x44c0('0x4')];apiController['setSequelize'](sequelize_1['default']);const options={'exclude':['id',a94_0x44c0('0x2f'),a94_0x44c0('0x30'),a94_0x44c0('0x31'),a94_0x44c0('0x32'),a94_0x44c0('0x33'),'deleted_at'],'userModel':'users','revisionAttribute':a94_0x44c0('0x34'),'revisionModel':'revision','revisionChangeModel':a94_0x44c0('0x35'),'enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':'document_id','revisionId':a94_0x44c0('0x36')},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':a94_0x44c0('0x37'),'continuationKey':a94_0x44c0('0x38')};const PaperTrail=require(a94_0x44c0('0x39'))[a94_0x44c0('0x3a')](sequelize_1[a94_0x44c0('0x4')],options);PaperTrail[a94_0x44c0('0x3b')]({});app[a94_0x44c0('0x3c')]('/api/syncftp',apiController[a94_0x44c0('0x3d')]);app[a94_0x44c0('0x3c')](a94_0x44c0('0x3e'),apiController[a94_0x44c0('0x3f')]);app[a94_0x44c0('0x3c')](a94_0x44c0('0x40'),apiController[a94_0x44c0('0x41')]);app['get'](a94_0x44c0('0x42'),apiController[a94_0x44c0('0x43')]);app['get'](a94_0x44c0('0x44'),apiController['getPassCountingByDay']);app[a94_0x44c0('0x3c')](a94_0x44c0('0x45'),apiController[a94_0x44c0('0x46')]);exports[a94_0x44c0('0x4')]=app;