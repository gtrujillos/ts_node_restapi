var a88_0x56c4=['defineModels','get','syncFtp','/api/downloadFtp','downloadFtp','/api/processFtp','processFtp','getPassCounting','/api/getPassCountingByDay/:direction','/api/getPassCountingByHour/:direction','__importDefault','__esModule','__importStar','call','default','express','compression','./util/logger','dotenv','express-flash','express-validator','existsSync','.env','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','set','port','env','PORT','views','join','pug','use','json','urlencoded','xframe','SAMEORIGIN','xssProtection','locals','user','static','public','./app/models','./app/routes','./infrastructure/sequelize-utils','./app/controllers','models','controllers','usersModel','setSequelize','createdAt','users','revision','revision_change','document_id','current_user_request','user_id','sequelize-paper-trail','init'];(function(_0xd79085,_0x1da498){var _0x35b972=function(_0x2f2ee6){while(--_0x2f2ee6){_0xd79085['push'](_0xd79085['shift']());}};_0x35b972(++_0x1da498);}(a88_0x56c4,0x16c));var a88_0x2a3e=function(_0x42b00b,_0x11642d){_0x42b00b=_0x42b00b-0x0;var _0x15fde9=a88_0x56c4[_0x42b00b];return _0x15fde9;};'use strict';var __importDefault=this&&this[a88_0x2a3e('0x0')]||function(_0x10df08){return _0x10df08&&_0x10df08[a88_0x2a3e('0x1')]?_0x10df08:{'default':_0x10df08};};var __importStar=this&&this[a88_0x2a3e('0x2')]||function(_0x626e39){if(_0x626e39&&_0x626e39[a88_0x2a3e('0x1')])return _0x626e39;var _0x4682d3={};if(_0x626e39!=null)for(var _0x1552b in _0x626e39)if(Object['hasOwnProperty'][a88_0x2a3e('0x3')](_0x626e39,_0x1552b))_0x4682d3[_0x1552b]=_0x626e39[_0x1552b];_0x4682d3[a88_0x2a3e('0x4')]=_0x626e39;return _0x4682d3;};Object['defineProperty'](exports,a88_0x2a3e('0x1'),{'value':!![]});const express_1=__importDefault(require(a88_0x2a3e('0x5')));const compression_1=__importDefault(require(a88_0x2a3e('0x6')));const body_parser_1=__importDefault(require('body-parser'));const logger_1=__importDefault(require(a88_0x2a3e('0x7')));const lusca_1=__importDefault(require('lusca'));const dotenv_1=__importDefault(require(a88_0x2a3e('0x8')));const express_flash_1=__importDefault(require(a88_0x2a3e('0x9')));const path_1=__importDefault(require('path'));const passport_1=__importDefault(require('passport'));const express_validator_1=__importDefault(require(a88_0x2a3e('0xa')));const fs_1=__importDefault(require('fs'));if(fs_1['default'][a88_0x2a3e('0xb')](a88_0x2a3e('0xc'))){logger_1['default']['debug'](a88_0x2a3e('0xd'));dotenv_1[a88_0x2a3e('0x4')]['config']({'path':a88_0x2a3e('0xc')});}else{logger_1[a88_0x2a3e('0x4')]['debug'](a88_0x2a3e('0xe'));dotenv_1[a88_0x2a3e('0x4')]['config']({'path':'.env.example'});}const apiController=__importStar(require('./controllers/api'));const app=express_1[a88_0x2a3e('0x4')]();app[a88_0x2a3e('0xf')](a88_0x2a3e('0x10'),process[a88_0x2a3e('0x11')][a88_0x2a3e('0x12')]||0xbb8);app[a88_0x2a3e('0xf')](a88_0x2a3e('0x13'),path_1[a88_0x2a3e('0x4')][a88_0x2a3e('0x14')](__dirname,'../views'));app[a88_0x2a3e('0xf')]('view\x20engine',a88_0x2a3e('0x15'));app[a88_0x2a3e('0x16')](compression_1[a88_0x2a3e('0x4')]());app[a88_0x2a3e('0x16')](body_parser_1[a88_0x2a3e('0x4')][a88_0x2a3e('0x17')]());app[a88_0x2a3e('0x16')](body_parser_1[a88_0x2a3e('0x4')][a88_0x2a3e('0x18')]({'extended':!![]}));app[a88_0x2a3e('0x16')](express_validator_1[a88_0x2a3e('0x4')]());app[a88_0x2a3e('0x16')](passport_1['default']['initialize']());app[a88_0x2a3e('0x16')](passport_1['default']['session']());app[a88_0x2a3e('0x16')](express_flash_1[a88_0x2a3e('0x4')]());app[a88_0x2a3e('0x16')](lusca_1[a88_0x2a3e('0x4')][a88_0x2a3e('0x19')](a88_0x2a3e('0x1a')));app[a88_0x2a3e('0x16')](lusca_1['default'][a88_0x2a3e('0x1b')](!![]));app[a88_0x2a3e('0x16')]((_0x33e412,_0x213ea8,_0x4f947f)=>{_0x213ea8[a88_0x2a3e('0x1c')][a88_0x2a3e('0x1d')]=_0x33e412[a88_0x2a3e('0x1d')];_0x4f947f();});app[a88_0x2a3e('0x16')]((_0x3c12f0,_0x5ae3a1,_0x4e998e)=>{_0x4e998e();});app['use'](express_1[a88_0x2a3e('0x4')][a88_0x2a3e('0x1e')](path_1['default'][a88_0x2a3e('0x14')](__dirname,a88_0x2a3e('0x1f')),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require('./config/sequelize'));const models_1=__importDefault(require(a88_0x2a3e('0x20')));const routes_1=__importDefault(require(a88_0x2a3e('0x21')));const sequelize_utils_1=__importDefault(require(a88_0x2a3e('0x22')));const controllers_1=__importDefault(require(a88_0x2a3e('0x23')));const models=new models_1[(a88_0x2a3e('0x4'))](sequelize_1[a88_0x2a3e('0x4')]);const controllers=new controllers_1[(a88_0x2a3e('0x4'))](models);sequelize_utils_1[a88_0x2a3e('0x4')][a88_0x2a3e('0x24')]=models;sequelize_utils_1['default'][a88_0x2a3e('0x25')]=controllers;routes_1[a88_0x2a3e('0x4')](app,passport_1[a88_0x2a3e('0x4')],models,controllers);require('./config/passport')(passport_1['default'],models[a88_0x2a3e('0x26')]);sequelize_utils_1['default']['instance']=sequelize_1['default'];apiController[a88_0x2a3e('0x27')](sequelize_1[a88_0x2a3e('0x4')]);const options={'exclude':['id',a88_0x2a3e('0x28'),'updatedAt','deletedAt','created_at','updated_at','deleted_at'],'userModel':a88_0x2a3e('0x29'),'revisionAttribute':'revision','revisionModel':a88_0x2a3e('0x2a'),'revisionChangeModel':a88_0x2a3e('0x2b'),'enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':a88_0x2a3e('0x2c'),'revisionId':'revision_id'},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':a88_0x2a3e('0x2d'),'continuationKey':a88_0x2a3e('0x2e')};const PaperTrail=require(a88_0x2a3e('0x2f'))[a88_0x2a3e('0x30')](sequelize_1['default'],options);PaperTrail[a88_0x2a3e('0x31')]({});app[a88_0x2a3e('0x32')]('/api/syncftp',apiController[a88_0x2a3e('0x33')]);app['get'](a88_0x2a3e('0x34'),apiController[a88_0x2a3e('0x35')]);app[a88_0x2a3e('0x32')](a88_0x2a3e('0x36'),apiController[a88_0x2a3e('0x37')]);app[a88_0x2a3e('0x32')]('/api/getPassCounting/:direction',apiController[a88_0x2a3e('0x38')]);app[a88_0x2a3e('0x32')](a88_0x2a3e('0x39'),apiController['getPassCountingByDay']);app['get'](a88_0x2a3e('0x3a'),apiController['getPassCountingByHour']);exports[a88_0x2a3e('0x4')]=app;