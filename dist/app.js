var a194_0x147c=['path','passport','express-validator','cors','default','existsSync','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','.env','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','./controllers/api','set','port','views','join','../views','view\x20engine','pug','use','json','urlencoded','10mb','initialize','session','xframe','SAMEORIGIN','xssProtection','locals','user','static','public','./config/sequelize','./app/models','./app/routes','./app/controllers','models','controllers','usersModel','instance','setSequelize','createdAt','updatedAt','deletedAt','created_at','updated_at','deleted_at','users','revision','document_id','revision_id','user_id','sequelize-paper-trail','init','defineModels','get','/api/syncftp','syncFtp','/api/downloadFtp','downloadFtp','/api/getPassCounting/:direction','getPassCounting','/api/getPassCountingByDay/:direction','getPassCountingByDay','__importDefault','__importStar','__esModule','hasOwnProperty','call','express','compression','./util/logger','express-flash'];(function(_0x531a77,_0x4e59a2){var _0x2ddde9=function(_0x39160a){while(--_0x39160a){_0x531a77['push'](_0x531a77['shift']());}};_0x2ddde9(++_0x4e59a2);}(a194_0x147c,0xcc));var a194_0x5d93=function(_0x4b9ace,_0x4098c6){_0x4b9ace=_0x4b9ace-0x0;var _0x58b4e=a194_0x147c[_0x4b9ace];return _0x58b4e;};'use strict';var __importDefault=this&&this[a194_0x5d93('0x0')]||function(_0x153dd3){return _0x153dd3&&_0x153dd3['__esModule']?_0x153dd3:{'default':_0x153dd3};};var __importStar=this&&this[a194_0x5d93('0x1')]||function(_0x203699){if(_0x203699&&_0x203699[a194_0x5d93('0x2')])return _0x203699;var _0xac6ed2={};if(_0x203699!=null)for(var _0x501fe0 in _0x203699)if(Object[a194_0x5d93('0x3')][a194_0x5d93('0x4')](_0x203699,_0x501fe0))_0xac6ed2[_0x501fe0]=_0x203699[_0x501fe0];_0xac6ed2['default']=_0x203699;return _0xac6ed2;};Object['defineProperty'](exports,a194_0x5d93('0x2'),{'value':!![]});const express_1=__importDefault(require(a194_0x5d93('0x5')));const compression_1=__importDefault(require(a194_0x5d93('0x6')));const body_parser_1=__importDefault(require('body-parser'));const logger_1=__importDefault(require(a194_0x5d93('0x7')));const lusca_1=__importDefault(require('lusca'));const dotenv_1=__importDefault(require('dotenv'));const express_flash_1=__importDefault(require(a194_0x5d93('0x8')));const path_1=__importDefault(require(a194_0x5d93('0x9')));const passport_1=__importDefault(require(a194_0x5d93('0xa')));const express_validator_1=__importDefault(require(a194_0x5d93('0xb')));const fs_1=__importDefault(require('fs'));const cors=require(a194_0x5d93('0xc'));if(fs_1[a194_0x5d93('0xd')][a194_0x5d93('0xe')]('.env')){logger_1[a194_0x5d93('0xd')]['debug'](a194_0x5d93('0xf'));dotenv_1[a194_0x5d93('0xd')]['config']({'path':a194_0x5d93('0x10')});}else{logger_1[a194_0x5d93('0xd')]['debug'](a194_0x5d93('0x11'));dotenv_1[a194_0x5d93('0xd')]['config']({'path':'.env.example'});}const apiController=__importStar(require(a194_0x5d93('0x12')));const app=express_1[a194_0x5d93('0xd')]();app[a194_0x5d93('0x13')](a194_0x5d93('0x14'),process['env']['PORT']||0xbb8);app[a194_0x5d93('0x13')](a194_0x5d93('0x15'),path_1[a194_0x5d93('0xd')][a194_0x5d93('0x16')](__dirname,a194_0x5d93('0x17')));app[a194_0x5d93('0x13')](a194_0x5d93('0x18'),a194_0x5d93('0x19'));app[a194_0x5d93('0x1a')](compression_1[a194_0x5d93('0xd')]());app['use'](body_parser_1['default'][a194_0x5d93('0x1b')]({'limit':'10mb'}));app['use'](body_parser_1[a194_0x5d93('0xd')][a194_0x5d93('0x1c')]({'limit':a194_0x5d93('0x1d'),'extended':!![]}));app[a194_0x5d93('0x1a')](cors());app[a194_0x5d93('0x1a')](express_validator_1[a194_0x5d93('0xd')]());app['use'](passport_1[a194_0x5d93('0xd')][a194_0x5d93('0x1e')]());app[a194_0x5d93('0x1a')](passport_1['default'][a194_0x5d93('0x1f')]());app[a194_0x5d93('0x1a')](express_flash_1[a194_0x5d93('0xd')]());app['use'](lusca_1[a194_0x5d93('0xd')][a194_0x5d93('0x20')](a194_0x5d93('0x21')));app['use'](lusca_1[a194_0x5d93('0xd')][a194_0x5d93('0x22')](!![]));app[a194_0x5d93('0x1a')]((_0x3f49d0,_0x5bb286,_0x183680)=>{_0x5bb286[a194_0x5d93('0x23')][a194_0x5d93('0x24')]=_0x3f49d0[a194_0x5d93('0x24')];_0x183680();});app[a194_0x5d93('0x1a')]((_0x518328,_0x26ce3d,_0x26239c)=>{_0x26239c();});app[a194_0x5d93('0x1a')](express_1[a194_0x5d93('0xd')][a194_0x5d93('0x25')](path_1[a194_0x5d93('0xd')][a194_0x5d93('0x16')](__dirname,a194_0x5d93('0x26')),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require(a194_0x5d93('0x27')));const models_1=__importDefault(require(a194_0x5d93('0x28')));const routes_1=__importDefault(require(a194_0x5d93('0x29')));const sequelize_utils_1=__importDefault(require('./infrastructure/sequelize-utils'));const controllers_1=__importDefault(require(a194_0x5d93('0x2a')));const models=new models_1[(a194_0x5d93('0xd'))](sequelize_1[a194_0x5d93('0xd')]);const controllers=new controllers_1[(a194_0x5d93('0xd'))](models);sequelize_utils_1['default'][a194_0x5d93('0x2b')]=models;sequelize_utils_1[a194_0x5d93('0xd')][a194_0x5d93('0x2c')]=controllers;routes_1[a194_0x5d93('0xd')](app,passport_1[a194_0x5d93('0xd')],models,controllers);require('./config/passport')(passport_1['default'],models[a194_0x5d93('0x2d')]);sequelize_utils_1[a194_0x5d93('0xd')][a194_0x5d93('0x2e')]=sequelize_1[a194_0x5d93('0xd')];apiController[a194_0x5d93('0x2f')](sequelize_1[a194_0x5d93('0xd')]);const options={'exclude':['id',a194_0x5d93('0x30'),a194_0x5d93('0x31'),a194_0x5d93('0x32'),a194_0x5d93('0x33'),a194_0x5d93('0x34'),a194_0x5d93('0x35')],'userModel':a194_0x5d93('0x36'),'revisionAttribute':a194_0x5d93('0x37'),'revisionModel':'revision','revisionChangeModel':'revision_change','enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':a194_0x5d93('0x38'),'revisionId':a194_0x5d93('0x39')},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':'current_user_request','continuationKey':a194_0x5d93('0x3a')};const PaperTrail=require(a194_0x5d93('0x3b'))[a194_0x5d93('0x3c')](sequelize_1['default'],options);PaperTrail[a194_0x5d93('0x3d')]({});app[a194_0x5d93('0x3e')](a194_0x5d93('0x3f'),apiController[a194_0x5d93('0x40')]);app['get'](a194_0x5d93('0x41'),apiController[a194_0x5d93('0x42')]);app[a194_0x5d93('0x3e')]('/api/processFtp',apiController['processFtp']);app[a194_0x5d93('0x3e')](a194_0x5d93('0x43'),apiController[a194_0x5d93('0x44')]);app[a194_0x5d93('0x3e')](a194_0x5d93('0x45'),apiController[a194_0x5d93('0x46')]);app[a194_0x5d93('0x3e')]('/api/getPassCountingByHour/:direction',apiController['getPassCountingByHour']);exports[a194_0x5d93('0xd')]=app;