var a194_0x28b2=['SAMEORIGIN','locals','user','join','public','./config/sequelize','./app/routes','./infrastructure/sequelize-utils','./app/controllers','models','./config/passport','usersModel','instance','setSequelize','createdAt','deletedAt','created_at','updated_at','deleted_at','users','revision','revision_change','document_id','user_id','sequelize-paper-trail','init','defineModels','get','syncFtp','downloadFtp','processFtp','/api/getPassCounting/:direction','/api/getPassCountingByDay/:direction','getPassCountingByDay','/api/getPassCountingByHour/:direction','getPassCountingByHour','__esModule','__importStar','hasOwnProperty','call','default','defineProperty','express','compression','body-parser','lusca','express-flash','path','passport','existsSync','.env','debug','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','.env.example','./controllers/api','set','port','env','views','../views','view\x20engine','pug','use','json','10mb','urlencoded','session','xframe'];(function(_0x126f86,_0x19437b){var _0x1485c3=function(_0x3ac23d){while(--_0x3ac23d){_0x126f86['push'](_0x126f86['shift']());}};_0x1485c3(++_0x19437b);}(a194_0x28b2,0xb0));var a194_0x2f58=function(_0x2251b7,_0x453387){_0x2251b7=_0x2251b7-0x0;var _0x4681b3=a194_0x28b2[_0x2251b7];return _0x4681b3;};'use strict';var __importDefault=this&&this['__importDefault']||function(_0x1f1be0){return _0x1f1be0&&_0x1f1be0[a194_0x2f58('0x0')]?_0x1f1be0:{'default':_0x1f1be0};};var __importStar=this&&this[a194_0x2f58('0x1')]||function(_0x50dfbd){if(_0x50dfbd&&_0x50dfbd['__esModule'])return _0x50dfbd;var _0x2de4c3={};if(_0x50dfbd!=null)for(var _0x2f16a8 in _0x50dfbd)if(Object[a194_0x2f58('0x2')][a194_0x2f58('0x3')](_0x50dfbd,_0x2f16a8))_0x2de4c3[_0x2f16a8]=_0x50dfbd[_0x2f16a8];_0x2de4c3[a194_0x2f58('0x4')]=_0x50dfbd;return _0x2de4c3;};Object[a194_0x2f58('0x5')](exports,a194_0x2f58('0x0'),{'value':!![]});const express_1=__importDefault(require(a194_0x2f58('0x6')));const compression_1=__importDefault(require(a194_0x2f58('0x7')));const body_parser_1=__importDefault(require(a194_0x2f58('0x8')));const logger_1=__importDefault(require('./util/logger'));const lusca_1=__importDefault(require(a194_0x2f58('0x9')));const dotenv_1=__importDefault(require('dotenv'));const express_flash_1=__importDefault(require(a194_0x2f58('0xa')));const path_1=__importDefault(require(a194_0x2f58('0xb')));const passport_1=__importDefault(require(a194_0x2f58('0xc')));const express_validator_1=__importDefault(require('express-validator'));const fs_1=__importDefault(require('fs'));const cors=require('cors');if(fs_1[a194_0x2f58('0x4')][a194_0x2f58('0xd')](a194_0x2f58('0xe'))){logger_1['default'][a194_0x2f58('0xf')](a194_0x2f58('0x10'));dotenv_1['default'][a194_0x2f58('0x11')]({'path':'.env'});}else{logger_1[a194_0x2f58('0x4')]['debug'](a194_0x2f58('0x12'));dotenv_1[a194_0x2f58('0x4')][a194_0x2f58('0x11')]({'path':a194_0x2f58('0x13')});}const apiController=__importStar(require(a194_0x2f58('0x14')));const app=express_1[a194_0x2f58('0x4')]();app[a194_0x2f58('0x15')](a194_0x2f58('0x16'),process[a194_0x2f58('0x17')]['PORT']||0xbb8);app[a194_0x2f58('0x15')](a194_0x2f58('0x18'),path_1[a194_0x2f58('0x4')]['join'](__dirname,a194_0x2f58('0x19')));app[a194_0x2f58('0x15')](a194_0x2f58('0x1a'),a194_0x2f58('0x1b'));app[a194_0x2f58('0x1c')](compression_1[a194_0x2f58('0x4')]());app[a194_0x2f58('0x1c')](body_parser_1[a194_0x2f58('0x4')][a194_0x2f58('0x1d')]({'limit':a194_0x2f58('0x1e')}));app[a194_0x2f58('0x1c')](body_parser_1['default'][a194_0x2f58('0x1f')]({'limit':a194_0x2f58('0x1e'),'extended':!![]}));app[a194_0x2f58('0x1c')](cors());app[a194_0x2f58('0x1c')](express_validator_1['default']());app[a194_0x2f58('0x1c')](passport_1[a194_0x2f58('0x4')]['initialize']());app['use'](passport_1[a194_0x2f58('0x4')][a194_0x2f58('0x20')]());app[a194_0x2f58('0x1c')](express_flash_1[a194_0x2f58('0x4')]());app[a194_0x2f58('0x1c')](lusca_1[a194_0x2f58('0x4')][a194_0x2f58('0x21')](a194_0x2f58('0x22')));app['use'](lusca_1['default']['xssProtection'](!![]));app[a194_0x2f58('0x1c')]((_0x2b7927,_0x47af1e,_0x367965)=>{_0x47af1e[a194_0x2f58('0x23')][a194_0x2f58('0x24')]=_0x2b7927[a194_0x2f58('0x24')];_0x367965();});app[a194_0x2f58('0x1c')]((_0x2944a2,_0x353bf3,_0x18ba56)=>{_0x18ba56();});app[a194_0x2f58('0x1c')](express_1[a194_0x2f58('0x4')]['static'](path_1[a194_0x2f58('0x4')][a194_0x2f58('0x25')](__dirname,a194_0x2f58('0x26')),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require(a194_0x2f58('0x27')));const models_1=__importDefault(require('./app/models'));const routes_1=__importDefault(require(a194_0x2f58('0x28')));const sequelize_utils_1=__importDefault(require(a194_0x2f58('0x29')));const controllers_1=__importDefault(require(a194_0x2f58('0x2a')));const models=new models_1[(a194_0x2f58('0x4'))](sequelize_1[a194_0x2f58('0x4')]);const controllers=new controllers_1[(a194_0x2f58('0x4'))](models);sequelize_utils_1[a194_0x2f58('0x4')][a194_0x2f58('0x2b')]=models;sequelize_utils_1[a194_0x2f58('0x4')]['controllers']=controllers;routes_1[a194_0x2f58('0x4')](app,passport_1[a194_0x2f58('0x4')],models,controllers);require(a194_0x2f58('0x2c'))(passport_1[a194_0x2f58('0x4')],models[a194_0x2f58('0x2d')]);sequelize_utils_1[a194_0x2f58('0x4')][a194_0x2f58('0x2e')]=sequelize_1[a194_0x2f58('0x4')];apiController[a194_0x2f58('0x2f')](sequelize_1[a194_0x2f58('0x4')]);const options={'exclude':['id',a194_0x2f58('0x30'),'updatedAt',a194_0x2f58('0x31'),a194_0x2f58('0x32'),a194_0x2f58('0x33'),a194_0x2f58('0x34')],'userModel':a194_0x2f58('0x35'),'revisionAttribute':a194_0x2f58('0x36'),'revisionModel':a194_0x2f58('0x36'),'revisionChangeModel':a194_0x2f58('0x37'),'enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':a194_0x2f58('0x38'),'revisionId':'revision_id'},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':'current_user_request','continuationKey':a194_0x2f58('0x39')};const PaperTrail=require(a194_0x2f58('0x3a'))[a194_0x2f58('0x3b')](sequelize_1[a194_0x2f58('0x4')],options);PaperTrail[a194_0x2f58('0x3c')]({});app[a194_0x2f58('0x3d')]('/api/syncftp',apiController[a194_0x2f58('0x3e')]);app[a194_0x2f58('0x3d')]('/api/downloadFtp',apiController[a194_0x2f58('0x3f')]);app[a194_0x2f58('0x3d')]('/api/processFtp',apiController[a194_0x2f58('0x40')]);app[a194_0x2f58('0x3d')](a194_0x2f58('0x41'),apiController['getPassCounting']);app[a194_0x2f58('0x3d')](a194_0x2f58('0x42'),apiController[a194_0x2f58('0x43')]);app[a194_0x2f58('0x3d')](a194_0x2f58('0x44'),apiController[a194_0x2f58('0x45')]);exports[a194_0x2f58('0x4')]=app;