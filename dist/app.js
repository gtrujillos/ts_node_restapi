var a88_0x1687=['users','revision','revision_change','sequelize-paper-trail','init','get','downloadFtp','/api/processFtp','/api/getPassCounting/:direction','getPassCounting','/api/getPassCountingByDay/:direction','getPassCountingByDay','/api/getPassCountingByHour/:direction','getPassCountingByHour','__importDefault','__importStar','__esModule','call','default','express','body-parser','./util/logger','lusca','dotenv','express-flash','path','passport','express-validator','.env','debug','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','set','port','env','PORT','views','join','../views','pug','use','urlencoded','initialize','session','xframe','SAMEORIGIN','locals','user','public','./config/sequelize','./app/models','./app/routes','./infrastructure/sequelize-utils','./app/controllers','models','controllers','./config/passport','setSequelize','createdAt','deletedAt','created_at','updated_at','deleted_at'];(function(_0xb5b909,_0x4bf449){var _0x468814=function(_0xfb63c0){while(--_0xfb63c0){_0xb5b909['push'](_0xb5b909['shift']());}};_0x468814(++_0x4bf449);}(a88_0x1687,0x188));var a88_0x5e08=function(_0x4e104c,_0x2a38ba){_0x4e104c=_0x4e104c-0x0;var _0x1d773d=a88_0x1687[_0x4e104c];return _0x1d773d;};'use strict';var __importDefault=this&&this[a88_0x5e08('0x0')]||function(_0x5a2464){return _0x5a2464&&_0x5a2464['__esModule']?_0x5a2464:{'default':_0x5a2464};};var __importStar=this&&this[a88_0x5e08('0x1')]||function(_0x245f48){if(_0x245f48&&_0x245f48[a88_0x5e08('0x2')])return _0x245f48;var _0x847ece={};if(_0x245f48!=null)for(var _0x18cb69 in _0x245f48)if(Object['hasOwnProperty'][a88_0x5e08('0x3')](_0x245f48,_0x18cb69))_0x847ece[_0x18cb69]=_0x245f48[_0x18cb69];_0x847ece[a88_0x5e08('0x4')]=_0x245f48;return _0x847ece;};Object['defineProperty'](exports,'__esModule',{'value':!![]});const express_1=__importDefault(require(a88_0x5e08('0x5')));const compression_1=__importDefault(require('compression'));const body_parser_1=__importDefault(require(a88_0x5e08('0x6')));const logger_1=__importDefault(require(a88_0x5e08('0x7')));const lusca_1=__importDefault(require(a88_0x5e08('0x8')));const dotenv_1=__importDefault(require(a88_0x5e08('0x9')));const express_flash_1=__importDefault(require(a88_0x5e08('0xa')));const path_1=__importDefault(require(a88_0x5e08('0xb')));const passport_1=__importDefault(require(a88_0x5e08('0xc')));const express_validator_1=__importDefault(require(a88_0x5e08('0xd')));const fs_1=__importDefault(require('fs'));if(fs_1[a88_0x5e08('0x4')]['existsSync'](a88_0x5e08('0xe'))){logger_1[a88_0x5e08('0x4')][a88_0x5e08('0xf')]('Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables');dotenv_1[a88_0x5e08('0x4')]['config']({'path':'.env'});}else{logger_1['default']['debug'](a88_0x5e08('0x10'));dotenv_1[a88_0x5e08('0x4')][a88_0x5e08('0x11')]({'path':'.env.example'});}const apiController=__importStar(require('./controllers/api'));const app=express_1[a88_0x5e08('0x4')]();app[a88_0x5e08('0x12')](a88_0x5e08('0x13'),process[a88_0x5e08('0x14')][a88_0x5e08('0x15')]||0xbb8);app['set'](a88_0x5e08('0x16'),path_1[a88_0x5e08('0x4')][a88_0x5e08('0x17')](__dirname,a88_0x5e08('0x18')));app['set']('view\x20engine',a88_0x5e08('0x19'));app[a88_0x5e08('0x1a')](compression_1['default']());app[a88_0x5e08('0x1a')](body_parser_1[a88_0x5e08('0x4')]['json']());app[a88_0x5e08('0x1a')](body_parser_1['default'][a88_0x5e08('0x1b')]({'extended':!![]}));app[a88_0x5e08('0x1a')](express_validator_1[a88_0x5e08('0x4')]());app[a88_0x5e08('0x1a')](passport_1[a88_0x5e08('0x4')][a88_0x5e08('0x1c')]());app['use'](passport_1[a88_0x5e08('0x4')][a88_0x5e08('0x1d')]());app[a88_0x5e08('0x1a')](express_flash_1[a88_0x5e08('0x4')]());app[a88_0x5e08('0x1a')](lusca_1[a88_0x5e08('0x4')][a88_0x5e08('0x1e')](a88_0x5e08('0x1f')));app[a88_0x5e08('0x1a')](lusca_1['default']['xssProtection'](!![]));app[a88_0x5e08('0x1a')]((_0x3e96f3,_0x21bc4,_0x540b9c)=>{_0x21bc4[a88_0x5e08('0x20')]['user']=_0x3e96f3[a88_0x5e08('0x21')];_0x540b9c();});app[a88_0x5e08('0x1a')]((_0x517728,_0x31114a,_0x452ff8)=>{_0x452ff8();});app[a88_0x5e08('0x1a')](express_1[a88_0x5e08('0x4')]['static'](path_1['default'][a88_0x5e08('0x17')](__dirname,a88_0x5e08('0x22')),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require(a88_0x5e08('0x23')));const models_1=__importDefault(require(a88_0x5e08('0x24')));const routes_1=__importDefault(require(a88_0x5e08('0x25')));const sequelize_utils_1=__importDefault(require(a88_0x5e08('0x26')));const controllers_1=__importDefault(require(a88_0x5e08('0x27')));const models=new models_1[(a88_0x5e08('0x4'))](sequelize_1['default']);const controllers=new controllers_1[(a88_0x5e08('0x4'))](models);sequelize_utils_1[a88_0x5e08('0x4')][a88_0x5e08('0x28')]=models;sequelize_utils_1['default'][a88_0x5e08('0x29')]=controllers;routes_1[a88_0x5e08('0x4')](app,passport_1[a88_0x5e08('0x4')],models,controllers);require(a88_0x5e08('0x2a'))(passport_1[a88_0x5e08('0x4')],models['usersModel']);sequelize_utils_1[a88_0x5e08('0x4')]['instance']=sequelize_1[a88_0x5e08('0x4')];apiController[a88_0x5e08('0x2b')](sequelize_1[a88_0x5e08('0x4')]);const options={'exclude':['id',a88_0x5e08('0x2c'),'updatedAt',a88_0x5e08('0x2d'),a88_0x5e08('0x2e'),a88_0x5e08('0x2f'),a88_0x5e08('0x30')],'userModel':a88_0x5e08('0x31'),'revisionAttribute':a88_0x5e08('0x32'),'revisionModel':a88_0x5e08('0x32'),'revisionChangeModel':a88_0x5e08('0x33'),'enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':'document_id','revisionId':'revision_id'},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':'current_user_request','continuationKey':'user_id'};const PaperTrail=require(a88_0x5e08('0x34'))[a88_0x5e08('0x35')](sequelize_1[a88_0x5e08('0x4')],options);PaperTrail['defineModels']({});app[a88_0x5e08('0x36')]('/api/syncftp',apiController['syncFtp']);app[a88_0x5e08('0x36')]('/api/downloadFtp',apiController[a88_0x5e08('0x37')]);app[a88_0x5e08('0x36')](a88_0x5e08('0x38'),apiController['processFtp']);app['get'](a88_0x5e08('0x39'),apiController[a88_0x5e08('0x3a')]);app[a88_0x5e08('0x36')](a88_0x5e08('0x3b'),apiController[a88_0x5e08('0x3c')]);app['get'](a88_0x5e08('0x3d'),apiController[a88_0x5e08('0x3e')]);exports[a88_0x5e08('0x4')]=app;