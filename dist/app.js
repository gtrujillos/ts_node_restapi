var a194_0x345c=['default','existsSync','.env','debug','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','.env.example','./controllers/api','set','port','env','PORT','views','join','../views','view\x20engine','pug','use','10mb','urlencoded','options','initialize','session','xframe','SAMEORIGIN','locals','user','static','./infrastructure/sequelize-utils','./app/controllers','controllers','./config/passport','usersModel','instance','createdAt','updatedAt','deletedAt','created_at','updated_at','deleted_at','revision','revision_change','revision_id','sequelize-paper-trail','defineModels','get','/api/syncftp','syncFtp','/api/downloadFtp','downloadFtp','processFtp','/api/getPassCounting/:direction','getPassCounting','/api/getPassCountingByDay/:direction','getPassCountingByDay','/api/getPassCountingByHour/:direction','__importStar','hasOwnProperty','defineProperty','__esModule','express','lusca','dotenv','express-flash','path','cors'];(function(_0x2c8c2b,_0x335aa1){var _0x418d0e=function(_0x119f81){while(--_0x119f81){_0x2c8c2b['push'](_0x2c8c2b['shift']());}};_0x418d0e(++_0x335aa1);}(a194_0x345c,0xbf));var a194_0x3baf=function(_0x5ed68a,_0x4f9f5c){_0x5ed68a=_0x5ed68a-0x0;var _0x191447=a194_0x345c[_0x5ed68a];return _0x191447;};'use strict';var __importDefault=this&&this['__importDefault']||function(_0x3cc705){return _0x3cc705&&_0x3cc705['__esModule']?_0x3cc705:{'default':_0x3cc705};};var __importStar=this&&this[a194_0x3baf('0x0')]||function(_0x53ab38){if(_0x53ab38&&_0x53ab38['__esModule'])return _0x53ab38;var _0x960b63={};if(_0x53ab38!=null)for(var _0xfffca5 in _0x53ab38)if(Object[a194_0x3baf('0x1')]['call'](_0x53ab38,_0xfffca5))_0x960b63[_0xfffca5]=_0x53ab38[_0xfffca5];_0x960b63['default']=_0x53ab38;return _0x960b63;};Object[a194_0x3baf('0x2')](exports,a194_0x3baf('0x3'),{'value':!![]});const express_1=__importDefault(require(a194_0x3baf('0x4')));const compression_1=__importDefault(require('compression'));const body_parser_1=__importDefault(require('body-parser'));const logger_1=__importDefault(require('./util/logger'));const lusca_1=__importDefault(require(a194_0x3baf('0x5')));const dotenv_1=__importDefault(require(a194_0x3baf('0x6')));const express_flash_1=__importDefault(require(a194_0x3baf('0x7')));const path_1=__importDefault(require(a194_0x3baf('0x8')));const passport_1=__importDefault(require('passport'));const express_validator_1=__importDefault(require('express-validator'));const fs_1=__importDefault(require('fs'));const cors=require(a194_0x3baf('0x9'));if(fs_1[a194_0x3baf('0xa')][a194_0x3baf('0xb')](a194_0x3baf('0xc'))){logger_1[a194_0x3baf('0xa')][a194_0x3baf('0xd')](a194_0x3baf('0xe'));dotenv_1[a194_0x3baf('0xa')][a194_0x3baf('0xf')]({'path':a194_0x3baf('0xc')});}else{logger_1[a194_0x3baf('0xa')][a194_0x3baf('0xd')](a194_0x3baf('0x10'));dotenv_1['default'][a194_0x3baf('0xf')]({'path':a194_0x3baf('0x11')});}const apiController=__importStar(require(a194_0x3baf('0x12')));const app=express_1[a194_0x3baf('0xa')]();app[a194_0x3baf('0x13')](a194_0x3baf('0x14'),process[a194_0x3baf('0x15')][a194_0x3baf('0x16')]||0xbb8);app[a194_0x3baf('0x13')](a194_0x3baf('0x17'),path_1['default'][a194_0x3baf('0x18')](__dirname,a194_0x3baf('0x19')));app[a194_0x3baf('0x13')](a194_0x3baf('0x1a'),a194_0x3baf('0x1b'));app[a194_0x3baf('0x1c')](compression_1[a194_0x3baf('0xa')]());app[a194_0x3baf('0x1c')](body_parser_1[a194_0x3baf('0xa')]['json']({'limit':a194_0x3baf('0x1d')}));app[a194_0x3baf('0x1c')](body_parser_1[a194_0x3baf('0xa')][a194_0x3baf('0x1e')]({'limit':'10mb','extended':!![]}));app[a194_0x3baf('0x1c')](cors());app[a194_0x3baf('0x1f')]('*',cors());app['use'](express_validator_1[a194_0x3baf('0xa')]());app[a194_0x3baf('0x1c')](passport_1[a194_0x3baf('0xa')][a194_0x3baf('0x20')]());app['use'](passport_1[a194_0x3baf('0xa')][a194_0x3baf('0x21')]());app[a194_0x3baf('0x1c')](express_flash_1['default']());app[a194_0x3baf('0x1c')](lusca_1['default'][a194_0x3baf('0x22')](a194_0x3baf('0x23')));app[a194_0x3baf('0x1c')](lusca_1[a194_0x3baf('0xa')]['xssProtection'](!![]));app[a194_0x3baf('0x1c')]((_0x24494,_0x3280f0,_0x222eb0)=>{_0x3280f0[a194_0x3baf('0x24')][a194_0x3baf('0x25')]=_0x24494[a194_0x3baf('0x25')];_0x222eb0();});app[a194_0x3baf('0x1c')]((_0x424ba1,_0x35dacf,_0x32607f)=>{_0x32607f();});app[a194_0x3baf('0x1c')](express_1[a194_0x3baf('0xa')][a194_0x3baf('0x26')](path_1[a194_0x3baf('0xa')][a194_0x3baf('0x18')](__dirname,'public'),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require('./config/sequelize'));const models_1=__importDefault(require('./app/models'));const routes_1=__importDefault(require('./app/routes'));const sequelize_utils_1=__importDefault(require(a194_0x3baf('0x27')));const controllers_1=__importDefault(require(a194_0x3baf('0x28')));const models=new models_1[(a194_0x3baf('0xa'))](sequelize_1[a194_0x3baf('0xa')]);const controllers=new controllers_1['default'](models);sequelize_utils_1[a194_0x3baf('0xa')]['models']=models;sequelize_utils_1['default'][a194_0x3baf('0x29')]=controllers;routes_1[a194_0x3baf('0xa')](app,passport_1['default'],models,controllers);require(a194_0x3baf('0x2a'))(passport_1[a194_0x3baf('0xa')],models[a194_0x3baf('0x2b')]);sequelize_utils_1['default'][a194_0x3baf('0x2c')]=sequelize_1[a194_0x3baf('0xa')];apiController['setSequelize'](sequelize_1[a194_0x3baf('0xa')]);const options={'exclude':['id',a194_0x3baf('0x2d'),a194_0x3baf('0x2e'),a194_0x3baf('0x2f'),a194_0x3baf('0x30'),a194_0x3baf('0x31'),a194_0x3baf('0x32')],'userModel':'users','revisionAttribute':a194_0x3baf('0x33'),'revisionModel':a194_0x3baf('0x33'),'revisionChangeModel':a194_0x3baf('0x34'),'enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':'document_id','revisionId':a194_0x3baf('0x35')},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':'current_user_request','continuationKey':'user_id'};const PaperTrail=require(a194_0x3baf('0x36'))['init'](sequelize_1[a194_0x3baf('0xa')],options);PaperTrail[a194_0x3baf('0x37')]({});app[a194_0x3baf('0x38')](a194_0x3baf('0x39'),apiController[a194_0x3baf('0x3a')]);app[a194_0x3baf('0x38')](a194_0x3baf('0x3b'),apiController[a194_0x3baf('0x3c')]);app[a194_0x3baf('0x38')]('/api/processFtp',apiController[a194_0x3baf('0x3d')]);app[a194_0x3baf('0x38')](a194_0x3baf('0x3e'),apiController[a194_0x3baf('0x3f')]);app[a194_0x3baf('0x38')](a194_0x3baf('0x40'),apiController[a194_0x3baf('0x41')]);app[a194_0x3baf('0x38')](a194_0x3baf('0x42'),apiController['getPassCountingByHour']);exports[a194_0x3baf('0xa')]=app;