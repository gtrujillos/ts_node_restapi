var a88_0x2684=['updated_at','deleted_at','users','revision','revision_change','document_id','revision_id','current_user_request','defineModels','get','/api/syncftp','syncFtp','/api/downloadFtp','downloadFtp','/api/processFtp','/api/getPassCounting/:direction','getPassCounting','/api/getPassCountingByDay/:direction','getPassCountingByDay','getPassCountingByHour','__importDefault','__esModule','__importStar','call','default','express','compression','./util/logger','lusca','dotenv','passport','express-validator','cors','debug','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','.env','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','.env.example','./controllers/api','set','env','PORT','views','join','../views','view\x20engine','pug','use','urlencoded','session','xframe','SAMEORIGIN','xssProtection','user','static','public','./config/sequelize','./app/models','./app/routes','./infrastructure/sequelize-utils','./app/controllers','models','controllers','./config/passport','usersModel','instance','setSequelize','createdAt','updatedAt','created_at'];(function(_0x4528f9,_0xad94f8){var _0x573240=function(_0x5d6087){while(--_0x5d6087){_0x4528f9['push'](_0x4528f9['shift']());}};_0x573240(++_0xad94f8);}(a88_0x2684,0x1be));var a88_0xeb08=function(_0x41bdc0,_0x3b9b28){_0x41bdc0=_0x41bdc0-0x0;var _0x2f8a0c=a88_0x2684[_0x41bdc0];return _0x2f8a0c;};'use strict';var __importDefault=this&&this[a88_0xeb08('0x0')]||function(_0x8f9c05){return _0x8f9c05&&_0x8f9c05[a88_0xeb08('0x1')]?_0x8f9c05:{'default':_0x8f9c05};};var __importStar=this&&this[a88_0xeb08('0x2')]||function(_0x4b40eb){if(_0x4b40eb&&_0x4b40eb['__esModule'])return _0x4b40eb;var _0x3d4e7f={};if(_0x4b40eb!=null)for(var _0x30c752 in _0x4b40eb)if(Object['hasOwnProperty'][a88_0xeb08('0x3')](_0x4b40eb,_0x30c752))_0x3d4e7f[_0x30c752]=_0x4b40eb[_0x30c752];_0x3d4e7f[a88_0xeb08('0x4')]=_0x4b40eb;return _0x3d4e7f;};Object['defineProperty'](exports,a88_0xeb08('0x1'),{'value':!![]});const express_1=__importDefault(require(a88_0xeb08('0x5')));const compression_1=__importDefault(require(a88_0xeb08('0x6')));const body_parser_1=__importDefault(require('body-parser'));const logger_1=__importDefault(require(a88_0xeb08('0x7')));const lusca_1=__importDefault(require(a88_0xeb08('0x8')));const dotenv_1=__importDefault(require(a88_0xeb08('0x9')));const express_flash_1=__importDefault(require('express-flash'));const path_1=__importDefault(require('path'));const passport_1=__importDefault(require(a88_0xeb08('0xa')));const express_validator_1=__importDefault(require(a88_0xeb08('0xb')));const fs_1=__importDefault(require('fs'));const cors=require(a88_0xeb08('0xc'));if(fs_1[a88_0xeb08('0x4')]['existsSync']('.env')){logger_1[a88_0xeb08('0x4')][a88_0xeb08('0xd')](a88_0xeb08('0xe'));dotenv_1[a88_0xeb08('0x4')][a88_0xeb08('0xf')]({'path':a88_0xeb08('0x10')});}else{logger_1['default'][a88_0xeb08('0xd')](a88_0xeb08('0x11'));dotenv_1[a88_0xeb08('0x4')][a88_0xeb08('0xf')]({'path':a88_0xeb08('0x12')});}const apiController=__importStar(require(a88_0xeb08('0x13')));const app=express_1[a88_0xeb08('0x4')]();app[a88_0xeb08('0x14')]('port',process[a88_0xeb08('0x15')][a88_0xeb08('0x16')]||0xbb8);app[a88_0xeb08('0x14')](a88_0xeb08('0x17'),path_1[a88_0xeb08('0x4')][a88_0xeb08('0x18')](__dirname,a88_0xeb08('0x19')));app[a88_0xeb08('0x14')](a88_0xeb08('0x1a'),a88_0xeb08('0x1b'));app[a88_0xeb08('0x1c')](compression_1['default']());app['use'](body_parser_1['default']['json']());app[a88_0xeb08('0x1c')](cors());app[a88_0xeb08('0x1c')](body_parser_1[a88_0xeb08('0x4')][a88_0xeb08('0x1d')]({'extended':!![]}));app['use'](express_validator_1[a88_0xeb08('0x4')]());app[a88_0xeb08('0x1c')](passport_1[a88_0xeb08('0x4')]['initialize']());app[a88_0xeb08('0x1c')](passport_1[a88_0xeb08('0x4')][a88_0xeb08('0x1e')]());app[a88_0xeb08('0x1c')](express_flash_1[a88_0xeb08('0x4')]());app[a88_0xeb08('0x1c')](lusca_1[a88_0xeb08('0x4')][a88_0xeb08('0x1f')](a88_0xeb08('0x20')));app[a88_0xeb08('0x1c')](lusca_1[a88_0xeb08('0x4')][a88_0xeb08('0x21')](!![]));app[a88_0xeb08('0x1c')]((_0x4a399e,_0x469ca0,_0xaf1b70)=>{_0x469ca0['locals'][a88_0xeb08('0x22')]=_0x4a399e[a88_0xeb08('0x22')];_0xaf1b70();});app['use']((_0xfd3a76,_0xaf24d3,_0x2a4acd)=>{_0x2a4acd();});app[a88_0xeb08('0x1c')](express_1[a88_0xeb08('0x4')][a88_0xeb08('0x23')](path_1[a88_0xeb08('0x4')][a88_0xeb08('0x18')](__dirname,a88_0xeb08('0x24')),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require(a88_0xeb08('0x25')));const models_1=__importDefault(require(a88_0xeb08('0x26')));const routes_1=__importDefault(require(a88_0xeb08('0x27')));const sequelize_utils_1=__importDefault(require(a88_0xeb08('0x28')));const controllers_1=__importDefault(require(a88_0xeb08('0x29')));const models=new models_1[(a88_0xeb08('0x4'))](sequelize_1[a88_0xeb08('0x4')]);const controllers=new controllers_1[(a88_0xeb08('0x4'))](models);sequelize_utils_1['default'][a88_0xeb08('0x2a')]=models;sequelize_utils_1[a88_0xeb08('0x4')][a88_0xeb08('0x2b')]=controllers;routes_1[a88_0xeb08('0x4')](app,passport_1[a88_0xeb08('0x4')],models,controllers);require(a88_0xeb08('0x2c'))(passport_1['default'],models[a88_0xeb08('0x2d')]);sequelize_utils_1[a88_0xeb08('0x4')][a88_0xeb08('0x2e')]=sequelize_1[a88_0xeb08('0x4')];apiController[a88_0xeb08('0x2f')](sequelize_1[a88_0xeb08('0x4')]);const options={'exclude':['id',a88_0xeb08('0x30'),a88_0xeb08('0x31'),'deletedAt',a88_0xeb08('0x32'),a88_0xeb08('0x33'),a88_0xeb08('0x34')],'userModel':a88_0xeb08('0x35'),'revisionAttribute':a88_0xeb08('0x36'),'revisionModel':a88_0xeb08('0x36'),'revisionChangeModel':a88_0xeb08('0x37'),'enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':a88_0xeb08('0x38'),'revisionId':a88_0xeb08('0x39')},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':a88_0xeb08('0x3a'),'continuationKey':'user_id'};const PaperTrail=require('sequelize-paper-trail')['init'](sequelize_1['default'],options);PaperTrail[a88_0xeb08('0x3b')]({});app[a88_0xeb08('0x3c')](a88_0xeb08('0x3d'),apiController[a88_0xeb08('0x3e')]);app[a88_0xeb08('0x3c')](a88_0xeb08('0x3f'),apiController[a88_0xeb08('0x40')]);app['get'](a88_0xeb08('0x41'),apiController['processFtp']);app['get'](a88_0xeb08('0x42'),apiController[a88_0xeb08('0x43')]);app['get'](a88_0xeb08('0x44'),apiController[a88_0xeb08('0x45')]);app[a88_0xeb08('0x3c')]('/api/getPassCountingByHour/:direction',apiController[a88_0xeb08('0x46')]);exports['default']=app;