var a88_0x3cff=['express','compression','body-parser','./util/logger','lusca','express-flash','path','passport','express-validator','default','existsSync','.env','debug','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','.env.example','./controllers/api','port','env','PORT','set','views','join','../views','view\x20engine','pug','use','json','urlencoded','initialize','session','xframe','SAMEORIGIN','xssProtection','locals','static','./config/sequelize','./app/models','./infrastructure/sequelize-utils','./app/controllers','controllers','./config/passport','instance','setSequelize','createdAt','updatedAt','deletedAt','created_at','updated_at','deleted_at','users','revision','revision_change','revision_id','user_id','sequelize-paper-trail','defineModels','get','/api/syncftp','/api/downloadFtp','downloadFtp','/api/processFtp','processFtp','/api/getPassCounting/:direction','getPassCounting','/api/getPassCountingByDay/:direction','getPassCountingByHour','__importDefault','__esModule','__importStar','hasOwnProperty','defineProperty'];(function(_0x457dbb,_0x3ff3b9){var _0x315098=function(_0x4850c9){while(--_0x4850c9){_0x457dbb['push'](_0x457dbb['shift']());}};_0x315098(++_0x3ff3b9);}(a88_0x3cff,0x168));var a88_0x3701=function(_0xbeda41,_0x1e8a84){_0xbeda41=_0xbeda41-0x0;var _0xb30256=a88_0x3cff[_0xbeda41];return _0xb30256;};'use strict';var __importDefault=this&&this[a88_0x3701('0x0')]||function(_0x5662a7){return _0x5662a7&&_0x5662a7[a88_0x3701('0x1')]?_0x5662a7:{'default':_0x5662a7};};var __importStar=this&&this[a88_0x3701('0x2')]||function(_0x474b49){if(_0x474b49&&_0x474b49['__esModule'])return _0x474b49;var _0xd25f3d={};if(_0x474b49!=null)for(var _0x35a3ea in _0x474b49)if(Object[a88_0x3701('0x3')]['call'](_0x474b49,_0x35a3ea))_0xd25f3d[_0x35a3ea]=_0x474b49[_0x35a3ea];_0xd25f3d['default']=_0x474b49;return _0xd25f3d;};Object[a88_0x3701('0x4')](exports,a88_0x3701('0x1'),{'value':!![]});const express_1=__importDefault(require(a88_0x3701('0x5')));const compression_1=__importDefault(require(a88_0x3701('0x6')));const body_parser_1=__importDefault(require(a88_0x3701('0x7')));const logger_1=__importDefault(require(a88_0x3701('0x8')));const lusca_1=__importDefault(require(a88_0x3701('0x9')));const dotenv_1=__importDefault(require('dotenv'));const express_flash_1=__importDefault(require(a88_0x3701('0xa')));const path_1=__importDefault(require(a88_0x3701('0xb')));const passport_1=__importDefault(require(a88_0x3701('0xc')));const express_validator_1=__importDefault(require(a88_0x3701('0xd')));const fs_1=__importDefault(require('fs'));if(fs_1[a88_0x3701('0xe')][a88_0x3701('0xf')](a88_0x3701('0x10'))){logger_1[a88_0x3701('0xe')][a88_0x3701('0x11')](a88_0x3701('0x12'));dotenv_1[a88_0x3701('0xe')][a88_0x3701('0x13')]({'path':'.env'});}else{logger_1[a88_0x3701('0xe')][a88_0x3701('0x11')](a88_0x3701('0x14'));dotenv_1[a88_0x3701('0xe')][a88_0x3701('0x13')]({'path':a88_0x3701('0x15')});}const apiController=__importStar(require(a88_0x3701('0x16')));const app=express_1[a88_0x3701('0xe')]();app['set'](a88_0x3701('0x17'),process[a88_0x3701('0x18')][a88_0x3701('0x19')]||0xbb8);app[a88_0x3701('0x1a')](a88_0x3701('0x1b'),path_1[a88_0x3701('0xe')][a88_0x3701('0x1c')](__dirname,a88_0x3701('0x1d')));app[a88_0x3701('0x1a')](a88_0x3701('0x1e'),a88_0x3701('0x1f'));app[a88_0x3701('0x20')](compression_1[a88_0x3701('0xe')]());app[a88_0x3701('0x20')](body_parser_1['default'][a88_0x3701('0x21')]());app[a88_0x3701('0x20')](body_parser_1[a88_0x3701('0xe')][a88_0x3701('0x22')]({'extended':!![]}));app[a88_0x3701('0x20')](express_validator_1[a88_0x3701('0xe')]());app[a88_0x3701('0x20')](passport_1[a88_0x3701('0xe')][a88_0x3701('0x23')]());app[a88_0x3701('0x20')](passport_1[a88_0x3701('0xe')][a88_0x3701('0x24')]());app[a88_0x3701('0x20')](express_flash_1[a88_0x3701('0xe')]());app[a88_0x3701('0x20')](lusca_1['default'][a88_0x3701('0x25')](a88_0x3701('0x26')));app[a88_0x3701('0x20')](lusca_1[a88_0x3701('0xe')][a88_0x3701('0x27')](!![]));app[a88_0x3701('0x20')]((_0x52de4a,_0x6ca083,_0x4b6f69)=>{_0x6ca083[a88_0x3701('0x28')]['user']=_0x52de4a['user'];_0x4b6f69();});app[a88_0x3701('0x20')]((_0x586047,_0x44a39c,_0x472a86)=>{_0x472a86();});app[a88_0x3701('0x20')](express_1[a88_0x3701('0xe')][a88_0x3701('0x29')](path_1['default'][a88_0x3701('0x1c')](__dirname,'public'),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require(a88_0x3701('0x2a')));const models_1=__importDefault(require(a88_0x3701('0x2b')));const routes_1=__importDefault(require('./app/routes'));const sequelize_utils_1=__importDefault(require(a88_0x3701('0x2c')));const controllers_1=__importDefault(require(a88_0x3701('0x2d')));const models=new models_1[(a88_0x3701('0xe'))](sequelize_1[a88_0x3701('0xe')]);const controllers=new controllers_1[(a88_0x3701('0xe'))](models);sequelize_utils_1['default']['models']=models;sequelize_utils_1['default'][a88_0x3701('0x2e')]=controllers;routes_1[a88_0x3701('0xe')](app,passport_1[a88_0x3701('0xe')],models,controllers);require(a88_0x3701('0x2f'))(passport_1[a88_0x3701('0xe')],models['usersModel']);sequelize_utils_1['default'][a88_0x3701('0x30')]=sequelize_1[a88_0x3701('0xe')];apiController[a88_0x3701('0x31')](sequelize_1[a88_0x3701('0xe')]);const options={'exclude':['id',a88_0x3701('0x32'),a88_0x3701('0x33'),a88_0x3701('0x34'),a88_0x3701('0x35'),a88_0x3701('0x36'),a88_0x3701('0x37')],'userModel':a88_0x3701('0x38'),'revisionAttribute':'revision','revisionModel':a88_0x3701('0x39'),'revisionChangeModel':a88_0x3701('0x3a'),'enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':'document_id','revisionId':a88_0x3701('0x3b')},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':'current_user_request','continuationKey':a88_0x3701('0x3c')};const PaperTrail=require(a88_0x3701('0x3d'))['init'](sequelize_1[a88_0x3701('0xe')],options);PaperTrail[a88_0x3701('0x3e')]({});app[a88_0x3701('0x3f')](a88_0x3701('0x40'),apiController['syncFtp']);app['get'](a88_0x3701('0x41'),apiController[a88_0x3701('0x42')]);app[a88_0x3701('0x3f')](a88_0x3701('0x43'),apiController[a88_0x3701('0x44')]);app[a88_0x3701('0x3f')](a88_0x3701('0x45'),apiController[a88_0x3701('0x46')]);app[a88_0x3701('0x3f')](a88_0x3701('0x47'),apiController['getPassCountingByDay']);app['get']('/api/getPassCountingByHour/:direction',apiController[a88_0x3701('0x48')]);exports[a88_0x3701('0xe')]=app;