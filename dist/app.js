var a88_0x42ff=['downloadFtp','/api/processFtp','processFtp','/api/getPassCounting/:direction','getPassCounting','/api/getPassCountingByDay/:direction','/api/getPassCountingByHour/:direction','__esModule','__importStar','hasOwnProperty','call','default','defineProperty','compression','body-parser','./util/logger','lusca','dotenv','express-flash','path','passport','express-validator','cors','existsSync','.env','debug','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','.env.example','set','port','env','PORT','join','../views','view\x20engine','pug','use','options','urlencoded','initialize','session','xframe','SAMEORIGIN','xssProtection','locals','user','./app/models','./infrastructure/sequelize-utils','models','controllers','./config/passport','usersModel','setSequelize','createdAt','deletedAt','created_at','updated_at','deleted_at','users','revision','revision_change','revision_id','current_user_request','user_id','sequelize-paper-trail','init','defineModels','get','/api/syncftp','syncFtp','/api/downloadFtp'];(function(_0x482697,_0x4a62bb){var _0x164639=function(_0x5aee08){while(--_0x5aee08){_0x482697['push'](_0x482697['shift']());}};_0x164639(++_0x4a62bb);}(a88_0x42ff,0xe2));var a88_0x56be=function(_0x50f4fd,_0x4d630b){_0x50f4fd=_0x50f4fd-0x0;var _0x39fba0=a88_0x42ff[_0x50f4fd];return _0x39fba0;};'use strict';var __importDefault=this&&this['__importDefault']||function(_0x2e0a6c){return _0x2e0a6c&&_0x2e0a6c[a88_0x56be('0x0')]?_0x2e0a6c:{'default':_0x2e0a6c};};var __importStar=this&&this[a88_0x56be('0x1')]||function(_0x2a2459){if(_0x2a2459&&_0x2a2459['__esModule'])return _0x2a2459;var _0x33c543={};if(_0x2a2459!=null)for(var _0x32bc1d in _0x2a2459)if(Object[a88_0x56be('0x2')][a88_0x56be('0x3')](_0x2a2459,_0x32bc1d))_0x33c543[_0x32bc1d]=_0x2a2459[_0x32bc1d];_0x33c543[a88_0x56be('0x4')]=_0x2a2459;return _0x33c543;};Object[a88_0x56be('0x5')](exports,'__esModule',{'value':!![]});const express_1=__importDefault(require('express'));const compression_1=__importDefault(require(a88_0x56be('0x6')));const body_parser_1=__importDefault(require(a88_0x56be('0x7')));const logger_1=__importDefault(require(a88_0x56be('0x8')));const lusca_1=__importDefault(require(a88_0x56be('0x9')));const dotenv_1=__importDefault(require(a88_0x56be('0xa')));const express_flash_1=__importDefault(require(a88_0x56be('0xb')));const path_1=__importDefault(require(a88_0x56be('0xc')));const passport_1=__importDefault(require(a88_0x56be('0xd')));const express_validator_1=__importDefault(require(a88_0x56be('0xe')));const fs_1=__importDefault(require('fs'));const cors=require(a88_0x56be('0xf'));if(fs_1[a88_0x56be('0x4')][a88_0x56be('0x10')](a88_0x56be('0x11'))){logger_1['default'][a88_0x56be('0x12')](a88_0x56be('0x13'));dotenv_1[a88_0x56be('0x4')][a88_0x56be('0x14')]({'path':'.env'});}else{logger_1[a88_0x56be('0x4')][a88_0x56be('0x12')](a88_0x56be('0x15'));dotenv_1['default'][a88_0x56be('0x14')]({'path':a88_0x56be('0x16')});}const apiController=__importStar(require('./controllers/api'));const app=express_1['default']();app[a88_0x56be('0x17')](a88_0x56be('0x18'),process[a88_0x56be('0x19')][a88_0x56be('0x1a')]||0xbb8);app[a88_0x56be('0x17')]('views',path_1[a88_0x56be('0x4')][a88_0x56be('0x1b')](__dirname,a88_0x56be('0x1c')));app[a88_0x56be('0x17')](a88_0x56be('0x1d'),a88_0x56be('0x1e'));app[a88_0x56be('0x1f')](compression_1[a88_0x56be('0x4')]());app['use'](body_parser_1[a88_0x56be('0x4')]['json']());app['use'](cors({'origin':!![]}));app[a88_0x56be('0x20')]('*',cors());app['use'](body_parser_1[a88_0x56be('0x4')][a88_0x56be('0x21')]({'extended':!![]}));app[a88_0x56be('0x1f')](express_validator_1[a88_0x56be('0x4')]());app['use'](passport_1['default'][a88_0x56be('0x22')]());app['use'](passport_1[a88_0x56be('0x4')][a88_0x56be('0x23')]());app['use'](express_flash_1[a88_0x56be('0x4')]());app[a88_0x56be('0x1f')](lusca_1['default'][a88_0x56be('0x24')](a88_0x56be('0x25')));app[a88_0x56be('0x1f')](lusca_1[a88_0x56be('0x4')][a88_0x56be('0x26')](!![]));app[a88_0x56be('0x1f')]((_0x9794dc,_0x5a8f64,_0xab943f)=>{_0x5a8f64[a88_0x56be('0x27')][a88_0x56be('0x28')]=_0x9794dc['user'];_0xab943f();});app['use']((_0x4f22c0,_0x11464a,_0x3c5758)=>{_0x3c5758();});app[a88_0x56be('0x1f')](express_1[a88_0x56be('0x4')]['static'](path_1['default'][a88_0x56be('0x1b')](__dirname,'public'),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require('./config/sequelize'));const models_1=__importDefault(require(a88_0x56be('0x29')));const routes_1=__importDefault(require('./app/routes'));const sequelize_utils_1=__importDefault(require(a88_0x56be('0x2a')));const controllers_1=__importDefault(require('./app/controllers'));const models=new models_1[(a88_0x56be('0x4'))](sequelize_1[a88_0x56be('0x4')]);const controllers=new controllers_1[(a88_0x56be('0x4'))](models);sequelize_utils_1[a88_0x56be('0x4')][a88_0x56be('0x2b')]=models;sequelize_utils_1['default'][a88_0x56be('0x2c')]=controllers;routes_1[a88_0x56be('0x4')](app,passport_1[a88_0x56be('0x4')],models,controllers);require(a88_0x56be('0x2d'))(passport_1[a88_0x56be('0x4')],models[a88_0x56be('0x2e')]);sequelize_utils_1[a88_0x56be('0x4')]['instance']=sequelize_1[a88_0x56be('0x4')];apiController[a88_0x56be('0x2f')](sequelize_1[a88_0x56be('0x4')]);const options={'exclude':['id',a88_0x56be('0x30'),'updatedAt',a88_0x56be('0x31'),a88_0x56be('0x32'),a88_0x56be('0x33'),a88_0x56be('0x34')],'userModel':a88_0x56be('0x35'),'revisionAttribute':'revision','revisionModel':a88_0x56be('0x36'),'revisionChangeModel':a88_0x56be('0x37'),'enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':'document_id','revisionId':a88_0x56be('0x38')},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':a88_0x56be('0x39'),'continuationKey':a88_0x56be('0x3a')};const PaperTrail=require(a88_0x56be('0x3b'))[a88_0x56be('0x3c')](sequelize_1['default'],options);PaperTrail[a88_0x56be('0x3d')]({});app[a88_0x56be('0x3e')](a88_0x56be('0x3f'),apiController[a88_0x56be('0x40')]);app[a88_0x56be('0x3e')](a88_0x56be('0x41'),apiController[a88_0x56be('0x42')]);app[a88_0x56be('0x3e')](a88_0x56be('0x43'),apiController[a88_0x56be('0x44')]);app[a88_0x56be('0x3e')](a88_0x56be('0x45'),apiController[a88_0x56be('0x46')]);app[a88_0x56be('0x3e')](a88_0x56be('0x47'),apiController['getPassCountingByDay']);app[a88_0x56be('0x3e')](a88_0x56be('0x48'),apiController['getPassCountingByHour']);exports[a88_0x56be('0x4')]=app;