var a88_0x22f3=['default','defineProperty','express','compression','body-parser','./util/logger','lusca','dotenv','express-flash','path','express-validator','existsSync','.env','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','debug','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','.env.example','set','port','env','PORT','views','join','view\x20engine','use','json','urlencoded','initialize','session','xframe','SAMEORIGIN','xssProtection','locals','user','static','public','./config/sequelize','./app/models','./app/controllers','models','controllers','./config/passport','usersModel','instance','setSequelize','updatedAt','deletedAt','created_at','updated_at','deleted_at','revision','revision_change','document_id','revision_id','current_user_request','user_id','init','get','/api/syncftp','syncFtp','/api/downloadFtp','downloadFtp','processFtp','/api/getPassCounting/:direction','getPassCounting','/api/getPassCountingByDay/:direction','getPassCountingByDay','/api/getPassCountingByHour/:direction','getPassCountingByHour','__esModule','hasOwnProperty'];(function(_0x2fd96b,_0x2068c2){var _0x4cc1a5=function(_0x3202da){while(--_0x3202da){_0x2fd96b['push'](_0x2fd96b['shift']());}};_0x4cc1a5(++_0x2068c2);}(a88_0x22f3,0x8e));var a88_0x1095=function(_0x3b4fd1,_0x5e10e8){_0x3b4fd1=_0x3b4fd1-0x0;var _0x3c945f=a88_0x22f3[_0x3b4fd1];return _0x3c945f;};'use strict';var __importDefault=this&&this['__importDefault']||function(_0x384125){return _0x384125&&_0x384125[a88_0x1095('0x0')]?_0x384125:{'default':_0x384125};};var __importStar=this&&this['__importStar']||function(_0x42ff97){if(_0x42ff97&&_0x42ff97[a88_0x1095('0x0')])return _0x42ff97;var _0x32a588={};if(_0x42ff97!=null)for(var _0x2dcdf3 in _0x42ff97)if(Object[a88_0x1095('0x1')]['call'](_0x42ff97,_0x2dcdf3))_0x32a588[_0x2dcdf3]=_0x42ff97[_0x2dcdf3];_0x32a588[a88_0x1095('0x2')]=_0x42ff97;return _0x32a588;};Object[a88_0x1095('0x3')](exports,a88_0x1095('0x0'),{'value':!![]});const express_1=__importDefault(require(a88_0x1095('0x4')));const compression_1=__importDefault(require(a88_0x1095('0x5')));const body_parser_1=__importDefault(require(a88_0x1095('0x6')));const logger_1=__importDefault(require(a88_0x1095('0x7')));const lusca_1=__importDefault(require(a88_0x1095('0x8')));const dotenv_1=__importDefault(require(a88_0x1095('0x9')));const express_flash_1=__importDefault(require(a88_0x1095('0xa')));const path_1=__importDefault(require(a88_0x1095('0xb')));const passport_1=__importDefault(require('passport'));const express_validator_1=__importDefault(require(a88_0x1095('0xc')));const fs_1=__importDefault(require('fs'));if(fs_1['default'][a88_0x1095('0xd')](a88_0x1095('0xe'))){logger_1[a88_0x1095('0x2')]['debug'](a88_0x1095('0xf'));dotenv_1[a88_0x1095('0x2')]['config']({'path':'.env'});}else{logger_1['default'][a88_0x1095('0x10')](a88_0x1095('0x11'));dotenv_1[a88_0x1095('0x2')][a88_0x1095('0x12')]({'path':a88_0x1095('0x13')});}const apiController=__importStar(require('./controllers/api'));const app=express_1[a88_0x1095('0x2')]();app[a88_0x1095('0x14')](a88_0x1095('0x15'),process[a88_0x1095('0x16')][a88_0x1095('0x17')]||0xbb8);app[a88_0x1095('0x14')](a88_0x1095('0x18'),path_1[a88_0x1095('0x2')][a88_0x1095('0x19')](__dirname,'../views'));app[a88_0x1095('0x14')](a88_0x1095('0x1a'),'pug');app['use'](compression_1[a88_0x1095('0x2')]());app[a88_0x1095('0x1b')](body_parser_1[a88_0x1095('0x2')][a88_0x1095('0x1c')]());app[a88_0x1095('0x1b')](body_parser_1[a88_0x1095('0x2')][a88_0x1095('0x1d')]({'extended':!![]}));app[a88_0x1095('0x1b')](express_validator_1[a88_0x1095('0x2')]());app[a88_0x1095('0x1b')](passport_1[a88_0x1095('0x2')][a88_0x1095('0x1e')]());app[a88_0x1095('0x1b')](passport_1[a88_0x1095('0x2')][a88_0x1095('0x1f')]());app[a88_0x1095('0x1b')](express_flash_1[a88_0x1095('0x2')]());app[a88_0x1095('0x1b')](lusca_1[a88_0x1095('0x2')][a88_0x1095('0x20')](a88_0x1095('0x21')));app['use'](lusca_1[a88_0x1095('0x2')][a88_0x1095('0x22')](!![]));app[a88_0x1095('0x1b')]((_0x510ea6,_0x34dcaf,_0x5cb23b)=>{_0x34dcaf[a88_0x1095('0x23')][a88_0x1095('0x24')]=_0x510ea6[a88_0x1095('0x24')];_0x5cb23b();});app['use']((_0xd2bd1b,_0x1d8b48,_0x5606ed)=>{_0x5606ed();});app[a88_0x1095('0x1b')](express_1['default'][a88_0x1095('0x25')](path_1[a88_0x1095('0x2')]['join'](__dirname,a88_0x1095('0x26')),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require(a88_0x1095('0x27')));const models_1=__importDefault(require(a88_0x1095('0x28')));const routes_1=__importDefault(require('./app/routes'));const sequelize_utils_1=__importDefault(require('./infrastructure/sequelize-utils'));const controllers_1=__importDefault(require(a88_0x1095('0x29')));const models=new models_1['default'](sequelize_1['default']);const controllers=new controllers_1[(a88_0x1095('0x2'))](models);sequelize_utils_1[a88_0x1095('0x2')][a88_0x1095('0x2a')]=models;sequelize_utils_1[a88_0x1095('0x2')][a88_0x1095('0x2b')]=controllers;routes_1[a88_0x1095('0x2')](app,passport_1[a88_0x1095('0x2')],models,controllers);require(a88_0x1095('0x2c'))(passport_1[a88_0x1095('0x2')],models[a88_0x1095('0x2d')]);sequelize_utils_1[a88_0x1095('0x2')][a88_0x1095('0x2e')]=sequelize_1[a88_0x1095('0x2')];apiController[a88_0x1095('0x2f')](sequelize_1['default']);const options={'exclude':['id','createdAt',a88_0x1095('0x30'),a88_0x1095('0x31'),a88_0x1095('0x32'),a88_0x1095('0x33'),a88_0x1095('0x34')],'userModel':'users','revisionAttribute':a88_0x1095('0x35'),'revisionModel':a88_0x1095('0x35'),'revisionChangeModel':a88_0x1095('0x36'),'enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':a88_0x1095('0x37'),'revisionId':a88_0x1095('0x38')},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':a88_0x1095('0x39'),'continuationKey':a88_0x1095('0x3a')};const PaperTrail=require('sequelize-paper-trail')[a88_0x1095('0x3b')](sequelize_1[a88_0x1095('0x2')],options);PaperTrail['defineModels']({});app[a88_0x1095('0x3c')](a88_0x1095('0x3d'),apiController[a88_0x1095('0x3e')]);app['get'](a88_0x1095('0x3f'),apiController[a88_0x1095('0x40')]);app[a88_0x1095('0x3c')]('/api/processFtp',apiController[a88_0x1095('0x41')]);app['get'](a88_0x1095('0x42'),apiController[a88_0x1095('0x43')]);app[a88_0x1095('0x3c')](a88_0x1095('0x44'),apiController[a88_0x1095('0x45')]);app[a88_0x1095('0x3c')](a88_0x1095('0x46'),apiController[a88_0x1095('0x47')]);exports[a88_0x1095('0x2')]=app;