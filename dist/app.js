var a194_0x3394=['syncFtp','/api/downloadFtp','downloadFtp','processFtp','/api/getPassCounting/:direction','getPassCounting','getPassCountingByDay','__esModule','hasOwnProperty','call','defineProperty','express','body-parser','./util/logger','dotenv','path','passport','express-validator','cors','default','existsSync','.env','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','debug','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','./controllers/api','PORT','views','join','../views','set','view\x20engine','use','10mb','urlencoded','initialize','session','xframe','xssProtection','locals','user','static','public','./config/sequelize','./app/models','./app/routes','./infrastructure/sequelize-utils','models','controllers','./config/passport','instance','setSequelize','updatedAt','deletedAt','created_at','updated_at','deleted_at','users','revision','revision_change','document_id','current_user_request','init','defineModels','get','/api/syncftp'];(function(_0x577a21,_0x34875b){var _0x368134=function(_0x5b73b6){while(--_0x5b73b6){_0x577a21['push'](_0x577a21['shift']());}};_0x368134(++_0x34875b);}(a194_0x3394,0x8d));var a194_0xf87d=function(_0x4c2ef6,_0x15189f){_0x4c2ef6=_0x4c2ef6-0x0;var _0x46b19c=a194_0x3394[_0x4c2ef6];return _0x46b19c;};'use strict';var __importDefault=this&&this['__importDefault']||function(_0x3e41b9){return _0x3e41b9&&_0x3e41b9[a194_0xf87d('0x0')]?_0x3e41b9:{'default':_0x3e41b9};};var __importStar=this&&this['__importStar']||function(_0xe9c771){if(_0xe9c771&&_0xe9c771[a194_0xf87d('0x0')])return _0xe9c771;var _0x19d81d={};if(_0xe9c771!=null)for(var _0x32a62a in _0xe9c771)if(Object[a194_0xf87d('0x1')][a194_0xf87d('0x2')](_0xe9c771,_0x32a62a))_0x19d81d[_0x32a62a]=_0xe9c771[_0x32a62a];_0x19d81d['default']=_0xe9c771;return _0x19d81d;};Object[a194_0xf87d('0x3')](exports,a194_0xf87d('0x0'),{'value':!![]});const express_1=__importDefault(require(a194_0xf87d('0x4')));const compression_1=__importDefault(require('compression'));const body_parser_1=__importDefault(require(a194_0xf87d('0x5')));const logger_1=__importDefault(require(a194_0xf87d('0x6')));const lusca_1=__importDefault(require('lusca'));const dotenv_1=__importDefault(require(a194_0xf87d('0x7')));const express_flash_1=__importDefault(require('express-flash'));const path_1=__importDefault(require(a194_0xf87d('0x8')));const passport_1=__importDefault(require(a194_0xf87d('0x9')));const express_validator_1=__importDefault(require(a194_0xf87d('0xa')));const fs_1=__importDefault(require('fs'));const cors=require(a194_0xf87d('0xb'));if(fs_1[a194_0xf87d('0xc')][a194_0xf87d('0xd')](a194_0xf87d('0xe'))){logger_1[a194_0xf87d('0xc')]['debug'](a194_0xf87d('0xf'));dotenv_1[a194_0xf87d('0xc')][a194_0xf87d('0x10')]({'path':a194_0xf87d('0xe')});}else{logger_1[a194_0xf87d('0xc')][a194_0xf87d('0x11')](a194_0xf87d('0x12'));dotenv_1['default']['config']({'path':'.env.example'});}const apiController=__importStar(require(a194_0xf87d('0x13')));const app=express_1[a194_0xf87d('0xc')]();app['set']('port',process['env'][a194_0xf87d('0x14')]||0xbb8);app['set'](a194_0xf87d('0x15'),path_1[a194_0xf87d('0xc')][a194_0xf87d('0x16')](__dirname,a194_0xf87d('0x17')));app[a194_0xf87d('0x18')](a194_0xf87d('0x19'),'pug');app[a194_0xf87d('0x1a')](compression_1[a194_0xf87d('0xc')]());app['use'](body_parser_1[a194_0xf87d('0xc')]['json']({'limit':a194_0xf87d('0x1b')}));app[a194_0xf87d('0x1a')](body_parser_1['default'][a194_0xf87d('0x1c')]({'limit':a194_0xf87d('0x1b'),'extended':!![]}));app[a194_0xf87d('0x1a')](cors());app[a194_0xf87d('0x1a')](express_validator_1['default']());app[a194_0xf87d('0x1a')](passport_1[a194_0xf87d('0xc')][a194_0xf87d('0x1d')]());app['use'](passport_1['default'][a194_0xf87d('0x1e')]());app[a194_0xf87d('0x1a')](express_flash_1['default']());app[a194_0xf87d('0x1a')](lusca_1['default'][a194_0xf87d('0x1f')]('SAMEORIGIN'));app[a194_0xf87d('0x1a')](lusca_1[a194_0xf87d('0xc')][a194_0xf87d('0x20')](!![]));app['use']((_0x2ec66f,_0x1f4702,_0x95f9a)=>{_0x1f4702[a194_0xf87d('0x21')]['user']=_0x2ec66f[a194_0xf87d('0x22')];_0x95f9a();});app['use']((_0xc177bf,_0x4eeccb,_0x40b6a2)=>{_0x40b6a2();});app[a194_0xf87d('0x1a')](express_1[a194_0xf87d('0xc')][a194_0xf87d('0x23')](path_1['default'][a194_0xf87d('0x16')](__dirname,a194_0xf87d('0x24')),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require(a194_0xf87d('0x25')));const models_1=__importDefault(require(a194_0xf87d('0x26')));const routes_1=__importDefault(require(a194_0xf87d('0x27')));const sequelize_utils_1=__importDefault(require(a194_0xf87d('0x28')));const controllers_1=__importDefault(require('./app/controllers'));const models=new models_1[(a194_0xf87d('0xc'))](sequelize_1[a194_0xf87d('0xc')]);const controllers=new controllers_1[(a194_0xf87d('0xc'))](models);sequelize_utils_1['default'][a194_0xf87d('0x29')]=models;sequelize_utils_1['default'][a194_0xf87d('0x2a')]=controllers;routes_1[a194_0xf87d('0xc')](app,passport_1[a194_0xf87d('0xc')],models,controllers);require(a194_0xf87d('0x2b'))(passport_1[a194_0xf87d('0xc')],models['usersModel']);sequelize_utils_1[a194_0xf87d('0xc')][a194_0xf87d('0x2c')]=sequelize_1[a194_0xf87d('0xc')];apiController[a194_0xf87d('0x2d')](sequelize_1['default']);const options={'exclude':['id','createdAt',a194_0xf87d('0x2e'),a194_0xf87d('0x2f'),a194_0xf87d('0x30'),a194_0xf87d('0x31'),a194_0xf87d('0x32')],'userModel':a194_0xf87d('0x33'),'revisionAttribute':a194_0xf87d('0x34'),'revisionModel':a194_0xf87d('0x34'),'revisionChangeModel':a194_0xf87d('0x35'),'enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':a194_0xf87d('0x36'),'revisionId':'revision_id'},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':a194_0xf87d('0x37'),'continuationKey':'user_id'};const PaperTrail=require('sequelize-paper-trail')[a194_0xf87d('0x38')](sequelize_1[a194_0xf87d('0xc')],options);PaperTrail[a194_0xf87d('0x39')]({});app[a194_0xf87d('0x3a')](a194_0xf87d('0x3b'),apiController[a194_0xf87d('0x3c')]);app['get'](a194_0xf87d('0x3d'),apiController[a194_0xf87d('0x3e')]);app[a194_0xf87d('0x3a')]('/api/processFtp',apiController[a194_0xf87d('0x3f')]);app[a194_0xf87d('0x3a')](a194_0xf87d('0x40'),apiController[a194_0xf87d('0x41')]);app[a194_0xf87d('0x3a')]('/api/getPassCountingByDay/:direction',apiController[a194_0xf87d('0x42')]);app[a194_0xf87d('0x3a')]('/api/getPassCountingByHour/:direction',apiController['getPassCountingByHour']);exports[a194_0xf87d('0xc')]=app;