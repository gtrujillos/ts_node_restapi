var a194_0x27d0=['xssProtection','locals','user','join','public','./config/sequelize','./app/models','./infrastructure/sequelize-utils','./app/controllers','models','controllers','./config/passport','usersModel','deletedAt','created_at','deleted_at','users','revision','document_id','revision_id','user_id','sequelize-paper-trail','defineModels','/api/syncftp','get','/api/downloadFtp','downloadFtp','/api/processFtp','processFtp','/api/getPassCounting/:direction','getPassCounting','/api/getPassCountingByDay/:direction','/api/getPassCountingByHour/:direction','getPassCountingByHour','__importDefault','__esModule','__importStar','hasOwnProperty','call','default','defineProperty','express','body-parser','./util/logger','lusca','dotenv','passport','express-validator','cors','existsSync','.env','debug','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','./controllers/api','set','port','PORT','views','pug','use','json','10mb','session','SAMEORIGIN'];(function(_0x38d851,_0x48b902){var _0x2b9e92=function(_0x357fca){while(--_0x357fca){_0x38d851['push'](_0x38d851['shift']());}};_0x2b9e92(++_0x48b902);}(a194_0x27d0,0x1f0));var a194_0x4321=function(_0x1b7850,_0x178b4c){_0x1b7850=_0x1b7850-0x0;var _0x3cb3e4=a194_0x27d0[_0x1b7850];return _0x3cb3e4;};'use strict';var __importDefault=this&&this[a194_0x4321('0x0')]||function(_0x32e02e){return _0x32e02e&&_0x32e02e[a194_0x4321('0x1')]?_0x32e02e:{'default':_0x32e02e};};var __importStar=this&&this[a194_0x4321('0x2')]||function(_0x1fa0ea){if(_0x1fa0ea&&_0x1fa0ea[a194_0x4321('0x1')])return _0x1fa0ea;var _0x84f5f9={};if(_0x1fa0ea!=null)for(var _0x4f9130 in _0x1fa0ea)if(Object[a194_0x4321('0x3')][a194_0x4321('0x4')](_0x1fa0ea,_0x4f9130))_0x84f5f9[_0x4f9130]=_0x1fa0ea[_0x4f9130];_0x84f5f9[a194_0x4321('0x5')]=_0x1fa0ea;return _0x84f5f9;};Object[a194_0x4321('0x6')](exports,a194_0x4321('0x1'),{'value':!![]});const express_1=__importDefault(require(a194_0x4321('0x7')));const compression_1=__importDefault(require('compression'));const body_parser_1=__importDefault(require(a194_0x4321('0x8')));const logger_1=__importDefault(require(a194_0x4321('0x9')));const lusca_1=__importDefault(require(a194_0x4321('0xa')));const dotenv_1=__importDefault(require(a194_0x4321('0xb')));const express_flash_1=__importDefault(require('express-flash'));const path_1=__importDefault(require('path'));const passport_1=__importDefault(require(a194_0x4321('0xc')));const express_validator_1=__importDefault(require(a194_0x4321('0xd')));const fs_1=__importDefault(require('fs'));const cors=require(a194_0x4321('0xe'));if(fs_1[a194_0x4321('0x5')][a194_0x4321('0xf')](a194_0x4321('0x10'))){logger_1['default'][a194_0x4321('0x11')](a194_0x4321('0x12'));dotenv_1[a194_0x4321('0x5')][a194_0x4321('0x13')]({'path':a194_0x4321('0x10')});}else{logger_1[a194_0x4321('0x5')]['debug'](a194_0x4321('0x14'));dotenv_1['default'][a194_0x4321('0x13')]({'path':'.env.example'});}const apiController=__importStar(require(a194_0x4321('0x15')));const app=express_1[a194_0x4321('0x5')]();app[a194_0x4321('0x16')](a194_0x4321('0x17'),process['env'][a194_0x4321('0x18')]||0xbb8);app[a194_0x4321('0x16')](a194_0x4321('0x19'),path_1[a194_0x4321('0x5')]['join'](__dirname,'../views'));app[a194_0x4321('0x16')]('view\x20engine',a194_0x4321('0x1a'));app[a194_0x4321('0x1b')](compression_1[a194_0x4321('0x5')]());app[a194_0x4321('0x1b')](body_parser_1[a194_0x4321('0x5')][a194_0x4321('0x1c')]({'limit':a194_0x4321('0x1d')}));app[a194_0x4321('0x1b')](body_parser_1[a194_0x4321('0x5')]['urlencoded']({'limit':a194_0x4321('0x1d'),'extended':!![]}));app[a194_0x4321('0x1b')](express_validator_1[a194_0x4321('0x5')]());app[a194_0x4321('0x1b')](passport_1[a194_0x4321('0x5')]['initialize']());app[a194_0x4321('0x1b')](passport_1['default'][a194_0x4321('0x1e')]());app['use'](express_flash_1['default']());app[a194_0x4321('0x1b')](lusca_1[a194_0x4321('0x5')]['xframe'](a194_0x4321('0x1f')));app[a194_0x4321('0x1b')](lusca_1[a194_0x4321('0x5')][a194_0x4321('0x20')](!![]));app[a194_0x4321('0x1b')]((_0x5edfac,_0x3cb05f,_0xa2375e)=>{_0x3cb05f[a194_0x4321('0x21')]['user']=_0x5edfac[a194_0x4321('0x22')];_0xa2375e();});app[a194_0x4321('0x1b')]((_0xd56411,_0x282f54,_0x59f826)=>{_0x59f826();});app['use'](express_1[a194_0x4321('0x5')]['static'](path_1[a194_0x4321('0x5')][a194_0x4321('0x23')](__dirname,a194_0x4321('0x24')),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require(a194_0x4321('0x25')));const models_1=__importDefault(require(a194_0x4321('0x26')));const routes_1=__importDefault(require('./app/routes'));const sequelize_utils_1=__importDefault(require(a194_0x4321('0x27')));const controllers_1=__importDefault(require(a194_0x4321('0x28')));const models=new models_1['default'](sequelize_1[a194_0x4321('0x5')]);const controllers=new controllers_1[(a194_0x4321('0x5'))](models);sequelize_utils_1[a194_0x4321('0x5')][a194_0x4321('0x29')]=models;sequelize_utils_1[a194_0x4321('0x5')][a194_0x4321('0x2a')]=controllers;routes_1[a194_0x4321('0x5')](app,passport_1[a194_0x4321('0x5')],models,controllers);require(a194_0x4321('0x2b'))(passport_1[a194_0x4321('0x5')],models[a194_0x4321('0x2c')]);sequelize_utils_1['default']['instance']=sequelize_1[a194_0x4321('0x5')];apiController['setSequelize'](sequelize_1[a194_0x4321('0x5')]);const options={'exclude':['id','createdAt','updatedAt',a194_0x4321('0x2d'),a194_0x4321('0x2e'),'updated_at',a194_0x4321('0x2f')],'userModel':a194_0x4321('0x30'),'revisionAttribute':'revision','revisionModel':a194_0x4321('0x31'),'revisionChangeModel':'revision_change','enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':a194_0x4321('0x32'),'revisionId':a194_0x4321('0x33')},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':'current_user_request','continuationKey':a194_0x4321('0x34')};const PaperTrail=require(a194_0x4321('0x35'))['init'](sequelize_1['default'],options);PaperTrail[a194_0x4321('0x36')]({});app['get'](a194_0x4321('0x37'),apiController['syncFtp']);app[a194_0x4321('0x38')](a194_0x4321('0x39'),apiController[a194_0x4321('0x3a')]);app[a194_0x4321('0x38')](a194_0x4321('0x3b'),apiController[a194_0x4321('0x3c')]);app[a194_0x4321('0x38')](a194_0x4321('0x3d'),apiController[a194_0x4321('0x3e')]);app[a194_0x4321('0x38')](a194_0x4321('0x3f'),apiController['getPassCountingByDay']);app[a194_0x4321('0x38')](a194_0x4321('0x40'),apiController[a194_0x4321('0x41')]);exports['default']=app;