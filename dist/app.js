var a88_0x3b6b=['./util/logger','lusca','dotenv','path','cors','existsSync','.env','debug','Using\x20.env\x20file\x20to\x20supply\x20config\x20environment\x20variables','config','Using\x20.env.example\x20file\x20to\x20supply\x20config\x20environment\x20variables','.env.example','./controllers/api','set','port','env','PORT','views','join','../views','view\x20engine','pug','use','json','urlencoded','initialize','session','SAMEORIGIN','locals','user','static','public','./config/sequelize','./app/models','./app/routes','./infrastructure/sequelize-utils','./app/controllers','models','controllers','usersModel','setSequelize','createdAt','updatedAt','deletedAt','created_at','updated_at','deleted_at','revision','revision_change','document_id','revision_id','current_user_request','sequelize-paper-trail','init','defineModels','syncFtp','get','/api/downloadFtp','downloadFtp','processFtp','/api/getPassCounting/:direction','/api/getPassCountingByDay/:direction','getPassCountingByDay','/api/getPassCountingByHour/:direction','__importDefault','__esModule','__importStar','hasOwnProperty','call','default','defineProperty','express','compression','body-parser'];(function(_0x2327f8,_0x13e4bc){var _0x5754cc=function(_0x50ed21){while(--_0x50ed21){_0x2327f8['push'](_0x2327f8['shift']());}};_0x5754cc(++_0x13e4bc);}(a88_0x3b6b,0x11e));var a88_0x36f7=function(_0x562a3c,_0xbd0b42){_0x562a3c=_0x562a3c-0x0;var _0x53e65b=a88_0x3b6b[_0x562a3c];return _0x53e65b;};'use strict';var __importDefault=this&&this[a88_0x36f7('0x0')]||function(_0x3b243b){return _0x3b243b&&_0x3b243b[a88_0x36f7('0x1')]?_0x3b243b:{'default':_0x3b243b};};var __importStar=this&&this[a88_0x36f7('0x2')]||function(_0x5bfd6f){if(_0x5bfd6f&&_0x5bfd6f[a88_0x36f7('0x1')])return _0x5bfd6f;var _0x31feba={};if(_0x5bfd6f!=null)for(var _0x22ba3f in _0x5bfd6f)if(Object[a88_0x36f7('0x3')][a88_0x36f7('0x4')](_0x5bfd6f,_0x22ba3f))_0x31feba[_0x22ba3f]=_0x5bfd6f[_0x22ba3f];_0x31feba[a88_0x36f7('0x5')]=_0x5bfd6f;return _0x31feba;};Object[a88_0x36f7('0x6')](exports,'__esModule',{'value':!![]});const express_1=__importDefault(require(a88_0x36f7('0x7')));const compression_1=__importDefault(require(a88_0x36f7('0x8')));const body_parser_1=__importDefault(require(a88_0x36f7('0x9')));const logger_1=__importDefault(require(a88_0x36f7('0xa')));const lusca_1=__importDefault(require(a88_0x36f7('0xb')));const dotenv_1=__importDefault(require(a88_0x36f7('0xc')));const express_flash_1=__importDefault(require('express-flash'));const path_1=__importDefault(require(a88_0x36f7('0xd')));const passport_1=__importDefault(require('passport'));const express_validator_1=__importDefault(require('express-validator'));const fs_1=__importDefault(require('fs'));const cors=require(a88_0x36f7('0xe'));if(fs_1[a88_0x36f7('0x5')][a88_0x36f7('0xf')](a88_0x36f7('0x10'))){logger_1['default'][a88_0x36f7('0x11')](a88_0x36f7('0x12'));dotenv_1[a88_0x36f7('0x5')][a88_0x36f7('0x13')]({'path':a88_0x36f7('0x10')});}else{logger_1[a88_0x36f7('0x5')][a88_0x36f7('0x11')](a88_0x36f7('0x14'));dotenv_1[a88_0x36f7('0x5')]['config']({'path':a88_0x36f7('0x15')});}const apiController=__importStar(require(a88_0x36f7('0x16')));const app=express_1[a88_0x36f7('0x5')]();app[a88_0x36f7('0x17')](a88_0x36f7('0x18'),process[a88_0x36f7('0x19')][a88_0x36f7('0x1a')]||0xbb8);app[a88_0x36f7('0x17')](a88_0x36f7('0x1b'),path_1[a88_0x36f7('0x5')][a88_0x36f7('0x1c')](__dirname,a88_0x36f7('0x1d')));app[a88_0x36f7('0x17')](a88_0x36f7('0x1e'),a88_0x36f7('0x1f'));app[a88_0x36f7('0x20')](compression_1[a88_0x36f7('0x5')]());app[a88_0x36f7('0x20')](body_parser_1['default'][a88_0x36f7('0x21')]());app[a88_0x36f7('0x20')](cors());app['use'](body_parser_1[a88_0x36f7('0x5')][a88_0x36f7('0x22')]({'extended':!![]}));app['use'](express_validator_1[a88_0x36f7('0x5')]());app['use'](passport_1['default'][a88_0x36f7('0x23')]());app[a88_0x36f7('0x20')](passport_1[a88_0x36f7('0x5')][a88_0x36f7('0x24')]());app[a88_0x36f7('0x20')](express_flash_1[a88_0x36f7('0x5')]());app[a88_0x36f7('0x20')](lusca_1[a88_0x36f7('0x5')]['xframe'](a88_0x36f7('0x25')));app[a88_0x36f7('0x20')](lusca_1['default']['xssProtection'](!![]));app['use']((_0x14c629,_0x4d3123,_0x254cc1)=>{_0x4d3123[a88_0x36f7('0x26')][a88_0x36f7('0x27')]=_0x14c629[a88_0x36f7('0x27')];_0x254cc1();});app[a88_0x36f7('0x20')]((_0xcf419f,_0x1d399f,_0x5997ae)=>{_0x5997ae();});app[a88_0x36f7('0x20')](express_1[a88_0x36f7('0x5')][a88_0x36f7('0x28')](path_1[a88_0x36f7('0x5')][a88_0x36f7('0x1c')](__dirname,a88_0x36f7('0x29')),{'maxAge':0x758fac300}));const sequelize_1=__importDefault(require(a88_0x36f7('0x2a')));const models_1=__importDefault(require(a88_0x36f7('0x2b')));const routes_1=__importDefault(require(a88_0x36f7('0x2c')));const sequelize_utils_1=__importDefault(require(a88_0x36f7('0x2d')));const controllers_1=__importDefault(require(a88_0x36f7('0x2e')));const models=new models_1[(a88_0x36f7('0x5'))](sequelize_1[a88_0x36f7('0x5')]);const controllers=new controllers_1[(a88_0x36f7('0x5'))](models);sequelize_utils_1['default'][a88_0x36f7('0x2f')]=models;sequelize_utils_1[a88_0x36f7('0x5')][a88_0x36f7('0x30')]=controllers;routes_1[a88_0x36f7('0x5')](app,passport_1[a88_0x36f7('0x5')],models,controllers);require('./config/passport')(passport_1[a88_0x36f7('0x5')],models[a88_0x36f7('0x31')]);sequelize_utils_1['default']['instance']=sequelize_1[a88_0x36f7('0x5')];apiController[a88_0x36f7('0x32')](sequelize_1[a88_0x36f7('0x5')]);const options={'exclude':['id',a88_0x36f7('0x33'),a88_0x36f7('0x34'),a88_0x36f7('0x35'),a88_0x36f7('0x36'),a88_0x36f7('0x37'),a88_0x36f7('0x38')],'userModel':'users','revisionAttribute':a88_0x36f7('0x39'),'revisionModel':'revision','revisionChangeModel':a88_0x36f7('0x3a'),'enableRevisionChangeModel':!![],'UUID':![],'underscored':!![],'underscoredAttributes':!![],'defaultAttributes':{'documentId':a88_0x36f7('0x3b'),'revisionId':a88_0x36f7('0x3c')},'enableCompression':![],'enableMigration':![],'enableStrictDiff':!![],'continuationNamespace':a88_0x36f7('0x3d'),'continuationKey':'user_id'};const PaperTrail=require(a88_0x36f7('0x3e'))[a88_0x36f7('0x3f')](sequelize_1['default'],options);PaperTrail[a88_0x36f7('0x40')]({});app['get']('/api/syncftp',apiController[a88_0x36f7('0x41')]);app[a88_0x36f7('0x42')](a88_0x36f7('0x43'),apiController[a88_0x36f7('0x44')]);app[a88_0x36f7('0x42')]('/api/processFtp',apiController[a88_0x36f7('0x45')]);app['get'](a88_0x36f7('0x46'),apiController['getPassCounting']);app[a88_0x36f7('0x42')](a88_0x36f7('0x47'),apiController[a88_0x36f7('0x48')]);app[a88_0x36f7('0x42')](a88_0x36f7('0x49'),apiController['getPassCountingByHour']);exports[a88_0x36f7('0x5')]=app;