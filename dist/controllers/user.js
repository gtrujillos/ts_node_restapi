var a95_0x5662=['Reset\x20your\x20password\x20on\x20Hackathon\x20Starter','You\x20are\x20receiving\x20this\x20email\x20because\x20you\x20(or\x20someone\x20else)\x20have\x20requested\x20the\x20reset\x20of\x20the\x20password\x20for\x20your\x20account.\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Please\x20click\x20on\x20the\x20following\x20link,\x20or\x20paste\x20this\x20into\x20your\x20browser\x20to\x20complete\x20the\x20process:\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20http://','headers','host','/reset/','\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20If\x20you\x20did\x20not\x20request\x20this,\x20please\x20ignore\x20this\x20email\x20and\x20your\x20password\x20will\x20remain\x20unchanged.\x0a','An\x20e-mail\x20has\x20been\x20sent\x20to\x20','\x20with\x20further\x20instructions.','__importDefault','__esModule','defineProperty','crypto','passport','express-validator','getLogin','redirect','render','account/login','Login','email','Email\x20is\x20not\x20valid','isEmail','assert','password','Password\x20cannot\x20be\x20blank','sanitize','normalizeEmail','validationErrors','flash','errors','/login','default','authenticate','local','message','Success!\x20You\x20are\x20logged\x20in.','session','logout','getSignup','user','Create\x20Account','postSignup','Password\x20must\x20be\x20at\x20least\x204\x20characters\x20long','confirmPassword','equals','body','findOne','Account\x20with\x20that\x20email\x20address\x20already\x20exists.','/signup','logIn','getAccount','account/profile','Account\x20Management','postUpdateProfile','Please\x20enter\x20a\x20valid\x20email\x20address.','findById','name','profile','gender','location','code','The\x20email\x20address\x20you\x20have\x20entered\x20is\x20already\x20associated\x20with\x20an\x20account.','success','Profile\x20information\x20has\x20been\x20updated.','/account','postUpdatePassword','Passwords\x20do\x20not\x20match','save','Password\x20has\x20been\x20changed.','postDeleteAccount','remove','info','Your\x20account\x20has\x20been\x20deleted.','getOauthUnlink','provider','tokens','filter','\x20account\x20has\x20been\x20unlinked.','getReset','isAuthenticated','params','token','passwordResetExpires','now','/forgot','account/reset','Password\x20Reset','postReset','len','Passwords\x20must\x20match.','back','waterfall','where','exec','Password\x20reset\x20token\x20is\x20invalid\x20or\x20has\x20expired.','passwordResetToken','createTransport','SendGrid','env','SENDGRID_PASSWORD','express-ts@starter.com','Your\x20password\x20has\x20been\x20changed','Hello,\x0a\x0aThis\x20is\x20a\x20confirmation\x20that\x20the\x20password\x20for\x20your\x20account\x20','\x20has\x20just\x20been\x20changed.\x0a','sendMail','getForgot','account/forgot','Forgot\x20Password','postForgot','randomBytes','toString','hex','Account\x20with\x20that\x20email\x20address\x20does\x20not\x20exist.','SENDGRID_USER'];(function(_0x566e54,_0x5af02e){var _0x4c0624=function(_0x5e98c2){while(--_0x5e98c2){_0x566e54['push'](_0x566e54['shift']());}};_0x4c0624(++_0x5af02e);}(a95_0x5662,0xec));var a95_0x3056=function(_0x2d8f05,_0x4b81bb){_0x2d8f05=_0x2d8f05-0x0;var _0x4d74cb=a95_0x5662[_0x2d8f05];return _0x4d74cb;};'use strict';var __importDefault=this&&this[a95_0x3056('0x0')]||function(_0x325704){return _0x325704&&_0x325704[a95_0x3056('0x1')]?_0x325704:{'default':_0x325704};};Object[a95_0x3056('0x2')](exports,a95_0x3056('0x1'),{'value':!![]});const async_1=__importDefault(require('async'));const crypto_1=__importDefault(require(a95_0x3056('0x3')));const nodemailer_1=__importDefault(require('nodemailer'));const passport_1=__importDefault(require(a95_0x3056('0x4')));const User_1=__importDefault(require('../models/User'));const request=require(a95_0x3056('0x5'));exports[a95_0x3056('0x6')]=(_0x3e2631,_0x4435e9)=>{if(_0x3e2631['user']){return _0x4435e9[a95_0x3056('0x7')]('/');}_0x4435e9[a95_0x3056('0x8')](a95_0x3056('0x9'),{'title':a95_0x3056('0xa')});};exports['postLogin']=(_0x3c7962,_0x2ae93b,_0x4e3704)=>{_0x3c7962['assert'](a95_0x3056('0xb'),a95_0x3056('0xc'))[a95_0x3056('0xd')]();_0x3c7962[a95_0x3056('0xe')](a95_0x3056('0xf'),a95_0x3056('0x10'))['notEmpty']();_0x3c7962[a95_0x3056('0x11')](a95_0x3056('0xb'))[a95_0x3056('0x12')]({'gmail_remove_dots':![]});const _0x407c26=_0x3c7962[a95_0x3056('0x13')]();if(_0x407c26){_0x3c7962[a95_0x3056('0x14')](a95_0x3056('0x15'),_0x407c26);return _0x2ae93b[a95_0x3056('0x7')](a95_0x3056('0x16'));}passport_1[a95_0x3056('0x17')][a95_0x3056('0x18')](a95_0x3056('0x19'),(_0x1ffb2b,_0x16cb39,_0x2ff0f8)=>{if(_0x1ffb2b){return _0x4e3704(_0x1ffb2b);}if(!_0x16cb39){_0x3c7962[a95_0x3056('0x14')](a95_0x3056('0x15'),_0x2ff0f8[a95_0x3056('0x1a')]);return _0x2ae93b[a95_0x3056('0x7')](a95_0x3056('0x16'));}_0x3c7962['logIn'](_0x16cb39,_0x1ffb2b=>{if(_0x1ffb2b){return _0x4e3704(_0x1ffb2b);}_0x3c7962[a95_0x3056('0x14')]('success',{'msg':a95_0x3056('0x1b')});_0x2ae93b[a95_0x3056('0x7')](_0x3c7962[a95_0x3056('0x1c')]['returnTo']||'/');});})(_0x3c7962,_0x2ae93b,_0x4e3704);};exports[a95_0x3056('0x1d')]=(_0x35dc15,_0x172c1e)=>{_0x35dc15[a95_0x3056('0x1d')]();_0x172c1e[a95_0x3056('0x7')]('/');};exports[a95_0x3056('0x1e')]=(_0x58a7ca,_0x1e55a2)=>{if(_0x58a7ca[a95_0x3056('0x1f')]){return _0x1e55a2[a95_0x3056('0x7')]('/');}_0x1e55a2[a95_0x3056('0x8')]('account/signup',{'title':a95_0x3056('0x20')});};exports[a95_0x3056('0x21')]=(_0x30b181,_0x48cd8c,_0x58a080)=>{_0x30b181[a95_0x3056('0xe')](a95_0x3056('0xb'),'Email\x20is\x20not\x20valid')[a95_0x3056('0xd')]();_0x30b181[a95_0x3056('0xe')](a95_0x3056('0xf'),a95_0x3056('0x22'))['len']({'min':0x4});_0x30b181[a95_0x3056('0xe')](a95_0x3056('0x23'),'Passwords\x20do\x20not\x20match')[a95_0x3056('0x24')](_0x30b181['body'][a95_0x3056('0xf')]);_0x30b181['sanitize'](a95_0x3056('0xb'))[a95_0x3056('0x12')]({'gmail_remove_dots':![]});const _0x745ad=_0x30b181[a95_0x3056('0x13')]();if(_0x745ad){_0x30b181[a95_0x3056('0x14')]('errors',_0x745ad);return _0x48cd8c[a95_0x3056('0x7')]('/signup');}const _0x13cde9=new User_1[(a95_0x3056('0x17'))]({'email':_0x30b181[a95_0x3056('0x25')][a95_0x3056('0xb')],'password':_0x30b181[a95_0x3056('0x25')]['password']});User_1[a95_0x3056('0x17')][a95_0x3056('0x26')]({'email':_0x30b181[a95_0x3056('0x25')][a95_0x3056('0xb')]},(_0x6b1be,_0x237cd5)=>{if(_0x6b1be){return _0x58a080(_0x6b1be);}if(_0x237cd5){_0x30b181[a95_0x3056('0x14')](a95_0x3056('0x15'),{'msg':a95_0x3056('0x27')});return _0x48cd8c[a95_0x3056('0x7')](a95_0x3056('0x28'));}_0x13cde9['save'](_0x6b1be=>{if(_0x6b1be){return _0x58a080(_0x6b1be);}_0x30b181[a95_0x3056('0x29')](_0x13cde9,_0x6b1be=>{if(_0x6b1be){return _0x58a080(_0x6b1be);}_0x48cd8c[a95_0x3056('0x7')]('/');});});});};exports[a95_0x3056('0x2a')]=(_0x46c591,_0xdeccd4)=>{_0xdeccd4[a95_0x3056('0x8')](a95_0x3056('0x2b'),{'title':a95_0x3056('0x2c')});};exports[a95_0x3056('0x2d')]=(_0x4417c7,_0x329f68,_0x123f1c)=>{_0x4417c7[a95_0x3056('0xe')](a95_0x3056('0xb'),a95_0x3056('0x2e'))[a95_0x3056('0xd')]();_0x4417c7[a95_0x3056('0x11')]('email')[a95_0x3056('0x12')]({'gmail_remove_dots':![]});const _0x2b8e90=_0x4417c7[a95_0x3056('0x13')]();if(_0x2b8e90){_0x4417c7[a95_0x3056('0x14')](a95_0x3056('0x15'),_0x2b8e90);return _0x329f68[a95_0x3056('0x7')]('/account');}User_1[a95_0x3056('0x17')][a95_0x3056('0x2f')](_0x4417c7[a95_0x3056('0x1f')]['id'],(_0xcc579b,_0x116317)=>{if(_0xcc579b){return _0x123f1c(_0xcc579b);}_0x116317[a95_0x3056('0xb')]=_0x4417c7['body'][a95_0x3056('0xb')]||'';_0x116317['profile'][a95_0x3056('0x30')]=_0x4417c7['body'][a95_0x3056('0x30')]||'';_0x116317[a95_0x3056('0x31')][a95_0x3056('0x32')]=_0x4417c7[a95_0x3056('0x25')][a95_0x3056('0x32')]||'';_0x116317['profile'][a95_0x3056('0x33')]=_0x4417c7[a95_0x3056('0x25')][a95_0x3056('0x33')]||'';_0x116317[a95_0x3056('0x31')]['website']=_0x4417c7[a95_0x3056('0x25')]['website']||'';_0x116317['save'](_0xcc579b=>{if(_0xcc579b){if(_0xcc579b[a95_0x3056('0x34')]===0x2af8){_0x4417c7[a95_0x3056('0x14')](a95_0x3056('0x15'),{'msg':a95_0x3056('0x35')});return _0x329f68[a95_0x3056('0x7')]('/account');}return _0x123f1c(_0xcc579b);}_0x4417c7['flash'](a95_0x3056('0x36'),{'msg':a95_0x3056('0x37')});_0x329f68[a95_0x3056('0x7')](a95_0x3056('0x38'));});});};exports[a95_0x3056('0x39')]=(_0xae530a,_0x46c176,_0xcf9e30)=>{_0xae530a['assert'](a95_0x3056('0xf'),a95_0x3056('0x22'))['len']({'min':0x4});_0xae530a[a95_0x3056('0xe')]('confirmPassword',a95_0x3056('0x3a'))[a95_0x3056('0x24')](_0xae530a[a95_0x3056('0x25')][a95_0x3056('0xf')]);const _0x3b3a34=_0xae530a[a95_0x3056('0x13')]();if(_0x3b3a34){_0xae530a[a95_0x3056('0x14')](a95_0x3056('0x15'),_0x3b3a34);return _0x46c176[a95_0x3056('0x7')](a95_0x3056('0x38'));}User_1[a95_0x3056('0x17')][a95_0x3056('0x2f')](_0xae530a[a95_0x3056('0x1f')]['id'],(_0x3fa127,_0x44bc2f)=>{if(_0x3fa127){return _0xcf9e30(_0x3fa127);}_0x44bc2f['password']=_0xae530a[a95_0x3056('0x25')][a95_0x3056('0xf')];_0x44bc2f[a95_0x3056('0x3b')](_0x3fa127=>{if(_0x3fa127){return _0xcf9e30(_0x3fa127);}_0xae530a[a95_0x3056('0x14')](a95_0x3056('0x36'),{'msg':a95_0x3056('0x3c')});_0x46c176[a95_0x3056('0x7')]('/account');});});};exports[a95_0x3056('0x3d')]=(_0x17c1bd,_0xa9a0ec,_0x216d43)=>{User_1[a95_0x3056('0x17')][a95_0x3056('0x3e')]({'_id':_0x17c1bd[a95_0x3056('0x1f')]['id']},_0x288666=>{if(_0x288666){return _0x216d43(_0x288666);}_0x17c1bd[a95_0x3056('0x1d')]();_0x17c1bd[a95_0x3056('0x14')](a95_0x3056('0x3f'),{'msg':a95_0x3056('0x40')});_0xa9a0ec[a95_0x3056('0x7')]('/');});};exports[a95_0x3056('0x41')]=(_0x3e9433,_0x9ab337,_0x3013fd)=>{const _0x45f7f4=_0x3e9433['params'][a95_0x3056('0x42')];User_1['default'][a95_0x3056('0x2f')](_0x3e9433[a95_0x3056('0x1f')]['id'],(_0x309f2a,_0xf10164)=>{if(_0x309f2a){return _0x3013fd(_0x309f2a);}_0xf10164[_0x45f7f4]=undefined;_0xf10164[a95_0x3056('0x43')]=_0xf10164['tokens'][a95_0x3056('0x44')](_0x1f614a=>_0x1f614a['kind']!==_0x45f7f4);_0xf10164[a95_0x3056('0x3b')](_0x309f2a=>{if(_0x309f2a){return _0x3013fd(_0x309f2a);}_0x3e9433[a95_0x3056('0x14')](a95_0x3056('0x3f'),{'msg':_0x45f7f4+a95_0x3056('0x45')});_0x9ab337['redirect'](a95_0x3056('0x38'));});});};exports[a95_0x3056('0x46')]=(_0x51baa6,_0x1d67bc,_0x3095f8)=>{if(_0x51baa6[a95_0x3056('0x47')]()){return _0x1d67bc[a95_0x3056('0x7')]('/');}User_1[a95_0x3056('0x17')][a95_0x3056('0x26')]({'passwordResetToken':_0x51baa6[a95_0x3056('0x48')][a95_0x3056('0x49')]})['where'](a95_0x3056('0x4a'))['gt'](Date[a95_0x3056('0x4b')]())['exec']((_0x5a0b4d,_0x2e7004)=>{if(_0x5a0b4d){return _0x3095f8(_0x5a0b4d);}if(!_0x2e7004){_0x51baa6['flash'](a95_0x3056('0x15'),{'msg':'Password\x20reset\x20token\x20is\x20invalid\x20or\x20has\x20expired.'});return _0x1d67bc[a95_0x3056('0x7')](a95_0x3056('0x4c'));}_0x1d67bc[a95_0x3056('0x8')](a95_0x3056('0x4d'),{'title':a95_0x3056('0x4e')});});};exports[a95_0x3056('0x4f')]=(_0x42b7f8,_0x1aae43,_0x3e4a59)=>{_0x42b7f8[a95_0x3056('0xe')]('password','Password\x20must\x20be\x20at\x20least\x204\x20characters\x20long.')[a95_0x3056('0x50')]({'min':0x4});_0x42b7f8[a95_0x3056('0xe')]('confirm',a95_0x3056('0x51'))[a95_0x3056('0x24')](_0x42b7f8['body'][a95_0x3056('0xf')]);const _0x5c8525=_0x42b7f8[a95_0x3056('0x13')]();if(_0x5c8525){_0x42b7f8['flash'](a95_0x3056('0x15'),_0x5c8525);return _0x1aae43[a95_0x3056('0x7')](a95_0x3056('0x52'));}async_1[a95_0x3056('0x17')][a95_0x3056('0x53')]([function resetPassword(_0x5903ff){User_1[a95_0x3056('0x17')][a95_0x3056('0x26')]({'passwordResetToken':_0x42b7f8[a95_0x3056('0x48')]['token']})[a95_0x3056('0x54')](a95_0x3056('0x4a'))['gt'](Date[a95_0x3056('0x4b')]())[a95_0x3056('0x55')]((_0x130a43,_0x3be718)=>{if(_0x130a43){return _0x3e4a59(_0x130a43);}if(!_0x3be718){_0x42b7f8[a95_0x3056('0x14')](a95_0x3056('0x15'),{'msg':a95_0x3056('0x56')});return _0x1aae43[a95_0x3056('0x7')](a95_0x3056('0x52'));}_0x3be718['password']=_0x42b7f8[a95_0x3056('0x25')][a95_0x3056('0xf')];_0x3be718[a95_0x3056('0x57')]=undefined;_0x3be718[a95_0x3056('0x4a')]=undefined;_0x3be718[a95_0x3056('0x3b')](_0x130a43=>{if(_0x130a43){return _0x3e4a59(_0x130a43);}_0x42b7f8[a95_0x3056('0x29')](_0x3be718,_0x130a43=>{_0x5903ff(_0x130a43,_0x3be718);});});});},function sendResetPasswordEmail(_0x1c00c4,_0x356bf9){const _0x459e83=nodemailer_1['default'][a95_0x3056('0x58')]({'service':a95_0x3056('0x59'),'auth':{'user':process[a95_0x3056('0x5a')]['SENDGRID_USER'],'pass':process[a95_0x3056('0x5a')][a95_0x3056('0x5b')]}});const _0x55ff61={'to':_0x1c00c4['email'],'from':a95_0x3056('0x5c'),'subject':a95_0x3056('0x5d'),'text':a95_0x3056('0x5e')+_0x1c00c4[a95_0x3056('0xb')]+a95_0x3056('0x5f')};_0x459e83[a95_0x3056('0x60')](_0x55ff61,_0x5aaaaf=>{_0x42b7f8['flash'](a95_0x3056('0x36'),{'msg':'Success!\x20Your\x20password\x20has\x20been\x20changed.'});_0x356bf9(_0x5aaaaf);});}],_0x53d570=>{if(_0x53d570){return _0x3e4a59(_0x53d570);}_0x1aae43[a95_0x3056('0x7')]('/');});};exports[a95_0x3056('0x61')]=(_0x414b14,_0x335296)=>{if(_0x414b14[a95_0x3056('0x47')]()){return _0x335296[a95_0x3056('0x7')]('/');}_0x335296[a95_0x3056('0x8')](a95_0x3056('0x62'),{'title':a95_0x3056('0x63')});};exports[a95_0x3056('0x64')]=(_0x2461d0,_0x4d5882,_0x392f53)=>{_0x2461d0[a95_0x3056('0xe')](a95_0x3056('0xb'),'Please\x20enter\x20a\x20valid\x20email\x20address.')[a95_0x3056('0xd')]();_0x2461d0[a95_0x3056('0x11')](a95_0x3056('0xb'))[a95_0x3056('0x12')]({'gmail_remove_dots':![]});const _0x6eab74=_0x2461d0['validationErrors']();if(_0x6eab74){_0x2461d0[a95_0x3056('0x14')](a95_0x3056('0x15'),_0x6eab74);return _0x4d5882[a95_0x3056('0x7')](a95_0x3056('0x4c'));}async_1[a95_0x3056('0x17')][a95_0x3056('0x53')]([function createRandomToken(_0x11cd85){crypto_1['default'][a95_0x3056('0x65')](0x10,(_0x5d5b35,_0x28722c)=>{const _0x539636=_0x28722c[a95_0x3056('0x66')](a95_0x3056('0x67'));_0x11cd85(_0x5d5b35,_0x539636);});},function setRandomToken(_0x385127,_0x3a5f10){User_1[a95_0x3056('0x17')]['findOne']({'email':_0x2461d0[a95_0x3056('0x25')][a95_0x3056('0xb')]},(_0x346287,_0x35d9d4)=>{if(_0x346287){return _0x3a5f10(_0x346287);}if(!_0x35d9d4){_0x2461d0[a95_0x3056('0x14')](a95_0x3056('0x15'),{'msg':a95_0x3056('0x68')});return _0x4d5882[a95_0x3056('0x7')](a95_0x3056('0x4c'));}_0x35d9d4[a95_0x3056('0x57')]=_0x385127;_0x35d9d4[a95_0x3056('0x4a')]=Date[a95_0x3056('0x4b')]()+0x36ee80;_0x35d9d4[a95_0x3056('0x3b')](_0x346287=>{_0x3a5f10(_0x346287,_0x385127,_0x35d9d4);});});},function sendForgotPasswordEmail(_0x3b3336,_0xf7b679,_0x5b48fb){const _0x6afa34=nodemailer_1[a95_0x3056('0x17')][a95_0x3056('0x58')]({'service':a95_0x3056('0x59'),'auth':{'user':process[a95_0x3056('0x5a')][a95_0x3056('0x69')],'pass':process[a95_0x3056('0x5a')][a95_0x3056('0x5b')]}});const _0x5c54fe={'to':_0xf7b679[a95_0x3056('0xb')],'from':'hackathon@starter.com','subject':a95_0x3056('0x6a'),'text':a95_0x3056('0x6b')+_0x2461d0[a95_0x3056('0x6c')][a95_0x3056('0x6d')]+a95_0x3056('0x6e')+_0x3b3336+a95_0x3056('0x6f')};_0x6afa34[a95_0x3056('0x60')](_0x5c54fe,_0x45a803=>{_0x2461d0['flash'](a95_0x3056('0x3f'),{'msg':a95_0x3056('0x70')+_0xf7b679[a95_0x3056('0xb')]+a95_0x3056('0x71')});_0x5b48fb(_0x45a803);});}],_0x188a7c=>{if(_0x188a7c){return _0x392f53(_0x188a7c);}_0x4d5882['redirect'](a95_0x3056('0x4c'));});};