var a95_0x1591=['hackathon@starter.com','Reset\x20your\x20password\x20on\x20Hackathon\x20Starter','You\x20are\x20receiving\x20this\x20email\x20because\x20you\x20(or\x20someone\x20else)\x20have\x20requested\x20the\x20reset\x20of\x20the\x20password\x20for\x20your\x20account.\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Please\x20click\x20on\x20the\x20following\x20link,\x20or\x20paste\x20this\x20into\x20your\x20browser\x20to\x20complete\x20the\x20process:\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20http://','headers','host','/reset/','\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20If\x20you\x20did\x20not\x20request\x20this,\x20please\x20ignore\x20this\x20email\x20and\x20your\x20password\x20will\x20remain\x20unchanged.\x0a','An\x20e-mail\x20has\x20been\x20sent\x20to\x20','\x20with\x20further\x20instructions.','__importDefault','__esModule','async','crypto','nodemailer','passport','../models/User','express-validator','getLogin','user','redirect','account/login','postLogin','assert','Email\x20is\x20not\x20valid','isEmail','Password\x20cannot\x20be\x20blank','notEmpty','sanitize','email','flash','errors','/login','authenticate','Success!\x20You\x20are\x20logged\x20in.','session','returnTo','getSignup','account/signup','Create\x20Account','postSignup','password','Password\x20must\x20be\x20at\x20least\x204\x20characters\x20long','Passwords\x20do\x20not\x20match','body','default','/signup','save','logIn','getAccount','render','account/profile','Account\x20Management','postUpdateProfile','Please\x20enter\x20a\x20valid\x20email\x20address.','validationErrors','name','gender','profile','location','website','code','success','Profile\x20information\x20has\x20been\x20updated.','/account','postUpdatePassword','len','confirmPassword','equals','findById','Password\x20has\x20been\x20changed.','postDeleteAccount','remove','info','Your\x20account\x20has\x20been\x20deleted.','getOauthUnlink','params','provider','tokens','kind','\x20account\x20has\x20been\x20unlinked.','getReset','token','where','passwordResetExpires','now','exec','Password\x20reset\x20token\x20is\x20invalid\x20or\x20has\x20expired.','account/reset','Password\x20Reset','postReset','Password\x20must\x20be\x20at\x20least\x204\x20characters\x20long.','confirm','Passwords\x20must\x20match.','back','waterfall','findOne','passwordResetToken','createTransport','SendGrid','SENDGRID_USER','env','SENDGRID_PASSWORD','express-ts@starter.com','Your\x20password\x20has\x20been\x20changed','sendMail','getForgot','isAuthenticated','account/forgot','Forgot\x20Password','normalizeEmail','/forgot','randomBytes','toString','hex','Account\x20with\x20that\x20email\x20address\x20does\x20not\x20exist.'];(function(_0x7c0765,_0x172c68){var _0x4487b=function(_0xe52a38){while(--_0xe52a38){_0x7c0765['push'](_0x7c0765['shift']());}};_0x4487b(++_0x172c68);}(a95_0x1591,0x1d5));var a95_0x5ee8=function(_0x3c6329,_0x31b03e){_0x3c6329=_0x3c6329-0x0;var _0x5d7523=a95_0x1591[_0x3c6329];return _0x5d7523;};'use strict';var __importDefault=this&&this[a95_0x5ee8('0x0')]||function(_0xfac33b){return _0xfac33b&&_0xfac33b[a95_0x5ee8('0x1')]?_0xfac33b:{'default':_0xfac33b};};Object['defineProperty'](exports,a95_0x5ee8('0x1'),{'value':!![]});const async_1=__importDefault(require(a95_0x5ee8('0x2')));const crypto_1=__importDefault(require(a95_0x5ee8('0x3')));const nodemailer_1=__importDefault(require(a95_0x5ee8('0x4')));const passport_1=__importDefault(require(a95_0x5ee8('0x5')));const User_1=__importDefault(require(a95_0x5ee8('0x6')));const request=require(a95_0x5ee8('0x7'));exports[a95_0x5ee8('0x8')]=(_0x5a7fd0,_0x5d361a)=>{if(_0x5a7fd0[a95_0x5ee8('0x9')]){return _0x5d361a[a95_0x5ee8('0xa')]('/');}_0x5d361a['render'](a95_0x5ee8('0xb'),{'title':'Login'});};exports[a95_0x5ee8('0xc')]=(_0x403b14,_0x22b457,_0x6965ba)=>{_0x403b14[a95_0x5ee8('0xd')]('email',a95_0x5ee8('0xe'))[a95_0x5ee8('0xf')]();_0x403b14[a95_0x5ee8('0xd')]('password',a95_0x5ee8('0x10'))[a95_0x5ee8('0x11')]();_0x403b14[a95_0x5ee8('0x12')](a95_0x5ee8('0x13'))['normalizeEmail']({'gmail_remove_dots':![]});const _0x116eb9=_0x403b14['validationErrors']();if(_0x116eb9){_0x403b14[a95_0x5ee8('0x14')](a95_0x5ee8('0x15'),_0x116eb9);return _0x22b457[a95_0x5ee8('0xa')](a95_0x5ee8('0x16'));}passport_1['default'][a95_0x5ee8('0x17')]('local',(_0x17391f,_0x154d64,_0x4ac120)=>{if(_0x17391f){return _0x6965ba(_0x17391f);}if(!_0x154d64){_0x403b14[a95_0x5ee8('0x14')](a95_0x5ee8('0x15'),_0x4ac120['message']);return _0x22b457[a95_0x5ee8('0xa')](a95_0x5ee8('0x16'));}_0x403b14['logIn'](_0x154d64,_0x17391f=>{if(_0x17391f){return _0x6965ba(_0x17391f);}_0x403b14[a95_0x5ee8('0x14')]('success',{'msg':a95_0x5ee8('0x18')});_0x22b457[a95_0x5ee8('0xa')](_0x403b14[a95_0x5ee8('0x19')][a95_0x5ee8('0x1a')]||'/');});})(_0x403b14,_0x22b457,_0x6965ba);};exports['logout']=(_0x32bc43,_0x569d83)=>{_0x32bc43['logout']();_0x569d83['redirect']('/');};exports[a95_0x5ee8('0x1b')]=(_0x3ba670,_0x304200)=>{if(_0x3ba670[a95_0x5ee8('0x9')]){return _0x304200[a95_0x5ee8('0xa')]('/');}_0x304200['render'](a95_0x5ee8('0x1c'),{'title':a95_0x5ee8('0x1d')});};exports[a95_0x5ee8('0x1e')]=(_0x17af91,_0x1a45ff,_0x2baf81)=>{_0x17af91['assert'](a95_0x5ee8('0x13'),'Email\x20is\x20not\x20valid')[a95_0x5ee8('0xf')]();_0x17af91[a95_0x5ee8('0xd')](a95_0x5ee8('0x1f'),a95_0x5ee8('0x20'))['len']({'min':0x4});_0x17af91[a95_0x5ee8('0xd')]('confirmPassword',a95_0x5ee8('0x21'))['equals'](_0x17af91[a95_0x5ee8('0x22')]['password']);_0x17af91[a95_0x5ee8('0x12')](a95_0x5ee8('0x13'))['normalizeEmail']({'gmail_remove_dots':![]});const _0x120034=_0x17af91['validationErrors']();if(_0x120034){_0x17af91[a95_0x5ee8('0x14')](a95_0x5ee8('0x15'),_0x120034);return _0x1a45ff[a95_0x5ee8('0xa')]('/signup');}const _0x381b23=new User_1[(a95_0x5ee8('0x23'))]({'email':_0x17af91[a95_0x5ee8('0x22')][a95_0x5ee8('0x13')],'password':_0x17af91['body'][a95_0x5ee8('0x1f')]});User_1[a95_0x5ee8('0x23')]['findOne']({'email':_0x17af91[a95_0x5ee8('0x22')][a95_0x5ee8('0x13')]},(_0x5c8798,_0x345413)=>{if(_0x5c8798){return _0x2baf81(_0x5c8798);}if(_0x345413){_0x17af91['flash'](a95_0x5ee8('0x15'),{'msg':'Account\x20with\x20that\x20email\x20address\x20already\x20exists.'});return _0x1a45ff[a95_0x5ee8('0xa')](a95_0x5ee8('0x24'));}_0x381b23[a95_0x5ee8('0x25')](_0x5c8798=>{if(_0x5c8798){return _0x2baf81(_0x5c8798);}_0x17af91[a95_0x5ee8('0x26')](_0x381b23,_0x5c8798=>{if(_0x5c8798){return _0x2baf81(_0x5c8798);}_0x1a45ff[a95_0x5ee8('0xa')]('/');});});});};exports[a95_0x5ee8('0x27')]=(_0x59d01d,_0x1d0718)=>{_0x1d0718[a95_0x5ee8('0x28')](a95_0x5ee8('0x29'),{'title':a95_0x5ee8('0x2a')});};exports[a95_0x5ee8('0x2b')]=(_0x3a689c,_0x2b8c82,_0x34a016)=>{_0x3a689c[a95_0x5ee8('0xd')](a95_0x5ee8('0x13'),a95_0x5ee8('0x2c'))[a95_0x5ee8('0xf')]();_0x3a689c[a95_0x5ee8('0x12')](a95_0x5ee8('0x13'))['normalizeEmail']({'gmail_remove_dots':![]});const _0x474853=_0x3a689c[a95_0x5ee8('0x2d')]();if(_0x474853){_0x3a689c[a95_0x5ee8('0x14')](a95_0x5ee8('0x15'),_0x474853);return _0x2b8c82['redirect']('/account');}User_1['default']['findById'](_0x3a689c[a95_0x5ee8('0x9')]['id'],(_0x2e1ee0,_0x15ec85)=>{if(_0x2e1ee0){return _0x34a016(_0x2e1ee0);}_0x15ec85['email']=_0x3a689c[a95_0x5ee8('0x22')][a95_0x5ee8('0x13')]||'';_0x15ec85['profile']['name']=_0x3a689c[a95_0x5ee8('0x22')][a95_0x5ee8('0x2e')]||'';_0x15ec85['profile'][a95_0x5ee8('0x2f')]=_0x3a689c['body'][a95_0x5ee8('0x2f')]||'';_0x15ec85[a95_0x5ee8('0x30')][a95_0x5ee8('0x31')]=_0x3a689c[a95_0x5ee8('0x22')]['location']||'';_0x15ec85[a95_0x5ee8('0x30')][a95_0x5ee8('0x32')]=_0x3a689c[a95_0x5ee8('0x22')][a95_0x5ee8('0x32')]||'';_0x15ec85[a95_0x5ee8('0x25')](_0x2e1ee0=>{if(_0x2e1ee0){if(_0x2e1ee0[a95_0x5ee8('0x33')]===0x2af8){_0x3a689c[a95_0x5ee8('0x14')](a95_0x5ee8('0x15'),{'msg':'The\x20email\x20address\x20you\x20have\x20entered\x20is\x20already\x20associated\x20with\x20an\x20account.'});return _0x2b8c82[a95_0x5ee8('0xa')]('/account');}return _0x34a016(_0x2e1ee0);}_0x3a689c['flash'](a95_0x5ee8('0x34'),{'msg':a95_0x5ee8('0x35')});_0x2b8c82[a95_0x5ee8('0xa')](a95_0x5ee8('0x36'));});});};exports[a95_0x5ee8('0x37')]=(_0x39515f,_0x484ebb,_0x4e4ebd)=>{_0x39515f[a95_0x5ee8('0xd')](a95_0x5ee8('0x1f'),'Password\x20must\x20be\x20at\x20least\x204\x20characters\x20long')[a95_0x5ee8('0x38')]({'min':0x4});_0x39515f['assert'](a95_0x5ee8('0x39'),a95_0x5ee8('0x21'))[a95_0x5ee8('0x3a')](_0x39515f[a95_0x5ee8('0x22')]['password']);const _0x2536b5=_0x39515f[a95_0x5ee8('0x2d')]();if(_0x2536b5){_0x39515f[a95_0x5ee8('0x14')](a95_0x5ee8('0x15'),_0x2536b5);return _0x484ebb[a95_0x5ee8('0xa')](a95_0x5ee8('0x36'));}User_1[a95_0x5ee8('0x23')][a95_0x5ee8('0x3b')](_0x39515f[a95_0x5ee8('0x9')]['id'],(_0x20cda3,_0x552445)=>{if(_0x20cda3){return _0x4e4ebd(_0x20cda3);}_0x552445[a95_0x5ee8('0x1f')]=_0x39515f[a95_0x5ee8('0x22')][a95_0x5ee8('0x1f')];_0x552445['save'](_0x20cda3=>{if(_0x20cda3){return _0x4e4ebd(_0x20cda3);}_0x39515f[a95_0x5ee8('0x14')](a95_0x5ee8('0x34'),{'msg':a95_0x5ee8('0x3c')});_0x484ebb[a95_0x5ee8('0xa')](a95_0x5ee8('0x36'));});});};exports[a95_0x5ee8('0x3d')]=(_0xacccfe,_0x2311f4,_0x89c0d1)=>{User_1[a95_0x5ee8('0x23')][a95_0x5ee8('0x3e')]({'_id':_0xacccfe[a95_0x5ee8('0x9')]['id']},_0xa09fd=>{if(_0xa09fd){return _0x89c0d1(_0xa09fd);}_0xacccfe['logout']();_0xacccfe[a95_0x5ee8('0x14')](a95_0x5ee8('0x3f'),{'msg':a95_0x5ee8('0x40')});_0x2311f4[a95_0x5ee8('0xa')]('/');});};exports[a95_0x5ee8('0x41')]=(_0xd51227,_0x4abddb,_0x452fb8)=>{const _0x27f6ce=_0xd51227[a95_0x5ee8('0x42')][a95_0x5ee8('0x43')];User_1[a95_0x5ee8('0x23')][a95_0x5ee8('0x3b')](_0xd51227[a95_0x5ee8('0x9')]['id'],(_0x7454d9,_0x1dad81)=>{if(_0x7454d9){return _0x452fb8(_0x7454d9);}_0x1dad81[_0x27f6ce]=undefined;_0x1dad81[a95_0x5ee8('0x44')]=_0x1dad81[a95_0x5ee8('0x44')]['filter'](_0x394dc8=>_0x394dc8[a95_0x5ee8('0x45')]!==_0x27f6ce);_0x1dad81[a95_0x5ee8('0x25')](_0x7454d9=>{if(_0x7454d9){return _0x452fb8(_0x7454d9);}_0xd51227['flash'](a95_0x5ee8('0x3f'),{'msg':_0x27f6ce+a95_0x5ee8('0x46')});_0x4abddb[a95_0x5ee8('0xa')](a95_0x5ee8('0x36'));});});};exports[a95_0x5ee8('0x47')]=(_0x2cf53f,_0x64330a,_0x37c482)=>{if(_0x2cf53f['isAuthenticated']()){return _0x64330a[a95_0x5ee8('0xa')]('/');}User_1['default']['findOne']({'passwordResetToken':_0x2cf53f[a95_0x5ee8('0x42')][a95_0x5ee8('0x48')]})[a95_0x5ee8('0x49')](a95_0x5ee8('0x4a'))['gt'](Date[a95_0x5ee8('0x4b')]())[a95_0x5ee8('0x4c')]((_0x18ee3d,_0x250008)=>{if(_0x18ee3d){return _0x37c482(_0x18ee3d);}if(!_0x250008){_0x2cf53f['flash'](a95_0x5ee8('0x15'),{'msg':a95_0x5ee8('0x4d')});return _0x64330a['redirect']('/forgot');}_0x64330a[a95_0x5ee8('0x28')](a95_0x5ee8('0x4e'),{'title':a95_0x5ee8('0x4f')});});};exports[a95_0x5ee8('0x50')]=(_0x243271,_0x4d750f,_0x5edef2)=>{_0x243271['assert'](a95_0x5ee8('0x1f'),a95_0x5ee8('0x51'))['len']({'min':0x4});_0x243271[a95_0x5ee8('0xd')](a95_0x5ee8('0x52'),a95_0x5ee8('0x53'))[a95_0x5ee8('0x3a')](_0x243271[a95_0x5ee8('0x22')][a95_0x5ee8('0x1f')]);const _0x26f637=_0x243271[a95_0x5ee8('0x2d')]();if(_0x26f637){_0x243271[a95_0x5ee8('0x14')](a95_0x5ee8('0x15'),_0x26f637);return _0x4d750f['redirect'](a95_0x5ee8('0x54'));}async_1[a95_0x5ee8('0x23')][a95_0x5ee8('0x55')]([function resetPassword(_0x13f672){User_1[a95_0x5ee8('0x23')][a95_0x5ee8('0x56')]({'passwordResetToken':_0x243271[a95_0x5ee8('0x42')][a95_0x5ee8('0x48')]})[a95_0x5ee8('0x49')](a95_0x5ee8('0x4a'))['gt'](Date[a95_0x5ee8('0x4b')]())[a95_0x5ee8('0x4c')]((_0x19a954,_0x226889)=>{if(_0x19a954){return _0x5edef2(_0x19a954);}if(!_0x226889){_0x243271[a95_0x5ee8('0x14')]('errors',{'msg':a95_0x5ee8('0x4d')});return _0x4d750f['redirect'](a95_0x5ee8('0x54'));}_0x226889[a95_0x5ee8('0x1f')]=_0x243271[a95_0x5ee8('0x22')][a95_0x5ee8('0x1f')];_0x226889[a95_0x5ee8('0x57')]=undefined;_0x226889[a95_0x5ee8('0x4a')]=undefined;_0x226889[a95_0x5ee8('0x25')](_0x19a954=>{if(_0x19a954){return _0x5edef2(_0x19a954);}_0x243271[a95_0x5ee8('0x26')](_0x226889,_0x19a954=>{_0x13f672(_0x19a954,_0x226889);});});});},function sendResetPasswordEmail(_0x12ee74,_0x39d35c){const _0x5461dd=nodemailer_1['default'][a95_0x5ee8('0x58')]({'service':a95_0x5ee8('0x59'),'auth':{'user':process['env'][a95_0x5ee8('0x5a')],'pass':process[a95_0x5ee8('0x5b')][a95_0x5ee8('0x5c')]}});const _0x3631c3={'to':_0x12ee74[a95_0x5ee8('0x13')],'from':a95_0x5ee8('0x5d'),'subject':a95_0x5ee8('0x5e'),'text':'Hello,\x0a\x0aThis\x20is\x20a\x20confirmation\x20that\x20the\x20password\x20for\x20your\x20account\x20'+_0x12ee74[a95_0x5ee8('0x13')]+'\x20has\x20just\x20been\x20changed.\x0a'};_0x5461dd[a95_0x5ee8('0x5f')](_0x3631c3,_0x3fbf79=>{_0x243271[a95_0x5ee8('0x14')]('success',{'msg':'Success!\x20Your\x20password\x20has\x20been\x20changed.'});_0x39d35c(_0x3fbf79);});}],_0x1f1c17=>{if(_0x1f1c17){return _0x5edef2(_0x1f1c17);}_0x4d750f[a95_0x5ee8('0xa')]('/');});};exports[a95_0x5ee8('0x60')]=(_0x3358e7,_0x4a0b8a)=>{if(_0x3358e7[a95_0x5ee8('0x61')]()){return _0x4a0b8a[a95_0x5ee8('0xa')]('/');}_0x4a0b8a['render'](a95_0x5ee8('0x62'),{'title':a95_0x5ee8('0x63')});};exports['postForgot']=(_0x490504,_0x30932e,_0x561180)=>{_0x490504[a95_0x5ee8('0xd')](a95_0x5ee8('0x13'),'Please\x20enter\x20a\x20valid\x20email\x20address.')['isEmail']();_0x490504[a95_0x5ee8('0x12')]('email')[a95_0x5ee8('0x64')]({'gmail_remove_dots':![]});const _0x2dbf6c=_0x490504['validationErrors']();if(_0x2dbf6c){_0x490504[a95_0x5ee8('0x14')](a95_0x5ee8('0x15'),_0x2dbf6c);return _0x30932e['redirect'](a95_0x5ee8('0x65'));}async_1['default'][a95_0x5ee8('0x55')]([function createRandomToken(_0x744e1f){crypto_1[a95_0x5ee8('0x23')][a95_0x5ee8('0x66')](0x10,(_0x1f7138,_0x391454)=>{const _0x102edd=_0x391454[a95_0x5ee8('0x67')](a95_0x5ee8('0x68'));_0x744e1f(_0x1f7138,_0x102edd);});},function setRandomToken(_0x1628c2,_0x3b66aa){User_1['default'][a95_0x5ee8('0x56')]({'email':_0x490504['body'][a95_0x5ee8('0x13')]},(_0x1979a9,_0x4c16a1)=>{if(_0x1979a9){return _0x3b66aa(_0x1979a9);}if(!_0x4c16a1){_0x490504[a95_0x5ee8('0x14')]('errors',{'msg':a95_0x5ee8('0x69')});return _0x30932e[a95_0x5ee8('0xa')](a95_0x5ee8('0x65'));}_0x4c16a1[a95_0x5ee8('0x57')]=_0x1628c2;_0x4c16a1[a95_0x5ee8('0x4a')]=Date[a95_0x5ee8('0x4b')]()+0x36ee80;_0x4c16a1['save'](_0x1979a9=>{_0x3b66aa(_0x1979a9,_0x1628c2,_0x4c16a1);});});},function sendForgotPasswordEmail(_0x440756,_0x2907b7,_0xa148f6){const _0x5ddc43=nodemailer_1[a95_0x5ee8('0x23')][a95_0x5ee8('0x58')]({'service':'SendGrid','auth':{'user':process[a95_0x5ee8('0x5b')][a95_0x5ee8('0x5a')],'pass':process[a95_0x5ee8('0x5b')][a95_0x5ee8('0x5c')]}});const _0x25f715={'to':_0x2907b7['email'],'from':a95_0x5ee8('0x6a'),'subject':a95_0x5ee8('0x6b'),'text':a95_0x5ee8('0x6c')+_0x490504[a95_0x5ee8('0x6d')][a95_0x5ee8('0x6e')]+a95_0x5ee8('0x6f')+_0x440756+a95_0x5ee8('0x70')};_0x5ddc43[a95_0x5ee8('0x5f')](_0x25f715,_0x3ca431=>{_0x490504[a95_0x5ee8('0x14')](a95_0x5ee8('0x3f'),{'msg':a95_0x5ee8('0x71')+_0x2907b7[a95_0x5ee8('0x13')]+a95_0x5ee8('0x72')});_0xa148f6(_0x3ca431);});}],_0x49994e=>{if(_0x49994e){return _0x561180(_0x49994e);}_0x30932e[a95_0x5ee8('0xa')](a95_0x5ee8('0x65'));});};