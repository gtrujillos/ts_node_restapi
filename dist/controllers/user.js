var a95_0x47e9=['Your\x20account\x20has\x20been\x20deleted.','getOauthUnlink','params','tokens','filter','\x20account\x20has\x20been\x20unlinked.','getReset','isAuthenticated','findOne','token','passwordResetExpires','now','exec','/forgot','account/reset','Password\x20Reset','postReset','Password\x20must\x20be\x20at\x20least\x204\x20characters\x20long.','confirm','back','waterfall','where','Password\x20reset\x20token\x20is\x20invalid\x20or\x20has\x20expired.','passwordResetToken','createTransport','SendGrid','env','SENDGRID_USER','SENDGRID_PASSWORD','express-ts@starter.com','Your\x20password\x20has\x20been\x20changed','Hello,\x0a\x0aThis\x20is\x20a\x20confirmation\x20that\x20the\x20password\x20for\x20your\x20account\x20','\x20has\x20just\x20been\x20changed.\x0a','sendMail','Success!\x20Your\x20password\x20has\x20been\x20changed.','getForgot','Forgot\x20Password','postForgot','hex','Account\x20with\x20that\x20email\x20address\x20does\x20not\x20exist.','host','/reset/','\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20If\x20you\x20did\x20not\x20request\x20this,\x20please\x20ignore\x20this\x20email\x20and\x20your\x20password\x20will\x20remain\x20unchanged.\x0a','An\x20e-mail\x20has\x20been\x20sent\x20to\x20','\x20with\x20further\x20instructions.','__importDefault','__esModule','defineProperty','async','crypto','nodemailer','passport','../models/User','getLogin','user','redirect','render','account/login','postLogin','assert','isEmail','password','notEmpty','normalizeEmail','validationErrors','flash','errors','/login','default','authenticate','local','message','logIn','Success!\x20You\x20are\x20logged\x20in.','returnTo','logout','account/signup','Create\x20Account','postSignup','email','Email\x20is\x20not\x20valid','Password\x20must\x20be\x20at\x20least\x204\x20characters\x20long','len','Passwords\x20do\x20not\x20match','equals','body','sanitize','/signup','Account\x20with\x20that\x20email\x20address\x20already\x20exists.','save','getAccount','account/profile','Account\x20Management','postUpdateProfile','Please\x20enter\x20a\x20valid\x20email\x20address.','/account','findById','profile','name','gender','location','website','code','The\x20email\x20address\x20you\x20have\x20entered\x20is\x20already\x20associated\x20with\x20an\x20account.','success','Profile\x20information\x20has\x20been\x20updated.','confirmPassword','Password\x20has\x20been\x20changed.','postDeleteAccount','info'];(function(_0x381f47,_0x372d08){var _0x840ea5=function(_0x2774df){while(--_0x2774df){_0x381f47['push'](_0x381f47['shift']());}};_0x840ea5(++_0x372d08);}(a95_0x47e9,0x9b));var a95_0x4c7e=function(_0x122330,_0x18b501){_0x122330=_0x122330-0x0;var _0x280e09=a95_0x47e9[_0x122330];return _0x280e09;};'use strict';var __importDefault=this&&this[a95_0x4c7e('0x0')]||function(_0x5c89bf){return _0x5c89bf&&_0x5c89bf[a95_0x4c7e('0x1')]?_0x5c89bf:{'default':_0x5c89bf};};Object[a95_0x4c7e('0x2')](exports,a95_0x4c7e('0x1'),{'value':!![]});const async_1=__importDefault(require(a95_0x4c7e('0x3')));const crypto_1=__importDefault(require(a95_0x4c7e('0x4')));const nodemailer_1=__importDefault(require(a95_0x4c7e('0x5')));const passport_1=__importDefault(require(a95_0x4c7e('0x6')));const User_1=__importDefault(require(a95_0x4c7e('0x7')));const request=require('express-validator');exports[a95_0x4c7e('0x8')]=(_0x3b9466,_0x27f112)=>{if(_0x3b9466[a95_0x4c7e('0x9')]){return _0x27f112[a95_0x4c7e('0xa')]('/');}_0x27f112[a95_0x4c7e('0xb')](a95_0x4c7e('0xc'),{'title':'Login'});};exports[a95_0x4c7e('0xd')]=(_0xc7997,_0xdddcf4,_0x2b962d)=>{_0xc7997[a95_0x4c7e('0xe')]('email','Email\x20is\x20not\x20valid')[a95_0x4c7e('0xf')]();_0xc7997[a95_0x4c7e('0xe')](a95_0x4c7e('0x10'),'Password\x20cannot\x20be\x20blank')[a95_0x4c7e('0x11')]();_0xc7997['sanitize']('email')[a95_0x4c7e('0x12')]({'gmail_remove_dots':![]});const _0x37f3ac=_0xc7997[a95_0x4c7e('0x13')]();if(_0x37f3ac){_0xc7997[a95_0x4c7e('0x14')](a95_0x4c7e('0x15'),_0x37f3ac);return _0xdddcf4[a95_0x4c7e('0xa')](a95_0x4c7e('0x16'));}passport_1[a95_0x4c7e('0x17')][a95_0x4c7e('0x18')](a95_0x4c7e('0x19'),(_0x1e3a64,_0x1529e7,_0x3ceef4)=>{if(_0x1e3a64){return _0x2b962d(_0x1e3a64);}if(!_0x1529e7){_0xc7997[a95_0x4c7e('0x14')](a95_0x4c7e('0x15'),_0x3ceef4[a95_0x4c7e('0x1a')]);return _0xdddcf4[a95_0x4c7e('0xa')](a95_0x4c7e('0x16'));}_0xc7997[a95_0x4c7e('0x1b')](_0x1529e7,_0x1e3a64=>{if(_0x1e3a64){return _0x2b962d(_0x1e3a64);}_0xc7997[a95_0x4c7e('0x14')]('success',{'msg':a95_0x4c7e('0x1c')});_0xdddcf4[a95_0x4c7e('0xa')](_0xc7997['session'][a95_0x4c7e('0x1d')]||'/');});})(_0xc7997,_0xdddcf4,_0x2b962d);};exports[a95_0x4c7e('0x1e')]=(_0x80c613,_0x36ff2a)=>{_0x80c613[a95_0x4c7e('0x1e')]();_0x36ff2a[a95_0x4c7e('0xa')]('/');};exports['getSignup']=(_0x420291,_0x4a1335)=>{if(_0x420291[a95_0x4c7e('0x9')]){return _0x4a1335[a95_0x4c7e('0xa')]('/');}_0x4a1335[a95_0x4c7e('0xb')](a95_0x4c7e('0x1f'),{'title':a95_0x4c7e('0x20')});};exports[a95_0x4c7e('0x21')]=(_0x448c3e,_0x153549,_0x3d1a66)=>{_0x448c3e[a95_0x4c7e('0xe')](a95_0x4c7e('0x22'),a95_0x4c7e('0x23'))[a95_0x4c7e('0xf')]();_0x448c3e[a95_0x4c7e('0xe')]('password',a95_0x4c7e('0x24'))[a95_0x4c7e('0x25')]({'min':0x4});_0x448c3e[a95_0x4c7e('0xe')]('confirmPassword',a95_0x4c7e('0x26'))[a95_0x4c7e('0x27')](_0x448c3e[a95_0x4c7e('0x28')]['password']);_0x448c3e[a95_0x4c7e('0x29')]('email')[a95_0x4c7e('0x12')]({'gmail_remove_dots':![]});const _0x153df3=_0x448c3e[a95_0x4c7e('0x13')]();if(_0x153df3){_0x448c3e[a95_0x4c7e('0x14')]('errors',_0x153df3);return _0x153549[a95_0x4c7e('0xa')](a95_0x4c7e('0x2a'));}const _0x530094=new User_1['default']({'email':_0x448c3e[a95_0x4c7e('0x28')][a95_0x4c7e('0x22')],'password':_0x448c3e[a95_0x4c7e('0x28')][a95_0x4c7e('0x10')]});User_1[a95_0x4c7e('0x17')]['findOne']({'email':_0x448c3e[a95_0x4c7e('0x28')]['email']},(_0x3846f9,_0x3d9832)=>{if(_0x3846f9){return _0x3d1a66(_0x3846f9);}if(_0x3d9832){_0x448c3e[a95_0x4c7e('0x14')]('errors',{'msg':a95_0x4c7e('0x2b')});return _0x153549[a95_0x4c7e('0xa')](a95_0x4c7e('0x2a'));}_0x530094[a95_0x4c7e('0x2c')](_0x3846f9=>{if(_0x3846f9){return _0x3d1a66(_0x3846f9);}_0x448c3e[a95_0x4c7e('0x1b')](_0x530094,_0x3846f9=>{if(_0x3846f9){return _0x3d1a66(_0x3846f9);}_0x153549[a95_0x4c7e('0xa')]('/');});});});};exports[a95_0x4c7e('0x2d')]=(_0x40f38c,_0xb85bc2)=>{_0xb85bc2[a95_0x4c7e('0xb')](a95_0x4c7e('0x2e'),{'title':a95_0x4c7e('0x2f')});};exports[a95_0x4c7e('0x30')]=(_0x205fce,_0x227887,_0x18e6dd)=>{_0x205fce[a95_0x4c7e('0xe')](a95_0x4c7e('0x22'),a95_0x4c7e('0x31'))[a95_0x4c7e('0xf')]();_0x205fce[a95_0x4c7e('0x29')]('email')[a95_0x4c7e('0x12')]({'gmail_remove_dots':![]});const _0x2de2e3=_0x205fce[a95_0x4c7e('0x13')]();if(_0x2de2e3){_0x205fce[a95_0x4c7e('0x14')](a95_0x4c7e('0x15'),_0x2de2e3);return _0x227887[a95_0x4c7e('0xa')](a95_0x4c7e('0x32'));}User_1[a95_0x4c7e('0x17')][a95_0x4c7e('0x33')](_0x205fce[a95_0x4c7e('0x9')]['id'],(_0x7392a2,_0x248bbc)=>{if(_0x7392a2){return _0x18e6dd(_0x7392a2);}_0x248bbc['email']=_0x205fce[a95_0x4c7e('0x28')][a95_0x4c7e('0x22')]||'';_0x248bbc[a95_0x4c7e('0x34')][a95_0x4c7e('0x35')]=_0x205fce['body'][a95_0x4c7e('0x35')]||'';_0x248bbc[a95_0x4c7e('0x34')][a95_0x4c7e('0x36')]=_0x205fce[a95_0x4c7e('0x28')]['gender']||'';_0x248bbc[a95_0x4c7e('0x34')][a95_0x4c7e('0x37')]=_0x205fce['body'][a95_0x4c7e('0x37')]||'';_0x248bbc[a95_0x4c7e('0x34')][a95_0x4c7e('0x38')]=_0x205fce[a95_0x4c7e('0x28')][a95_0x4c7e('0x38')]||'';_0x248bbc[a95_0x4c7e('0x2c')](_0x7392a2=>{if(_0x7392a2){if(_0x7392a2[a95_0x4c7e('0x39')]===0x2af8){_0x205fce[a95_0x4c7e('0x14')](a95_0x4c7e('0x15'),{'msg':a95_0x4c7e('0x3a')});return _0x227887[a95_0x4c7e('0xa')](a95_0x4c7e('0x32'));}return _0x18e6dd(_0x7392a2);}_0x205fce[a95_0x4c7e('0x14')](a95_0x4c7e('0x3b'),{'msg':a95_0x4c7e('0x3c')});_0x227887['redirect']('/account');});});};exports['postUpdatePassword']=(_0x258570,_0x1919e6,_0x2e1823)=>{_0x258570[a95_0x4c7e('0xe')](a95_0x4c7e('0x10'),'Password\x20must\x20be\x20at\x20least\x204\x20characters\x20long')['len']({'min':0x4});_0x258570[a95_0x4c7e('0xe')](a95_0x4c7e('0x3d'),a95_0x4c7e('0x26'))[a95_0x4c7e('0x27')](_0x258570[a95_0x4c7e('0x28')][a95_0x4c7e('0x10')]);const _0x208dde=_0x258570[a95_0x4c7e('0x13')]();if(_0x208dde){_0x258570['flash']('errors',_0x208dde);return _0x1919e6[a95_0x4c7e('0xa')]('/account');}User_1[a95_0x4c7e('0x17')][a95_0x4c7e('0x33')](_0x258570[a95_0x4c7e('0x9')]['id'],(_0x35fa16,_0x529b1f)=>{if(_0x35fa16){return _0x2e1823(_0x35fa16);}_0x529b1f[a95_0x4c7e('0x10')]=_0x258570[a95_0x4c7e('0x28')][a95_0x4c7e('0x10')];_0x529b1f[a95_0x4c7e('0x2c')](_0x35fa16=>{if(_0x35fa16){return _0x2e1823(_0x35fa16);}_0x258570[a95_0x4c7e('0x14')](a95_0x4c7e('0x3b'),{'msg':a95_0x4c7e('0x3e')});_0x1919e6[a95_0x4c7e('0xa')](a95_0x4c7e('0x32'));});});};exports[a95_0x4c7e('0x3f')]=(_0x4b8d15,_0x491abc,_0x586121)=>{User_1['default']['remove']({'_id':_0x4b8d15[a95_0x4c7e('0x9')]['id']},_0x203d8d=>{if(_0x203d8d){return _0x586121(_0x203d8d);}_0x4b8d15[a95_0x4c7e('0x1e')]();_0x4b8d15['flash'](a95_0x4c7e('0x40'),{'msg':a95_0x4c7e('0x41')});_0x491abc['redirect']('/');});};exports[a95_0x4c7e('0x42')]=(_0x43629d,_0x499aee,_0x57a199)=>{const _0x3ad1cd=_0x43629d[a95_0x4c7e('0x43')]['provider'];User_1['default'][a95_0x4c7e('0x33')](_0x43629d[a95_0x4c7e('0x9')]['id'],(_0x16fca2,_0xa2c8f5)=>{if(_0x16fca2){return _0x57a199(_0x16fca2);}_0xa2c8f5[_0x3ad1cd]=undefined;_0xa2c8f5['tokens']=_0xa2c8f5[a95_0x4c7e('0x44')][a95_0x4c7e('0x45')](_0x42a31d=>_0x42a31d['kind']!==_0x3ad1cd);_0xa2c8f5[a95_0x4c7e('0x2c')](_0x16fca2=>{if(_0x16fca2){return _0x57a199(_0x16fca2);}_0x43629d['flash']('info',{'msg':_0x3ad1cd+a95_0x4c7e('0x46')});_0x499aee[a95_0x4c7e('0xa')](a95_0x4c7e('0x32'));});});};exports[a95_0x4c7e('0x47')]=(_0x38b154,_0x4d728d,_0x3cdd40)=>{if(_0x38b154[a95_0x4c7e('0x48')]()){return _0x4d728d[a95_0x4c7e('0xa')]('/');}User_1[a95_0x4c7e('0x17')][a95_0x4c7e('0x49')]({'passwordResetToken':_0x38b154[a95_0x4c7e('0x43')][a95_0x4c7e('0x4a')]})['where'](a95_0x4c7e('0x4b'))['gt'](Date[a95_0x4c7e('0x4c')]())[a95_0x4c7e('0x4d')]((_0x1f3667,_0x57d9fb)=>{if(_0x1f3667){return _0x3cdd40(_0x1f3667);}if(!_0x57d9fb){_0x38b154[a95_0x4c7e('0x14')]('errors',{'msg':'Password\x20reset\x20token\x20is\x20invalid\x20or\x20has\x20expired.'});return _0x4d728d[a95_0x4c7e('0xa')](a95_0x4c7e('0x4e'));}_0x4d728d[a95_0x4c7e('0xb')](a95_0x4c7e('0x4f'),{'title':a95_0x4c7e('0x50')});});};exports[a95_0x4c7e('0x51')]=(_0x797b38,_0x3f3d5e,_0x256549)=>{_0x797b38['assert'](a95_0x4c7e('0x10'),a95_0x4c7e('0x52'))[a95_0x4c7e('0x25')]({'min':0x4});_0x797b38[a95_0x4c7e('0xe')](a95_0x4c7e('0x53'),'Passwords\x20must\x20match.')['equals'](_0x797b38['body'][a95_0x4c7e('0x10')]);const _0x23531e=_0x797b38['validationErrors']();if(_0x23531e){_0x797b38[a95_0x4c7e('0x14')]('errors',_0x23531e);return _0x3f3d5e[a95_0x4c7e('0xa')](a95_0x4c7e('0x54'));}async_1[a95_0x4c7e('0x17')][a95_0x4c7e('0x55')]([function resetPassword(_0x28d2c4){User_1[a95_0x4c7e('0x17')][a95_0x4c7e('0x49')]({'passwordResetToken':_0x797b38['params']['token']})[a95_0x4c7e('0x56')](a95_0x4c7e('0x4b'))['gt'](Date[a95_0x4c7e('0x4c')]())[a95_0x4c7e('0x4d')]((_0x21ab6a,_0x29514e)=>{if(_0x21ab6a){return _0x256549(_0x21ab6a);}if(!_0x29514e){_0x797b38['flash']('errors',{'msg':a95_0x4c7e('0x57')});return _0x3f3d5e[a95_0x4c7e('0xa')](a95_0x4c7e('0x54'));}_0x29514e[a95_0x4c7e('0x10')]=_0x797b38[a95_0x4c7e('0x28')]['password'];_0x29514e[a95_0x4c7e('0x58')]=undefined;_0x29514e[a95_0x4c7e('0x4b')]=undefined;_0x29514e['save'](_0x21ab6a=>{if(_0x21ab6a){return _0x256549(_0x21ab6a);}_0x797b38['logIn'](_0x29514e,_0x21ab6a=>{_0x28d2c4(_0x21ab6a,_0x29514e);});});});},function sendResetPasswordEmail(_0x347e8e,_0x66e56e){const _0x251200=nodemailer_1[a95_0x4c7e('0x17')][a95_0x4c7e('0x59')]({'service':a95_0x4c7e('0x5a'),'auth':{'user':process[a95_0x4c7e('0x5b')][a95_0x4c7e('0x5c')],'pass':process['env'][a95_0x4c7e('0x5d')]}});const _0x4c8df8={'to':_0x347e8e[a95_0x4c7e('0x22')],'from':a95_0x4c7e('0x5e'),'subject':a95_0x4c7e('0x5f'),'text':a95_0x4c7e('0x60')+_0x347e8e['email']+a95_0x4c7e('0x61')};_0x251200[a95_0x4c7e('0x62')](_0x4c8df8,_0x23f4d2=>{_0x797b38[a95_0x4c7e('0x14')](a95_0x4c7e('0x3b'),{'msg':a95_0x4c7e('0x63')});_0x66e56e(_0x23f4d2);});}],_0xdcdcb=>{if(_0xdcdcb){return _0x256549(_0xdcdcb);}_0x3f3d5e[a95_0x4c7e('0xa')]('/');});};exports[a95_0x4c7e('0x64')]=(_0x18aaf7,_0x5d0af3)=>{if(_0x18aaf7[a95_0x4c7e('0x48')]()){return _0x5d0af3[a95_0x4c7e('0xa')]('/');}_0x5d0af3[a95_0x4c7e('0xb')]('account/forgot',{'title':a95_0x4c7e('0x65')});};exports[a95_0x4c7e('0x66')]=(_0x181fcc,_0x3a883d,_0x469fa9)=>{_0x181fcc[a95_0x4c7e('0xe')](a95_0x4c7e('0x22'),'Please\x20enter\x20a\x20valid\x20email\x20address.')[a95_0x4c7e('0xf')]();_0x181fcc[a95_0x4c7e('0x29')](a95_0x4c7e('0x22'))[a95_0x4c7e('0x12')]({'gmail_remove_dots':![]});const _0x1c20af=_0x181fcc[a95_0x4c7e('0x13')]();if(_0x1c20af){_0x181fcc['flash'](a95_0x4c7e('0x15'),_0x1c20af);return _0x3a883d['redirect'](a95_0x4c7e('0x4e'));}async_1['default'][a95_0x4c7e('0x55')]([function createRandomToken(_0x58e9b7){crypto_1[a95_0x4c7e('0x17')]['randomBytes'](0x10,(_0x1835c1,_0x2308e4)=>{const _0x3d3e24=_0x2308e4['toString'](a95_0x4c7e('0x67'));_0x58e9b7(_0x1835c1,_0x3d3e24);});},function setRandomToken(_0x3a84c9,_0x29351e){User_1[a95_0x4c7e('0x17')][a95_0x4c7e('0x49')]({'email':_0x181fcc[a95_0x4c7e('0x28')][a95_0x4c7e('0x22')]},(_0x5547d4,_0xa65362)=>{if(_0x5547d4){return _0x29351e(_0x5547d4);}if(!_0xa65362){_0x181fcc['flash'](a95_0x4c7e('0x15'),{'msg':a95_0x4c7e('0x68')});return _0x3a883d[a95_0x4c7e('0xa')]('/forgot');}_0xa65362[a95_0x4c7e('0x58')]=_0x3a84c9;_0xa65362[a95_0x4c7e('0x4b')]=Date[a95_0x4c7e('0x4c')]()+0x36ee80;_0xa65362[a95_0x4c7e('0x2c')](_0x5547d4=>{_0x29351e(_0x5547d4,_0x3a84c9,_0xa65362);});});},function sendForgotPasswordEmail(_0x4c0968,_0x1b82ec,_0x1bb73e){const _0x7c8a57=nodemailer_1[a95_0x4c7e('0x17')][a95_0x4c7e('0x59')]({'service':a95_0x4c7e('0x5a'),'auth':{'user':process[a95_0x4c7e('0x5b')][a95_0x4c7e('0x5c')],'pass':process[a95_0x4c7e('0x5b')][a95_0x4c7e('0x5d')]}});const _0x55375e={'to':_0x1b82ec[a95_0x4c7e('0x22')],'from':'hackathon@starter.com','subject':'Reset\x20your\x20password\x20on\x20Hackathon\x20Starter','text':'You\x20are\x20receiving\x20this\x20email\x20because\x20you\x20(or\x20someone\x20else)\x20have\x20requested\x20the\x20reset\x20of\x20the\x20password\x20for\x20your\x20account.\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Please\x20click\x20on\x20the\x20following\x20link,\x20or\x20paste\x20this\x20into\x20your\x20browser\x20to\x20complete\x20the\x20process:\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20http://'+_0x181fcc['headers'][a95_0x4c7e('0x69')]+a95_0x4c7e('0x6a')+_0x4c0968+a95_0x4c7e('0x6b')};_0x7c8a57[a95_0x4c7e('0x62')](_0x55375e,_0x5f1205=>{_0x181fcc[a95_0x4c7e('0x14')](a95_0x4c7e('0x40'),{'msg':a95_0x4c7e('0x6c')+_0x1b82ec[a95_0x4c7e('0x22')]+a95_0x4c7e('0x6d')});_0x1bb73e(_0x5f1205);});}],_0x22c141=>{if(_0x22c141){return _0x469fa9(_0x22c141);}_0x3a883d[a95_0x4c7e('0xa')](a95_0x4c7e('0x4e'));});};