var a192_0x3cd3=['Hello,\x0a\x0aThis\x20is\x20a\x20confirmation\x20that\x20the\x20password\x20for\x20your\x20account\x20','\x20has\x20just\x20been\x20changed.\x0a','sendMail','Success!\x20Your\x20password\x20has\x20been\x20changed.','account/forgot','Forgot\x20Password','postForgot','waterfall','randomBytes','hex','Account\x20with\x20that\x20email\x20address\x20does\x20not\x20exist.','hackathon@starter.com','Reset\x20your\x20password\x20on\x20Hackathon\x20Starter','You\x20are\x20receiving\x20this\x20email\x20because\x20you\x20(or\x20someone\x20else)\x20have\x20requested\x20the\x20reset\x20of\x20the\x20password\x20for\x20your\x20account.\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Please\x20click\x20on\x20the\x20following\x20link,\x20or\x20paste\x20this\x20into\x20your\x20browser\x20to\x20complete\x20the\x20process:\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20http://','headers','/reset/','\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20If\x20you\x20did\x20not\x20request\x20this,\x20please\x20ignore\x20this\x20email\x20and\x20your\x20password\x20will\x20remain\x20unchanged.\x0a','An\x20e-mail\x20has\x20been\x20sent\x20to\x20','__importDefault','defineProperty','__esModule','async','crypto','nodemailer','../models/User','express-validator','getLogin','user','render','account/login','postLogin','assert','email','isEmail','password','Password\x20cannot\x20be\x20blank','notEmpty','normalizeEmail','errors','redirect','/login','default','authenticate','local','flash','message','logIn','success','session','returnTo','logout','Create\x20Account','postSignup','Email\x20is\x20not\x20valid','len','Passwords\x20do\x20not\x20match','equals','body','sanitize','validationErrors','Account\x20with\x20that\x20email\x20address\x20already\x20exists.','/signup','save','account/profile','Account\x20Management','postUpdateProfile','Please\x20enter\x20a\x20valid\x20email\x20address.','/account','profile','name','gender','location','website','Profile\x20information\x20has\x20been\x20updated.','postUpdatePassword','confirmPassword','postDeleteAccount','remove','info','Your\x20account\x20has\x20been\x20deleted.','getOauthUnlink','provider','findById','tokens','filter','kind','\x20account\x20has\x20been\x20unlinked.','getReset','isAuthenticated','findOne','params','token','passwordResetExpires','now','exec','Password\x20reset\x20token\x20is\x20invalid\x20or\x20has\x20expired.','/forgot','account/reset','Password\x20Reset','postReset','Password\x20must\x20be\x20at\x20least\x204\x20characters\x20long.','confirm','Passwords\x20must\x20match.','where','back','passwordResetToken','createTransport','SendGrid','env','SENDGRID_USER','SENDGRID_PASSWORD','express-ts@starter.com','Your\x20password\x20has\x20been\x20changed'];(function(_0x3e8590,_0x3f9d7f){var _0x46ea8d=function(_0x1580ff){while(--_0x1580ff){_0x3e8590['push'](_0x3e8590['shift']());}};_0x46ea8d(++_0x3f9d7f);}(a192_0x3cd3,0x83));var a192_0xb2b7=function(_0x614c93,_0x188ede){_0x614c93=_0x614c93-0x0;var _0x3fbe1e=a192_0x3cd3[_0x614c93];return _0x3fbe1e;};'use strict';var __importDefault=this&&this[a192_0xb2b7('0x0')]||function(_0x26a0f0){return _0x26a0f0&&_0x26a0f0['__esModule']?_0x26a0f0:{'default':_0x26a0f0};};Object[a192_0xb2b7('0x1')](exports,a192_0xb2b7('0x2'),{'value':!![]});const async_1=__importDefault(require(a192_0xb2b7('0x3')));const crypto_1=__importDefault(require(a192_0xb2b7('0x4')));const nodemailer_1=__importDefault(require(a192_0xb2b7('0x5')));const passport_1=__importDefault(require('passport'));const User_1=__importDefault(require(a192_0xb2b7('0x6')));const request=require(a192_0xb2b7('0x7'));exports[a192_0xb2b7('0x8')]=(_0x4bb768,_0x22496d)=>{if(_0x4bb768[a192_0xb2b7('0x9')]){return _0x22496d['redirect']('/');}_0x22496d[a192_0xb2b7('0xa')](a192_0xb2b7('0xb'),{'title':'Login'});};exports[a192_0xb2b7('0xc')]=(_0x425841,_0x1e5b0b,_0x1b91e0)=>{_0x425841[a192_0xb2b7('0xd')](a192_0xb2b7('0xe'),'Email\x20is\x20not\x20valid')[a192_0xb2b7('0xf')]();_0x425841['assert'](a192_0xb2b7('0x10'),a192_0xb2b7('0x11'))[a192_0xb2b7('0x12')]();_0x425841['sanitize']('email')[a192_0xb2b7('0x13')]({'gmail_remove_dots':![]});const _0x44c2fc=_0x425841['validationErrors']();if(_0x44c2fc){_0x425841['flash'](a192_0xb2b7('0x14'),_0x44c2fc);return _0x1e5b0b[a192_0xb2b7('0x15')](a192_0xb2b7('0x16'));}passport_1[a192_0xb2b7('0x17')][a192_0xb2b7('0x18')](a192_0xb2b7('0x19'),(_0x3c5664,_0xb4c81,_0x58ba8a)=>{if(_0x3c5664){return _0x1b91e0(_0x3c5664);}if(!_0xb4c81){_0x425841[a192_0xb2b7('0x1a')](a192_0xb2b7('0x14'),_0x58ba8a[a192_0xb2b7('0x1b')]);return _0x1e5b0b[a192_0xb2b7('0x15')](a192_0xb2b7('0x16'));}_0x425841[a192_0xb2b7('0x1c')](_0xb4c81,_0x3c5664=>{if(_0x3c5664){return _0x1b91e0(_0x3c5664);}_0x425841[a192_0xb2b7('0x1a')](a192_0xb2b7('0x1d'),{'msg':'Success!\x20You\x20are\x20logged\x20in.'});_0x1e5b0b['redirect'](_0x425841[a192_0xb2b7('0x1e')][a192_0xb2b7('0x1f')]||'/');});})(_0x425841,_0x1e5b0b,_0x1b91e0);};exports[a192_0xb2b7('0x20')]=(_0x4a27a7,_0x24e19d)=>{_0x4a27a7[a192_0xb2b7('0x20')]();_0x24e19d[a192_0xb2b7('0x15')]('/');};exports['getSignup']=(_0x12e391,_0x5e51a4)=>{if(_0x12e391[a192_0xb2b7('0x9')]){return _0x5e51a4[a192_0xb2b7('0x15')]('/');}_0x5e51a4['render']('account/signup',{'title':a192_0xb2b7('0x21')});};exports[a192_0xb2b7('0x22')]=(_0x291e96,_0x1cbb61,_0x4d22fa)=>{_0x291e96[a192_0xb2b7('0xd')](a192_0xb2b7('0xe'),a192_0xb2b7('0x23'))[a192_0xb2b7('0xf')]();_0x291e96['assert'](a192_0xb2b7('0x10'),'Password\x20must\x20be\x20at\x20least\x204\x20characters\x20long')[a192_0xb2b7('0x24')]({'min':0x4});_0x291e96[a192_0xb2b7('0xd')]('confirmPassword',a192_0xb2b7('0x25'))[a192_0xb2b7('0x26')](_0x291e96[a192_0xb2b7('0x27')]['password']);_0x291e96[a192_0xb2b7('0x28')](a192_0xb2b7('0xe'))[a192_0xb2b7('0x13')]({'gmail_remove_dots':![]});const _0x11d7d8=_0x291e96[a192_0xb2b7('0x29')]();if(_0x11d7d8){_0x291e96['flash'](a192_0xb2b7('0x14'),_0x11d7d8);return _0x1cbb61[a192_0xb2b7('0x15')]('/signup');}const _0x578a44=new User_1[(a192_0xb2b7('0x17'))]({'email':_0x291e96[a192_0xb2b7('0x27')]['email'],'password':_0x291e96[a192_0xb2b7('0x27')][a192_0xb2b7('0x10')]});User_1[a192_0xb2b7('0x17')]['findOne']({'email':_0x291e96[a192_0xb2b7('0x27')][a192_0xb2b7('0xe')]},(_0x2ee92f,_0x5ee60e)=>{if(_0x2ee92f){return _0x4d22fa(_0x2ee92f);}if(_0x5ee60e){_0x291e96[a192_0xb2b7('0x1a')](a192_0xb2b7('0x14'),{'msg':a192_0xb2b7('0x2a')});return _0x1cbb61['redirect'](a192_0xb2b7('0x2b'));}_0x578a44[a192_0xb2b7('0x2c')](_0x2ee92f=>{if(_0x2ee92f){return _0x4d22fa(_0x2ee92f);}_0x291e96[a192_0xb2b7('0x1c')](_0x578a44,_0x2ee92f=>{if(_0x2ee92f){return _0x4d22fa(_0x2ee92f);}_0x1cbb61['redirect']('/');});});});};exports['getAccount']=(_0x465ea9,_0x44ea90)=>{_0x44ea90[a192_0xb2b7('0xa')](a192_0xb2b7('0x2d'),{'title':a192_0xb2b7('0x2e')});};exports[a192_0xb2b7('0x2f')]=(_0x3b2061,_0x428ddf,_0x3bac6a)=>{_0x3b2061[a192_0xb2b7('0xd')](a192_0xb2b7('0xe'),a192_0xb2b7('0x30'))['isEmail']();_0x3b2061[a192_0xb2b7('0x28')](a192_0xb2b7('0xe'))[a192_0xb2b7('0x13')]({'gmail_remove_dots':![]});const _0x2018c5=_0x3b2061[a192_0xb2b7('0x29')]();if(_0x2018c5){_0x3b2061[a192_0xb2b7('0x1a')](a192_0xb2b7('0x14'),_0x2018c5);return _0x428ddf['redirect'](a192_0xb2b7('0x31'));}User_1[a192_0xb2b7('0x17')]['findById'](_0x3b2061[a192_0xb2b7('0x9')]['id'],(_0x1084a2,_0x20561d)=>{if(_0x1084a2){return _0x3bac6a(_0x1084a2);}_0x20561d[a192_0xb2b7('0xe')]=_0x3b2061[a192_0xb2b7('0x27')][a192_0xb2b7('0xe')]||'';_0x20561d[a192_0xb2b7('0x32')][a192_0xb2b7('0x33')]=_0x3b2061['body']['name']||'';_0x20561d[a192_0xb2b7('0x32')][a192_0xb2b7('0x34')]=_0x3b2061[a192_0xb2b7('0x27')][a192_0xb2b7('0x34')]||'';_0x20561d[a192_0xb2b7('0x32')][a192_0xb2b7('0x35')]=_0x3b2061[a192_0xb2b7('0x27')][a192_0xb2b7('0x35')]||'';_0x20561d['profile'][a192_0xb2b7('0x36')]=_0x3b2061[a192_0xb2b7('0x27')][a192_0xb2b7('0x36')]||'';_0x20561d[a192_0xb2b7('0x2c')](_0x1084a2=>{if(_0x1084a2){if(_0x1084a2['code']===0x2af8){_0x3b2061[a192_0xb2b7('0x1a')](a192_0xb2b7('0x14'),{'msg':'The\x20email\x20address\x20you\x20have\x20entered\x20is\x20already\x20associated\x20with\x20an\x20account.'});return _0x428ddf[a192_0xb2b7('0x15')](a192_0xb2b7('0x31'));}return _0x3bac6a(_0x1084a2);}_0x3b2061['flash'](a192_0xb2b7('0x1d'),{'msg':a192_0xb2b7('0x37')});_0x428ddf['redirect']('/account');});});};exports[a192_0xb2b7('0x38')]=(_0x577555,_0x583dbb,_0x49f345)=>{_0x577555[a192_0xb2b7('0xd')](a192_0xb2b7('0x10'),'Password\x20must\x20be\x20at\x20least\x204\x20characters\x20long')[a192_0xb2b7('0x24')]({'min':0x4});_0x577555[a192_0xb2b7('0xd')](a192_0xb2b7('0x39'),a192_0xb2b7('0x25'))[a192_0xb2b7('0x26')](_0x577555['body'][a192_0xb2b7('0x10')]);const _0xabef3f=_0x577555[a192_0xb2b7('0x29')]();if(_0xabef3f){_0x577555[a192_0xb2b7('0x1a')](a192_0xb2b7('0x14'),_0xabef3f);return _0x583dbb['redirect'](a192_0xb2b7('0x31'));}User_1['default']['findById'](_0x577555[a192_0xb2b7('0x9')]['id'],(_0x3fca63,_0xd359c3)=>{if(_0x3fca63){return _0x49f345(_0x3fca63);}_0xd359c3[a192_0xb2b7('0x10')]=_0x577555[a192_0xb2b7('0x27')]['password'];_0xd359c3['save'](_0x3fca63=>{if(_0x3fca63){return _0x49f345(_0x3fca63);}_0x577555['flash'](a192_0xb2b7('0x1d'),{'msg':'Password\x20has\x20been\x20changed.'});_0x583dbb[a192_0xb2b7('0x15')](a192_0xb2b7('0x31'));});});};exports[a192_0xb2b7('0x3a')]=(_0x58eccd,_0x53f80a,_0x2901a6)=>{User_1['default'][a192_0xb2b7('0x3b')]({'_id':_0x58eccd[a192_0xb2b7('0x9')]['id']},_0x473b7a=>{if(_0x473b7a){return _0x2901a6(_0x473b7a);}_0x58eccd[a192_0xb2b7('0x20')]();_0x58eccd[a192_0xb2b7('0x1a')](a192_0xb2b7('0x3c'),{'msg':a192_0xb2b7('0x3d')});_0x53f80a['redirect']('/');});};exports[a192_0xb2b7('0x3e')]=(_0x299811,_0x51e08c,_0x1b836e)=>{const _0x2c02d6=_0x299811['params'][a192_0xb2b7('0x3f')];User_1[a192_0xb2b7('0x17')][a192_0xb2b7('0x40')](_0x299811[a192_0xb2b7('0x9')]['id'],(_0x8ef29c,_0x470a98)=>{if(_0x8ef29c){return _0x1b836e(_0x8ef29c);}_0x470a98[_0x2c02d6]=undefined;_0x470a98[a192_0xb2b7('0x41')]=_0x470a98['tokens'][a192_0xb2b7('0x42')](_0x4c648c=>_0x4c648c[a192_0xb2b7('0x43')]!==_0x2c02d6);_0x470a98[a192_0xb2b7('0x2c')](_0x8ef29c=>{if(_0x8ef29c){return _0x1b836e(_0x8ef29c);}_0x299811[a192_0xb2b7('0x1a')](a192_0xb2b7('0x3c'),{'msg':_0x2c02d6+a192_0xb2b7('0x44')});_0x51e08c['redirect']('/account');});});};exports[a192_0xb2b7('0x45')]=(_0xef5478,_0xe7ac4a,_0x1d138a)=>{if(_0xef5478[a192_0xb2b7('0x46')]()){return _0xe7ac4a['redirect']('/');}User_1[a192_0xb2b7('0x17')][a192_0xb2b7('0x47')]({'passwordResetToken':_0xef5478[a192_0xb2b7('0x48')][a192_0xb2b7('0x49')]})['where'](a192_0xb2b7('0x4a'))['gt'](Date[a192_0xb2b7('0x4b')]())[a192_0xb2b7('0x4c')]((_0x37f684,_0x46aef4)=>{if(_0x37f684){return _0x1d138a(_0x37f684);}if(!_0x46aef4){_0xef5478[a192_0xb2b7('0x1a')]('errors',{'msg':a192_0xb2b7('0x4d')});return _0xe7ac4a[a192_0xb2b7('0x15')](a192_0xb2b7('0x4e'));}_0xe7ac4a['render'](a192_0xb2b7('0x4f'),{'title':a192_0xb2b7('0x50')});});};exports[a192_0xb2b7('0x51')]=(_0x3c18a7,_0x53c2ac,_0x2a48ef)=>{_0x3c18a7[a192_0xb2b7('0xd')]('password',a192_0xb2b7('0x52'))[a192_0xb2b7('0x24')]({'min':0x4});_0x3c18a7[a192_0xb2b7('0xd')](a192_0xb2b7('0x53'),a192_0xb2b7('0x54'))[a192_0xb2b7('0x26')](_0x3c18a7[a192_0xb2b7('0x27')][a192_0xb2b7('0x10')]);const _0x46e2b7=_0x3c18a7[a192_0xb2b7('0x29')]();if(_0x46e2b7){_0x3c18a7[a192_0xb2b7('0x1a')]('errors',_0x46e2b7);return _0x53c2ac[a192_0xb2b7('0x15')]('back');}async_1[a192_0xb2b7('0x17')]['waterfall']([function resetPassword(_0x27b1f7){User_1[a192_0xb2b7('0x17')][a192_0xb2b7('0x47')]({'passwordResetToken':_0x3c18a7[a192_0xb2b7('0x48')][a192_0xb2b7('0x49')]})[a192_0xb2b7('0x55')]('passwordResetExpires')['gt'](Date[a192_0xb2b7('0x4b')]())[a192_0xb2b7('0x4c')]((_0x4ac844,_0x10a6a1)=>{if(_0x4ac844){return _0x2a48ef(_0x4ac844);}if(!_0x10a6a1){_0x3c18a7['flash']('errors',{'msg':'Password\x20reset\x20token\x20is\x20invalid\x20or\x20has\x20expired.'});return _0x53c2ac[a192_0xb2b7('0x15')](a192_0xb2b7('0x56'));}_0x10a6a1[a192_0xb2b7('0x10')]=_0x3c18a7[a192_0xb2b7('0x27')][a192_0xb2b7('0x10')];_0x10a6a1[a192_0xb2b7('0x57')]=undefined;_0x10a6a1['passwordResetExpires']=undefined;_0x10a6a1['save'](_0x4ac844=>{if(_0x4ac844){return _0x2a48ef(_0x4ac844);}_0x3c18a7[a192_0xb2b7('0x1c')](_0x10a6a1,_0x4ac844=>{_0x27b1f7(_0x4ac844,_0x10a6a1);});});});},function sendResetPasswordEmail(_0x543315,_0x2c75ea){const _0x14176c=nodemailer_1[a192_0xb2b7('0x17')][a192_0xb2b7('0x58')]({'service':a192_0xb2b7('0x59'),'auth':{'user':process[a192_0xb2b7('0x5a')][a192_0xb2b7('0x5b')],'pass':process['env'][a192_0xb2b7('0x5c')]}});const _0x2d123d={'to':_0x543315[a192_0xb2b7('0xe')],'from':a192_0xb2b7('0x5d'),'subject':a192_0xb2b7('0x5e'),'text':a192_0xb2b7('0x5f')+_0x543315[a192_0xb2b7('0xe')]+a192_0xb2b7('0x60')};_0x14176c[a192_0xb2b7('0x61')](_0x2d123d,_0x2d3f23=>{_0x3c18a7['flash'](a192_0xb2b7('0x1d'),{'msg':a192_0xb2b7('0x62')});_0x2c75ea(_0x2d3f23);});}],_0x3f02ff=>{if(_0x3f02ff){return _0x2a48ef(_0x3f02ff);}_0x53c2ac['redirect']('/');});};exports['getForgot']=(_0x4ae0d3,_0x4fcf77)=>{if(_0x4ae0d3[a192_0xb2b7('0x46')]()){return _0x4fcf77[a192_0xb2b7('0x15')]('/');}_0x4fcf77['render'](a192_0xb2b7('0x63'),{'title':a192_0xb2b7('0x64')});};exports[a192_0xb2b7('0x65')]=(_0x4cb004,_0x58a118,_0xddc989)=>{_0x4cb004['assert'](a192_0xb2b7('0xe'),a192_0xb2b7('0x30'))[a192_0xb2b7('0xf')]();_0x4cb004[a192_0xb2b7('0x28')](a192_0xb2b7('0xe'))[a192_0xb2b7('0x13')]({'gmail_remove_dots':![]});const _0x2e3014=_0x4cb004['validationErrors']();if(_0x2e3014){_0x4cb004['flash']('errors',_0x2e3014);return _0x58a118[a192_0xb2b7('0x15')](a192_0xb2b7('0x4e'));}async_1[a192_0xb2b7('0x17')][a192_0xb2b7('0x66')]([function createRandomToken(_0x78a13a){crypto_1[a192_0xb2b7('0x17')][a192_0xb2b7('0x67')](0x10,(_0x6c77a1,_0x594ded)=>{const _0x211cc6=_0x594ded['toString'](a192_0xb2b7('0x68'));_0x78a13a(_0x6c77a1,_0x211cc6);});},function setRandomToken(_0x3118da,_0x1f905f){User_1[a192_0xb2b7('0x17')][a192_0xb2b7('0x47')]({'email':_0x4cb004[a192_0xb2b7('0x27')][a192_0xb2b7('0xe')]},(_0x2fbd09,_0x24acac)=>{if(_0x2fbd09){return _0x1f905f(_0x2fbd09);}if(!_0x24acac){_0x4cb004[a192_0xb2b7('0x1a')](a192_0xb2b7('0x14'),{'msg':a192_0xb2b7('0x69')});return _0x58a118['redirect'](a192_0xb2b7('0x4e'));}_0x24acac[a192_0xb2b7('0x57')]=_0x3118da;_0x24acac[a192_0xb2b7('0x4a')]=Date[a192_0xb2b7('0x4b')]()+0x36ee80;_0x24acac[a192_0xb2b7('0x2c')](_0x2fbd09=>{_0x1f905f(_0x2fbd09,_0x3118da,_0x24acac);});});},function sendForgotPasswordEmail(_0x571008,_0x38d4f0,_0x532a3d){const _0x5cb077=nodemailer_1[a192_0xb2b7('0x17')]['createTransport']({'service':'SendGrid','auth':{'user':process[a192_0xb2b7('0x5a')][a192_0xb2b7('0x5b')],'pass':process['env'][a192_0xb2b7('0x5c')]}});const _0x3b774d={'to':_0x38d4f0[a192_0xb2b7('0xe')],'from':a192_0xb2b7('0x6a'),'subject':a192_0xb2b7('0x6b'),'text':a192_0xb2b7('0x6c')+_0x4cb004[a192_0xb2b7('0x6d')]['host']+a192_0xb2b7('0x6e')+_0x571008+a192_0xb2b7('0x6f')};_0x5cb077[a192_0xb2b7('0x61')](_0x3b774d,_0x128a22=>{_0x4cb004[a192_0xb2b7('0x1a')](a192_0xb2b7('0x3c'),{'msg':a192_0xb2b7('0x70')+_0x38d4f0['email']+'\x20with\x20further\x20instructions.'});_0x532a3d(_0x128a22);});}],_0x3fc4f7=>{if(_0x3fc4f7){return _0xddc989(_0x3fc4f7);}_0x58a118[a192_0xb2b7('0x15')]('/forgot');});};