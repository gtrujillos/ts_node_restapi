var a201_0xe34d=['getOauthUnlink','params','tokens','filter','kind','\x20account\x20has\x20been\x20unlinked.','getReset','findOne','token','where','passwordResetExpires','Password\x20reset\x20token\x20is\x20invalid\x20or\x20has\x20expired.','account/reset','Password\x20Reset','postReset','Password\x20must\x20be\x20at\x20least\x204\x20characters\x20long.','confirm','Passwords\x20must\x20match.','waterfall','exec','back','passwordResetToken','SENDGRID_USER','SENDGRID_PASSWORD','express-ts@starter.com','Hello,\x0a\x0aThis\x20is\x20a\x20confirmation\x20that\x20the\x20password\x20for\x20your\x20account\x20','sendMail','Success!\x20Your\x20password\x20has\x20been\x20changed.','getForgot','isAuthenticated','account/forgot','Forgot\x20Password','postForgot','randomBytes','toString','hex','now','createTransport','SendGrid','env','You\x20are\x20receiving\x20this\x20email\x20because\x20you\x20(or\x20someone\x20else)\x20have\x20requested\x20the\x20reset\x20of\x20the\x20password\x20for\x20your\x20account.\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Please\x20click\x20on\x20the\x20following\x20link,\x20or\x20paste\x20this\x20into\x20your\x20browser\x20to\x20complete\x20the\x20process:\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20http://','headers','host','/reset/','\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20If\x20you\x20did\x20not\x20request\x20this,\x20please\x20ignore\x20this\x20email\x20and\x20your\x20password\x20will\x20remain\x20unchanged.\x0a','An\x20e-mail\x20has\x20been\x20sent\x20to\x20','\x20with\x20further\x20instructions.','__importDefault','defineProperty','async','crypto','nodemailer','passport','express-validator','getLogin','user','redirect','render','account/login','Login','Email\x20is\x20not\x20valid','assert','password','Password\x20cannot\x20be\x20blank','notEmpty','sanitize','email','normalizeEmail','validationErrors','flash','/login','default','authenticate','local','errors','message','logIn','success','Success!\x20You\x20are\x20logged\x20in.','session','returnTo','logout','getSignup','Create\x20Account','postSignup','isEmail','Password\x20must\x20be\x20at\x20least\x204\x20characters\x20long','Passwords\x20do\x20not\x20match','equals','body','/signup','Account\x20with\x20that\x20email\x20address\x20already\x20exists.','save','getAccount','account/profile','Account\x20Management','Please\x20enter\x20a\x20valid\x20email\x20address.','/account','findById','profile','name','gender','location','website','code','Profile\x20information\x20has\x20been\x20updated.','len','confirmPassword','Password\x20has\x20been\x20changed.','postDeleteAccount','remove'];(function(_0xeebee8,_0x4a9148){var _0x1847c8=function(_0x7c43b9){while(--_0x7c43b9){_0xeebee8['push'](_0xeebee8['shift']());}};_0x1847c8(++_0x4a9148);}(a201_0xe34d,0x1eb));var a201_0x107f=function(_0x1c6688,_0x216765){_0x1c6688=_0x1c6688-0x0;var _0xd39db4=a201_0xe34d[_0x1c6688];return _0xd39db4;};'use strict';var __importDefault=this&&this[a201_0x107f('0x0')]||function(_0xa5befa){return _0xa5befa&&_0xa5befa['__esModule']?_0xa5befa:{'default':_0xa5befa};};Object[a201_0x107f('0x1')](exports,'__esModule',{'value':!![]});const async_1=__importDefault(require(a201_0x107f('0x2')));const crypto_1=__importDefault(require(a201_0x107f('0x3')));const nodemailer_1=__importDefault(require(a201_0x107f('0x4')));const passport_1=__importDefault(require(a201_0x107f('0x5')));const User_1=__importDefault(require('../models/User'));const request=require(a201_0x107f('0x6'));exports[a201_0x107f('0x7')]=(_0x326ed5,_0x74b4e5)=>{if(_0x326ed5[a201_0x107f('0x8')]){return _0x74b4e5[a201_0x107f('0x9')]('/');}_0x74b4e5[a201_0x107f('0xa')](a201_0x107f('0xb'),{'title':a201_0x107f('0xc')});};exports['postLogin']=(_0x3352ca,_0x54557f,_0x36f65a)=>{_0x3352ca['assert']('email',a201_0x107f('0xd'))['isEmail']();_0x3352ca[a201_0x107f('0xe')](a201_0x107f('0xf'),a201_0x107f('0x10'))[a201_0x107f('0x11')]();_0x3352ca[a201_0x107f('0x12')](a201_0x107f('0x13'))[a201_0x107f('0x14')]({'gmail_remove_dots':![]});const _0x14c195=_0x3352ca[a201_0x107f('0x15')]();if(_0x14c195){_0x3352ca[a201_0x107f('0x16')]('errors',_0x14c195);return _0x54557f[a201_0x107f('0x9')](a201_0x107f('0x17'));}passport_1[a201_0x107f('0x18')][a201_0x107f('0x19')](a201_0x107f('0x1a'),(_0x5bdc4e,_0x1e44cb,_0x5481cf)=>{if(_0x5bdc4e){return _0x36f65a(_0x5bdc4e);}if(!_0x1e44cb){_0x3352ca[a201_0x107f('0x16')](a201_0x107f('0x1b'),_0x5481cf[a201_0x107f('0x1c')]);return _0x54557f[a201_0x107f('0x9')]('/login');}_0x3352ca[a201_0x107f('0x1d')](_0x1e44cb,_0x5bdc4e=>{if(_0x5bdc4e){return _0x36f65a(_0x5bdc4e);}_0x3352ca[a201_0x107f('0x16')](a201_0x107f('0x1e'),{'msg':a201_0x107f('0x1f')});_0x54557f[a201_0x107f('0x9')](_0x3352ca[a201_0x107f('0x20')][a201_0x107f('0x21')]||'/');});})(_0x3352ca,_0x54557f,_0x36f65a);};exports[a201_0x107f('0x22')]=(_0x1901e6,_0xe19ffb)=>{_0x1901e6[a201_0x107f('0x22')]();_0xe19ffb[a201_0x107f('0x9')]('/');};exports[a201_0x107f('0x23')]=(_0x491c7c,_0x35cb14)=>{if(_0x491c7c[a201_0x107f('0x8')]){return _0x35cb14['redirect']('/');}_0x35cb14[a201_0x107f('0xa')]('account/signup',{'title':a201_0x107f('0x24')});};exports[a201_0x107f('0x25')]=(_0xa3c7bf,_0x4d29d2,_0x4600aa)=>{_0xa3c7bf[a201_0x107f('0xe')](a201_0x107f('0x13'),'Email\x20is\x20not\x20valid')[a201_0x107f('0x26')]();_0xa3c7bf[a201_0x107f('0xe')](a201_0x107f('0xf'),a201_0x107f('0x27'))['len']({'min':0x4});_0xa3c7bf['assert']('confirmPassword',a201_0x107f('0x28'))[a201_0x107f('0x29')](_0xa3c7bf[a201_0x107f('0x2a')][a201_0x107f('0xf')]);_0xa3c7bf[a201_0x107f('0x12')](a201_0x107f('0x13'))[a201_0x107f('0x14')]({'gmail_remove_dots':![]});const _0x2e95ac=_0xa3c7bf[a201_0x107f('0x15')]();if(_0x2e95ac){_0xa3c7bf[a201_0x107f('0x16')](a201_0x107f('0x1b'),_0x2e95ac);return _0x4d29d2[a201_0x107f('0x9')](a201_0x107f('0x2b'));}const _0x3f1b17=new User_1[(a201_0x107f('0x18'))]({'email':_0xa3c7bf[a201_0x107f('0x2a')][a201_0x107f('0x13')],'password':_0xa3c7bf[a201_0x107f('0x2a')][a201_0x107f('0xf')]});User_1['default']['findOne']({'email':_0xa3c7bf[a201_0x107f('0x2a')]['email']},(_0x2c5a59,_0x36559d)=>{if(_0x2c5a59){return _0x4600aa(_0x2c5a59);}if(_0x36559d){_0xa3c7bf['flash'](a201_0x107f('0x1b'),{'msg':a201_0x107f('0x2c')});return _0x4d29d2[a201_0x107f('0x9')](a201_0x107f('0x2b'));}_0x3f1b17[a201_0x107f('0x2d')](_0x2c5a59=>{if(_0x2c5a59){return _0x4600aa(_0x2c5a59);}_0xa3c7bf[a201_0x107f('0x1d')](_0x3f1b17,_0x2c5a59=>{if(_0x2c5a59){return _0x4600aa(_0x2c5a59);}_0x4d29d2[a201_0x107f('0x9')]('/');});});});};exports[a201_0x107f('0x2e')]=(_0x5727c2,_0x25d250)=>{_0x25d250[a201_0x107f('0xa')](a201_0x107f('0x2f'),{'title':a201_0x107f('0x30')});};exports['postUpdateProfile']=(_0x52e27a,_0x6d1312,_0x1412e7)=>{_0x52e27a[a201_0x107f('0xe')](a201_0x107f('0x13'),a201_0x107f('0x31'))[a201_0x107f('0x26')]();_0x52e27a[a201_0x107f('0x12')]('email')[a201_0x107f('0x14')]({'gmail_remove_dots':![]});const _0x2f94ea=_0x52e27a[a201_0x107f('0x15')]();if(_0x2f94ea){_0x52e27a[a201_0x107f('0x16')](a201_0x107f('0x1b'),_0x2f94ea);return _0x6d1312[a201_0x107f('0x9')](a201_0x107f('0x32'));}User_1[a201_0x107f('0x18')][a201_0x107f('0x33')](_0x52e27a['user']['id'],(_0x3a8b1b,_0x2e46c7)=>{if(_0x3a8b1b){return _0x1412e7(_0x3a8b1b);}_0x2e46c7[a201_0x107f('0x13')]=_0x52e27a[a201_0x107f('0x2a')][a201_0x107f('0x13')]||'';_0x2e46c7[a201_0x107f('0x34')][a201_0x107f('0x35')]=_0x52e27a[a201_0x107f('0x2a')][a201_0x107f('0x35')]||'';_0x2e46c7[a201_0x107f('0x34')][a201_0x107f('0x36')]=_0x52e27a[a201_0x107f('0x2a')][a201_0x107f('0x36')]||'';_0x2e46c7[a201_0x107f('0x34')][a201_0x107f('0x37')]=_0x52e27a['body'][a201_0x107f('0x37')]||'';_0x2e46c7['profile'][a201_0x107f('0x38')]=_0x52e27a[a201_0x107f('0x2a')][a201_0x107f('0x38')]||'';_0x2e46c7['save'](_0x3a8b1b=>{if(_0x3a8b1b){if(_0x3a8b1b[a201_0x107f('0x39')]===0x2af8){_0x52e27a[a201_0x107f('0x16')](a201_0x107f('0x1b'),{'msg':'The\x20email\x20address\x20you\x20have\x20entered\x20is\x20already\x20associated\x20with\x20an\x20account.'});return _0x6d1312[a201_0x107f('0x9')](a201_0x107f('0x32'));}return _0x1412e7(_0x3a8b1b);}_0x52e27a[a201_0x107f('0x16')](a201_0x107f('0x1e'),{'msg':a201_0x107f('0x3a')});_0x6d1312['redirect'](a201_0x107f('0x32'));});});};exports['postUpdatePassword']=(_0x4e452c,_0x39aee8,_0x4e9fae)=>{_0x4e452c['assert'](a201_0x107f('0xf'),a201_0x107f('0x27'))[a201_0x107f('0x3b')]({'min':0x4});_0x4e452c[a201_0x107f('0xe')](a201_0x107f('0x3c'),'Passwords\x20do\x20not\x20match')['equals'](_0x4e452c[a201_0x107f('0x2a')][a201_0x107f('0xf')]);const _0x27abcd=_0x4e452c[a201_0x107f('0x15')]();if(_0x27abcd){_0x4e452c['flash']('errors',_0x27abcd);return _0x39aee8['redirect']('/account');}User_1[a201_0x107f('0x18')][a201_0x107f('0x33')](_0x4e452c['user']['id'],(_0x1976ec,_0x9e0e8a)=>{if(_0x1976ec){return _0x4e9fae(_0x1976ec);}_0x9e0e8a['password']=_0x4e452c[a201_0x107f('0x2a')][a201_0x107f('0xf')];_0x9e0e8a[a201_0x107f('0x2d')](_0x1976ec=>{if(_0x1976ec){return _0x4e9fae(_0x1976ec);}_0x4e452c[a201_0x107f('0x16')](a201_0x107f('0x1e'),{'msg':a201_0x107f('0x3d')});_0x39aee8[a201_0x107f('0x9')](a201_0x107f('0x32'));});});};exports[a201_0x107f('0x3e')]=(_0x1ed6c9,_0x425b93,_0x43fa2c)=>{User_1[a201_0x107f('0x18')][a201_0x107f('0x3f')]({'_id':_0x1ed6c9[a201_0x107f('0x8')]['id']},_0x58a689=>{if(_0x58a689){return _0x43fa2c(_0x58a689);}_0x1ed6c9[a201_0x107f('0x22')]();_0x1ed6c9['flash']('info',{'msg':'Your\x20account\x20has\x20been\x20deleted.'});_0x425b93['redirect']('/');});};exports[a201_0x107f('0x40')]=(_0x494dbc,_0xb1d63e,_0x381efd)=>{const _0x4c1a90=_0x494dbc[a201_0x107f('0x41')]['provider'];User_1[a201_0x107f('0x18')]['findById'](_0x494dbc[a201_0x107f('0x8')]['id'],(_0x577782,_0x47fc54)=>{if(_0x577782){return _0x381efd(_0x577782);}_0x47fc54[_0x4c1a90]=undefined;_0x47fc54[a201_0x107f('0x42')]=_0x47fc54[a201_0x107f('0x42')][a201_0x107f('0x43')](_0x4c92e5=>_0x4c92e5[a201_0x107f('0x44')]!==_0x4c1a90);_0x47fc54[a201_0x107f('0x2d')](_0x577782=>{if(_0x577782){return _0x381efd(_0x577782);}_0x494dbc[a201_0x107f('0x16')]('info',{'msg':_0x4c1a90+a201_0x107f('0x45')});_0xb1d63e['redirect']('/account');});});};exports[a201_0x107f('0x46')]=(_0x1be90a,_0x284604,_0x2d7585)=>{if(_0x1be90a['isAuthenticated']()){return _0x284604['redirect']('/');}User_1['default'][a201_0x107f('0x47')]({'passwordResetToken':_0x1be90a['params'][a201_0x107f('0x48')]})[a201_0x107f('0x49')](a201_0x107f('0x4a'))['gt'](Date['now']())['exec']((_0x530c4c,_0x3ee801)=>{if(_0x530c4c){return _0x2d7585(_0x530c4c);}if(!_0x3ee801){_0x1be90a[a201_0x107f('0x16')](a201_0x107f('0x1b'),{'msg':a201_0x107f('0x4b')});return _0x284604[a201_0x107f('0x9')]('/forgot');}_0x284604['render'](a201_0x107f('0x4c'),{'title':a201_0x107f('0x4d')});});};exports[a201_0x107f('0x4e')]=(_0x326ffa,_0x4dedc5,_0x28b42c)=>{_0x326ffa[a201_0x107f('0xe')](a201_0x107f('0xf'),a201_0x107f('0x4f'))[a201_0x107f('0x3b')]({'min':0x4});_0x326ffa['assert'](a201_0x107f('0x50'),a201_0x107f('0x51'))['equals'](_0x326ffa[a201_0x107f('0x2a')][a201_0x107f('0xf')]);const _0x2b1c0a=_0x326ffa[a201_0x107f('0x15')]();if(_0x2b1c0a){_0x326ffa[a201_0x107f('0x16')]('errors',_0x2b1c0a);return _0x4dedc5[a201_0x107f('0x9')]('back');}async_1[a201_0x107f('0x18')][a201_0x107f('0x52')]([function resetPassword(_0x43d90f){User_1[a201_0x107f('0x18')]['findOne']({'passwordResetToken':_0x326ffa['params'][a201_0x107f('0x48')]})[a201_0x107f('0x49')](a201_0x107f('0x4a'))['gt'](Date['now']())[a201_0x107f('0x53')]((_0x31ddcf,_0x245481)=>{if(_0x31ddcf){return _0x28b42c(_0x31ddcf);}if(!_0x245481){_0x326ffa['flash'](a201_0x107f('0x1b'),{'msg':a201_0x107f('0x4b')});return _0x4dedc5[a201_0x107f('0x9')](a201_0x107f('0x54'));}_0x245481[a201_0x107f('0xf')]=_0x326ffa[a201_0x107f('0x2a')][a201_0x107f('0xf')];_0x245481[a201_0x107f('0x55')]=undefined;_0x245481[a201_0x107f('0x4a')]=undefined;_0x245481[a201_0x107f('0x2d')](_0x31ddcf=>{if(_0x31ddcf){return _0x28b42c(_0x31ddcf);}_0x326ffa[a201_0x107f('0x1d')](_0x245481,_0x31ddcf=>{_0x43d90f(_0x31ddcf,_0x245481);});});});},function sendResetPasswordEmail(_0x229eac,_0x32a57e){const _0x3088f4=nodemailer_1[a201_0x107f('0x18')]['createTransport']({'service':'SendGrid','auth':{'user':process['env'][a201_0x107f('0x56')],'pass':process['env'][a201_0x107f('0x57')]}});const _0x3fa941={'to':_0x229eac[a201_0x107f('0x13')],'from':a201_0x107f('0x58'),'subject':'Your\x20password\x20has\x20been\x20changed','text':a201_0x107f('0x59')+_0x229eac[a201_0x107f('0x13')]+'\x20has\x20just\x20been\x20changed.\x0a'};_0x3088f4[a201_0x107f('0x5a')](_0x3fa941,_0x4988b3=>{_0x326ffa[a201_0x107f('0x16')](a201_0x107f('0x1e'),{'msg':a201_0x107f('0x5b')});_0x32a57e(_0x4988b3);});}],_0xddc136=>{if(_0xddc136){return _0x28b42c(_0xddc136);}_0x4dedc5[a201_0x107f('0x9')]('/');});};exports[a201_0x107f('0x5c')]=(_0xed7011,_0x395e85)=>{if(_0xed7011[a201_0x107f('0x5d')]()){return _0x395e85[a201_0x107f('0x9')]('/');}_0x395e85[a201_0x107f('0xa')](a201_0x107f('0x5e'),{'title':a201_0x107f('0x5f')});};exports[a201_0x107f('0x60')]=(_0x3b9a1c,_0x53836b,_0x1fc5a6)=>{_0x3b9a1c[a201_0x107f('0xe')](a201_0x107f('0x13'),a201_0x107f('0x31'))[a201_0x107f('0x26')]();_0x3b9a1c['sanitize'](a201_0x107f('0x13'))[a201_0x107f('0x14')]({'gmail_remove_dots':![]});const _0x1e9a67=_0x3b9a1c[a201_0x107f('0x15')]();if(_0x1e9a67){_0x3b9a1c[a201_0x107f('0x16')]('errors',_0x1e9a67);return _0x53836b[a201_0x107f('0x9')]('/forgot');}async_1[a201_0x107f('0x18')][a201_0x107f('0x52')]([function createRandomToken(_0x497b27){crypto_1[a201_0x107f('0x18')][a201_0x107f('0x61')](0x10,(_0x50d35e,_0x302d9f)=>{const _0x1967f5=_0x302d9f[a201_0x107f('0x62')](a201_0x107f('0x63'));_0x497b27(_0x50d35e,_0x1967f5);});},function setRandomToken(_0x11c101,_0x3f7467){User_1[a201_0x107f('0x18')][a201_0x107f('0x47')]({'email':_0x3b9a1c['body'][a201_0x107f('0x13')]},(_0x2d4be4,_0x1f1ee6)=>{if(_0x2d4be4){return _0x3f7467(_0x2d4be4);}if(!_0x1f1ee6){_0x3b9a1c['flash'](a201_0x107f('0x1b'),{'msg':'Account\x20with\x20that\x20email\x20address\x20does\x20not\x20exist.'});return _0x53836b[a201_0x107f('0x9')]('/forgot');}_0x1f1ee6[a201_0x107f('0x55')]=_0x11c101;_0x1f1ee6[a201_0x107f('0x4a')]=Date[a201_0x107f('0x64')]()+0x36ee80;_0x1f1ee6[a201_0x107f('0x2d')](_0x2d4be4=>{_0x3f7467(_0x2d4be4,_0x11c101,_0x1f1ee6);});});},function sendForgotPasswordEmail(_0x5247bf,_0x48143d,_0x5208ce){const _0x6037bc=nodemailer_1[a201_0x107f('0x18')][a201_0x107f('0x65')]({'service':a201_0x107f('0x66'),'auth':{'user':process[a201_0x107f('0x67')][a201_0x107f('0x56')],'pass':process[a201_0x107f('0x67')][a201_0x107f('0x57')]}});const _0x4f27c3={'to':_0x48143d[a201_0x107f('0x13')],'from':'hackathon@starter.com','subject':'Reset\x20your\x20password\x20on\x20Hackathon\x20Starter','text':a201_0x107f('0x68')+_0x3b9a1c[a201_0x107f('0x69')][a201_0x107f('0x6a')]+a201_0x107f('0x6b')+_0x5247bf+a201_0x107f('0x6c')};_0x6037bc[a201_0x107f('0x5a')](_0x4f27c3,_0x3539e5=>{_0x3b9a1c[a201_0x107f('0x16')]('info',{'msg':a201_0x107f('0x6d')+_0x48143d[a201_0x107f('0x13')]+a201_0x107f('0x6e')});_0x5208ce(_0x3539e5);});}],_0x5f3446=>{if(_0x5f3446){return _0x1fc5a6(_0x5f3446);}_0x53836b[a201_0x107f('0x9')]('/forgot');});};