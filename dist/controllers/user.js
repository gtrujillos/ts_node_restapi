var a201_0x564e=['Passwords\x20do\x20not\x20match','equals','body','errors','/signup','findOne','Account\x20with\x20that\x20email\x20address\x20already\x20exists.','save','getAccount','account/profile','Account\x20Management','/account','findById','name','gender','profile','location','The\x20email\x20address\x20you\x20have\x20entered\x20is\x20already\x20associated\x20with\x20an\x20account.','Password\x20has\x20been\x20changed.','postDeleteAccount','remove','getOauthUnlink','provider','tokens','filter','info','\x20account\x20has\x20been\x20unlinked.','isAuthenticated','params','where','now','exec','Password\x20reset\x20token\x20is\x20invalid\x20or\x20has\x20expired.','/forgot','account/reset','Password\x20Reset','postReset','Password\x20must\x20be\x20at\x20least\x204\x20characters\x20long.','Passwords\x20must\x20match.','back','waterfall','token','passwordResetExpires','passwordResetToken','SendGrid','env','SENDGRID_PASSWORD','express-ts@starter.com','Hello,\x0a\x0aThis\x20is\x20a\x20confirmation\x20that\x20the\x20password\x20for\x20your\x20account\x20','\x20has\x20just\x20been\x20changed.\x0a','sendMail','Success!\x20Your\x20password\x20has\x20been\x20changed.','getForgot','account/forgot','Forgot\x20Password','postForgot','Please\x20enter\x20a\x20valid\x20email\x20address.','randomBytes','toString','hex','Account\x20with\x20that\x20email\x20address\x20does\x20not\x20exist.','createTransport','SENDGRID_USER','hackathon@starter.com','You\x20are\x20receiving\x20this\x20email\x20because\x20you\x20(or\x20someone\x20else)\x20have\x20requested\x20the\x20reset\x20of\x20the\x20password\x20for\x20your\x20account.\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Please\x20click\x20on\x20the\x20following\x20link,\x20or\x20paste\x20this\x20into\x20your\x20browser\x20to\x20complete\x20the\x20process:\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20http://','host','/reset/','An\x20e-mail\x20has\x20been\x20sent\x20to\x20','\x20with\x20further\x20instructions.','defineProperty','__esModule','crypto','passport','../models/User','express-validator','getLogin','redirect','render','account/login','Login','assert','email','Email\x20is\x20not\x20valid','isEmail','password','Password\x20cannot\x20be\x20blank','notEmpty','sanitize','normalizeEmail','validationErrors','/login','default','authenticate','local','flash','message','logIn','success','Success!\x20You\x20are\x20logged\x20in.','session','logout','getSignup','user','account/signup','Create\x20Account','postSignup','Password\x20must\x20be\x20at\x20least\x204\x20characters\x20long','len','confirmPassword'];(function(_0x5646d2,_0x57e78c){var _0x1e98e3=function(_0x5adb7d){while(--_0x5adb7d){_0x5646d2['push'](_0x5646d2['shift']());}};_0x1e98e3(++_0x57e78c);}(a201_0x564e,0xb2));var a201_0x50af=function(_0x801aa0,_0xc708fd){_0x801aa0=_0x801aa0-0x0;var _0x13f487=a201_0x564e[_0x801aa0];return _0x13f487;};'use strict';var __importDefault=this&&this['__importDefault']||function(_0x574a67){return _0x574a67&&_0x574a67['__esModule']?_0x574a67:{'default':_0x574a67};};Object[a201_0x50af('0x0')](exports,a201_0x50af('0x1'),{'value':!![]});const async_1=__importDefault(require('async'));const crypto_1=__importDefault(require(a201_0x50af('0x2')));const nodemailer_1=__importDefault(require('nodemailer'));const passport_1=__importDefault(require(a201_0x50af('0x3')));const User_1=__importDefault(require(a201_0x50af('0x4')));const request=require(a201_0x50af('0x5'));exports[a201_0x50af('0x6')]=(_0x2a0734,_0x2f9bb9)=>{if(_0x2a0734['user']){return _0x2f9bb9[a201_0x50af('0x7')]('/');}_0x2f9bb9[a201_0x50af('0x8')](a201_0x50af('0x9'),{'title':a201_0x50af('0xa')});};exports['postLogin']=(_0x11fa00,_0x3ce84f,_0x167186)=>{_0x11fa00[a201_0x50af('0xb')](a201_0x50af('0xc'),a201_0x50af('0xd'))[a201_0x50af('0xe')]();_0x11fa00[a201_0x50af('0xb')](a201_0x50af('0xf'),a201_0x50af('0x10'))[a201_0x50af('0x11')]();_0x11fa00[a201_0x50af('0x12')](a201_0x50af('0xc'))[a201_0x50af('0x13')]({'gmail_remove_dots':![]});const _0x52d2ad=_0x11fa00[a201_0x50af('0x14')]();if(_0x52d2ad){_0x11fa00['flash']('errors',_0x52d2ad);return _0x3ce84f[a201_0x50af('0x7')](a201_0x50af('0x15'));}passport_1[a201_0x50af('0x16')][a201_0x50af('0x17')](a201_0x50af('0x18'),(_0x32fab4,_0x50004a,_0x332cc8)=>{if(_0x32fab4){return _0x167186(_0x32fab4);}if(!_0x50004a){_0x11fa00[a201_0x50af('0x19')]('errors',_0x332cc8[a201_0x50af('0x1a')]);return _0x3ce84f[a201_0x50af('0x7')](a201_0x50af('0x15'));}_0x11fa00[a201_0x50af('0x1b')](_0x50004a,_0x32fab4=>{if(_0x32fab4){return _0x167186(_0x32fab4);}_0x11fa00[a201_0x50af('0x19')](a201_0x50af('0x1c'),{'msg':a201_0x50af('0x1d')});_0x3ce84f[a201_0x50af('0x7')](_0x11fa00[a201_0x50af('0x1e')]['returnTo']||'/');});})(_0x11fa00,_0x3ce84f,_0x167186);};exports['logout']=(_0x59d82e,_0x23cced)=>{_0x59d82e[a201_0x50af('0x1f')]();_0x23cced[a201_0x50af('0x7')]('/');};exports[a201_0x50af('0x20')]=(_0x55e924,_0x242ad2)=>{if(_0x55e924[a201_0x50af('0x21')]){return _0x242ad2['redirect']('/');}_0x242ad2['render'](a201_0x50af('0x22'),{'title':a201_0x50af('0x23')});};exports[a201_0x50af('0x24')]=(_0x305ed0,_0x2fe9f1,_0x3bf822)=>{_0x305ed0[a201_0x50af('0xb')](a201_0x50af('0xc'),a201_0x50af('0xd'))[a201_0x50af('0xe')]();_0x305ed0[a201_0x50af('0xb')](a201_0x50af('0xf'),a201_0x50af('0x25'))[a201_0x50af('0x26')]({'min':0x4});_0x305ed0[a201_0x50af('0xb')](a201_0x50af('0x27'),a201_0x50af('0x28'))[a201_0x50af('0x29')](_0x305ed0[a201_0x50af('0x2a')][a201_0x50af('0xf')]);_0x305ed0[a201_0x50af('0x12')](a201_0x50af('0xc'))['normalizeEmail']({'gmail_remove_dots':![]});const _0x557785=_0x305ed0['validationErrors']();if(_0x557785){_0x305ed0[a201_0x50af('0x19')](a201_0x50af('0x2b'),_0x557785);return _0x2fe9f1['redirect'](a201_0x50af('0x2c'));}const _0x1744a3=new User_1['default']({'email':_0x305ed0[a201_0x50af('0x2a')][a201_0x50af('0xc')],'password':_0x305ed0[a201_0x50af('0x2a')]['password']});User_1['default'][a201_0x50af('0x2d')]({'email':_0x305ed0[a201_0x50af('0x2a')]['email']},(_0x4f384e,_0x177978)=>{if(_0x4f384e){return _0x3bf822(_0x4f384e);}if(_0x177978){_0x305ed0[a201_0x50af('0x19')]('errors',{'msg':a201_0x50af('0x2e')});return _0x2fe9f1[a201_0x50af('0x7')](a201_0x50af('0x2c'));}_0x1744a3[a201_0x50af('0x2f')](_0x4f384e=>{if(_0x4f384e){return _0x3bf822(_0x4f384e);}_0x305ed0[a201_0x50af('0x1b')](_0x1744a3,_0x4f384e=>{if(_0x4f384e){return _0x3bf822(_0x4f384e);}_0x2fe9f1[a201_0x50af('0x7')]('/');});});});};exports[a201_0x50af('0x30')]=(_0x3a49a5,_0x4196e5)=>{_0x4196e5['render'](a201_0x50af('0x31'),{'title':a201_0x50af('0x32')});};exports['postUpdateProfile']=(_0x2bbd8c,_0x2a92e0,_0x2a6eae)=>{_0x2bbd8c[a201_0x50af('0xb')](a201_0x50af('0xc'),'Please\x20enter\x20a\x20valid\x20email\x20address.')['isEmail']();_0x2bbd8c[a201_0x50af('0x12')]('email')[a201_0x50af('0x13')]({'gmail_remove_dots':![]});const _0x40d31a=_0x2bbd8c[a201_0x50af('0x14')]();if(_0x40d31a){_0x2bbd8c[a201_0x50af('0x19')](a201_0x50af('0x2b'),_0x40d31a);return _0x2a92e0[a201_0x50af('0x7')](a201_0x50af('0x33'));}User_1[a201_0x50af('0x16')][a201_0x50af('0x34')](_0x2bbd8c[a201_0x50af('0x21')]['id'],(_0x22ed0a,_0x686b5e)=>{if(_0x22ed0a){return _0x2a6eae(_0x22ed0a);}_0x686b5e[a201_0x50af('0xc')]=_0x2bbd8c[a201_0x50af('0x2a')][a201_0x50af('0xc')]||'';_0x686b5e['profile']['name']=_0x2bbd8c[a201_0x50af('0x2a')][a201_0x50af('0x35')]||'';_0x686b5e['profile']['gender']=_0x2bbd8c[a201_0x50af('0x2a')][a201_0x50af('0x36')]||'';_0x686b5e[a201_0x50af('0x37')][a201_0x50af('0x38')]=_0x2bbd8c['body'][a201_0x50af('0x38')]||'';_0x686b5e[a201_0x50af('0x37')]['website']=_0x2bbd8c[a201_0x50af('0x2a')]['website']||'';_0x686b5e[a201_0x50af('0x2f')](_0x22ed0a=>{if(_0x22ed0a){if(_0x22ed0a['code']===0x2af8){_0x2bbd8c[a201_0x50af('0x19')](a201_0x50af('0x2b'),{'msg':a201_0x50af('0x39')});return _0x2a92e0[a201_0x50af('0x7')](a201_0x50af('0x33'));}return _0x2a6eae(_0x22ed0a);}_0x2bbd8c[a201_0x50af('0x19')]('success',{'msg':'Profile\x20information\x20has\x20been\x20updated.'});_0x2a92e0[a201_0x50af('0x7')]('/account');});});};exports['postUpdatePassword']=(_0x429d82,_0x2a74f5,_0x39bbb8)=>{_0x429d82[a201_0x50af('0xb')](a201_0x50af('0xf'),a201_0x50af('0x25'))[a201_0x50af('0x26')]({'min':0x4});_0x429d82[a201_0x50af('0xb')](a201_0x50af('0x27'),a201_0x50af('0x28'))[a201_0x50af('0x29')](_0x429d82['body'][a201_0x50af('0xf')]);const _0x2a2462=_0x429d82['validationErrors']();if(_0x2a2462){_0x429d82[a201_0x50af('0x19')](a201_0x50af('0x2b'),_0x2a2462);return _0x2a74f5[a201_0x50af('0x7')](a201_0x50af('0x33'));}User_1[a201_0x50af('0x16')]['findById'](_0x429d82[a201_0x50af('0x21')]['id'],(_0x36470a,_0x37f3da)=>{if(_0x36470a){return _0x39bbb8(_0x36470a);}_0x37f3da['password']=_0x429d82[a201_0x50af('0x2a')][a201_0x50af('0xf')];_0x37f3da[a201_0x50af('0x2f')](_0x36470a=>{if(_0x36470a){return _0x39bbb8(_0x36470a);}_0x429d82['flash'](a201_0x50af('0x1c'),{'msg':a201_0x50af('0x3a')});_0x2a74f5[a201_0x50af('0x7')](a201_0x50af('0x33'));});});};exports[a201_0x50af('0x3b')]=(_0x33e147,_0x41546b,_0x26e478)=>{User_1[a201_0x50af('0x16')][a201_0x50af('0x3c')]({'_id':_0x33e147['user']['id']},_0x1f8246=>{if(_0x1f8246){return _0x26e478(_0x1f8246);}_0x33e147[a201_0x50af('0x1f')]();_0x33e147[a201_0x50af('0x19')]('info',{'msg':'Your\x20account\x20has\x20been\x20deleted.'});_0x41546b[a201_0x50af('0x7')]('/');});};exports[a201_0x50af('0x3d')]=(_0x3ac721,_0x47db65,_0x28253b)=>{const _0x5b085c=_0x3ac721['params'][a201_0x50af('0x3e')];User_1['default'][a201_0x50af('0x34')](_0x3ac721['user']['id'],(_0x3bd269,_0x3146b7)=>{if(_0x3bd269){return _0x28253b(_0x3bd269);}_0x3146b7[_0x5b085c]=undefined;_0x3146b7[a201_0x50af('0x3f')]=_0x3146b7[a201_0x50af('0x3f')][a201_0x50af('0x40')](_0x51849f=>_0x51849f['kind']!==_0x5b085c);_0x3146b7[a201_0x50af('0x2f')](_0x3bd269=>{if(_0x3bd269){return _0x28253b(_0x3bd269);}_0x3ac721[a201_0x50af('0x19')](a201_0x50af('0x41'),{'msg':_0x5b085c+a201_0x50af('0x42')});_0x47db65[a201_0x50af('0x7')](a201_0x50af('0x33'));});});};exports['getReset']=(_0x1b1c1b,_0x67a9a3,_0x3a7cc1)=>{if(_0x1b1c1b[a201_0x50af('0x43')]()){return _0x67a9a3[a201_0x50af('0x7')]('/');}User_1[a201_0x50af('0x16')][a201_0x50af('0x2d')]({'passwordResetToken':_0x1b1c1b[a201_0x50af('0x44')]['token']})[a201_0x50af('0x45')]('passwordResetExpires')['gt'](Date[a201_0x50af('0x46')]())[a201_0x50af('0x47')]((_0x52cd90,_0x264ed1)=>{if(_0x52cd90){return _0x3a7cc1(_0x52cd90);}if(!_0x264ed1){_0x1b1c1b[a201_0x50af('0x19')](a201_0x50af('0x2b'),{'msg':a201_0x50af('0x48')});return _0x67a9a3[a201_0x50af('0x7')](a201_0x50af('0x49'));}_0x67a9a3['render'](a201_0x50af('0x4a'),{'title':a201_0x50af('0x4b')});});};exports[a201_0x50af('0x4c')]=(_0x5d8127,_0x5a55ff,_0x445019)=>{_0x5d8127[a201_0x50af('0xb')](a201_0x50af('0xf'),a201_0x50af('0x4d'))[a201_0x50af('0x26')]({'min':0x4});_0x5d8127['assert']('confirm',a201_0x50af('0x4e'))[a201_0x50af('0x29')](_0x5d8127[a201_0x50af('0x2a')][a201_0x50af('0xf')]);const _0x379bdf=_0x5d8127[a201_0x50af('0x14')]();if(_0x379bdf){_0x5d8127[a201_0x50af('0x19')](a201_0x50af('0x2b'),_0x379bdf);return _0x5a55ff[a201_0x50af('0x7')](a201_0x50af('0x4f'));}async_1['default'][a201_0x50af('0x50')]([function resetPassword(_0x2829b1){User_1[a201_0x50af('0x16')]['findOne']({'passwordResetToken':_0x5d8127[a201_0x50af('0x44')][a201_0x50af('0x51')]})['where'](a201_0x50af('0x52'))['gt'](Date[a201_0x50af('0x46')]())[a201_0x50af('0x47')]((_0x43b2b3,_0x3a9b1d)=>{if(_0x43b2b3){return _0x445019(_0x43b2b3);}if(!_0x3a9b1d){_0x5d8127['flash'](a201_0x50af('0x2b'),{'msg':a201_0x50af('0x48')});return _0x5a55ff[a201_0x50af('0x7')]('back');}_0x3a9b1d['password']=_0x5d8127[a201_0x50af('0x2a')][a201_0x50af('0xf')];_0x3a9b1d[a201_0x50af('0x53')]=undefined;_0x3a9b1d[a201_0x50af('0x52')]=undefined;_0x3a9b1d['save'](_0x43b2b3=>{if(_0x43b2b3){return _0x445019(_0x43b2b3);}_0x5d8127[a201_0x50af('0x1b')](_0x3a9b1d,_0x43b2b3=>{_0x2829b1(_0x43b2b3,_0x3a9b1d);});});});},function sendResetPasswordEmail(_0x1f78a2,_0x495229){const _0x15823c=nodemailer_1[a201_0x50af('0x16')]['createTransport']({'service':a201_0x50af('0x54'),'auth':{'user':process[a201_0x50af('0x55')]['SENDGRID_USER'],'pass':process[a201_0x50af('0x55')][a201_0x50af('0x56')]}});const _0xd4c456={'to':_0x1f78a2[a201_0x50af('0xc')],'from':a201_0x50af('0x57'),'subject':'Your\x20password\x20has\x20been\x20changed','text':a201_0x50af('0x58')+_0x1f78a2[a201_0x50af('0xc')]+a201_0x50af('0x59')};_0x15823c[a201_0x50af('0x5a')](_0xd4c456,_0x574d47=>{_0x5d8127[a201_0x50af('0x19')]('success',{'msg':a201_0x50af('0x5b')});_0x495229(_0x574d47);});}],_0x3ccb6d=>{if(_0x3ccb6d){return _0x445019(_0x3ccb6d);}_0x5a55ff[a201_0x50af('0x7')]('/');});};exports[a201_0x50af('0x5c')]=(_0x101fb2,_0x53d384)=>{if(_0x101fb2[a201_0x50af('0x43')]()){return _0x53d384['redirect']('/');}_0x53d384[a201_0x50af('0x8')](a201_0x50af('0x5d'),{'title':a201_0x50af('0x5e')});};exports[a201_0x50af('0x5f')]=(_0x4a2819,_0x402453,_0x861da5)=>{_0x4a2819[a201_0x50af('0xb')](a201_0x50af('0xc'),a201_0x50af('0x60'))[a201_0x50af('0xe')]();_0x4a2819[a201_0x50af('0x12')](a201_0x50af('0xc'))[a201_0x50af('0x13')]({'gmail_remove_dots':![]});const _0x549eca=_0x4a2819[a201_0x50af('0x14')]();if(_0x549eca){_0x4a2819[a201_0x50af('0x19')](a201_0x50af('0x2b'),_0x549eca);return _0x402453[a201_0x50af('0x7')](a201_0x50af('0x49'));}async_1[a201_0x50af('0x16')][a201_0x50af('0x50')]([function createRandomToken(_0x2a56ee){crypto_1[a201_0x50af('0x16')][a201_0x50af('0x61')](0x10,(_0x4b5bd9,_0x352e6f)=>{const _0x1c8410=_0x352e6f[a201_0x50af('0x62')](a201_0x50af('0x63'));_0x2a56ee(_0x4b5bd9,_0x1c8410);});},function setRandomToken(_0x56bf0e,_0x10dc92){User_1[a201_0x50af('0x16')][a201_0x50af('0x2d')]({'email':_0x4a2819[a201_0x50af('0x2a')][a201_0x50af('0xc')]},(_0x375b1a,_0x4b1a7e)=>{if(_0x375b1a){return _0x10dc92(_0x375b1a);}if(!_0x4b1a7e){_0x4a2819[a201_0x50af('0x19')](a201_0x50af('0x2b'),{'msg':a201_0x50af('0x64')});return _0x402453[a201_0x50af('0x7')](a201_0x50af('0x49'));}_0x4b1a7e[a201_0x50af('0x53')]=_0x56bf0e;_0x4b1a7e[a201_0x50af('0x52')]=Date['now']()+0x36ee80;_0x4b1a7e[a201_0x50af('0x2f')](_0x375b1a=>{_0x10dc92(_0x375b1a,_0x56bf0e,_0x4b1a7e);});});},function sendForgotPasswordEmail(_0x17f945,_0x2a81a1,_0x21221c){const _0x26eb11=nodemailer_1[a201_0x50af('0x16')][a201_0x50af('0x65')]({'service':a201_0x50af('0x54'),'auth':{'user':process['env'][a201_0x50af('0x66')],'pass':process[a201_0x50af('0x55')][a201_0x50af('0x56')]}});const _0x4776fb={'to':_0x2a81a1[a201_0x50af('0xc')],'from':a201_0x50af('0x67'),'subject':'Reset\x20your\x20password\x20on\x20Hackathon\x20Starter','text':a201_0x50af('0x68')+_0x4a2819['headers'][a201_0x50af('0x69')]+a201_0x50af('0x6a')+_0x17f945+'\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20If\x20you\x20did\x20not\x20request\x20this,\x20please\x20ignore\x20this\x20email\x20and\x20your\x20password\x20will\x20remain\x20unchanged.\x0a'};_0x26eb11[a201_0x50af('0x5a')](_0x4776fb,_0x1b410c=>{_0x4a2819[a201_0x50af('0x19')](a201_0x50af('0x41'),{'msg':a201_0x50af('0x6b')+_0x2a81a1[a201_0x50af('0xc')]+a201_0x50af('0x6c')});_0x21221c(_0x1b410c);});}],_0x5af944=>{if(_0x5af944){return _0x861da5(_0x5af944);}_0x402453[a201_0x50af('0x7')](a201_0x50af('0x49'));});};