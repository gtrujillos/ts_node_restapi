var a201_0x4875=['getSignup','account/signup','Password\x20must\x20be\x20at\x20least\x204\x20characters\x20long','len','confirmPassword','Passwords\x20do\x20not\x20match','body','/signup','default','findOne','Account\x20with\x20that\x20email\x20address\x20already\x20exists.','save','getAccount','Account\x20Management','sanitize','/account','findById','name','profile','gender','website','code','postUpdatePassword','Password\x20has\x20been\x20changed.','postDeleteAccount','remove','logout','Your\x20account\x20has\x20been\x20deleted.','getOauthUnlink','provider','tokens','filter','kind','info','getReset','isAuthenticated','params','token','where','passwordResetExpires','now','exec','/forgot','account/reset','Password\x20Reset','postReset','Password\x20must\x20be\x20at\x20least\x204\x20characters\x20long.','equals','back','waterfall','Password\x20reset\x20token\x20is\x20invalid\x20or\x20has\x20expired.','passwordResetToken','createTransport','SendGrid','SENDGRID_USER','env','SENDGRID_PASSWORD','express-ts@starter.com','Your\x20password\x20has\x20been\x20changed','\x20has\x20just\x20been\x20changed.\x0a','sendMail','Success!\x20Your\x20password\x20has\x20been\x20changed.','getForgot','account/forgot','Forgot\x20Password','Please\x20enter\x20a\x20valid\x20email\x20address.','randomBytes','toString','hex','Account\x20with\x20that\x20email\x20address\x20does\x20not\x20exist.','hackathon@starter.com','You\x20are\x20receiving\x20this\x20email\x20because\x20you\x20(or\x20someone\x20else)\x20have\x20requested\x20the\x20reset\x20of\x20the\x20password\x20for\x20your\x20account.\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Please\x20click\x20on\x20the\x20following\x20link,\x20or\x20paste\x20this\x20into\x20your\x20browser\x20to\x20complete\x20the\x20process:\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20http://','headers','/reset/','An\x20e-mail\x20has\x20been\x20sent\x20to\x20','__importDefault','defineProperty','__esModule','async','crypto','nodemailer','passport','../models/User','express-validator','getLogin','user','redirect','render','account/login','Login','postLogin','assert','email','Email\x20is\x20not\x20valid','isEmail','password','Password\x20cannot\x20be\x20blank','notEmpty','normalizeEmail','validationErrors','flash','errors','/login','authenticate','local','message','logIn','success','Success!\x20You\x20are\x20logged\x20in.','session','returnTo'];(function(_0xa3c840,_0x437840){var _0x347c3d=function(_0x18c7b8){while(--_0x18c7b8){_0xa3c840['push'](_0xa3c840['shift']());}};_0x347c3d(++_0x437840);}(a201_0x4875,0x198));var a201_0xabd2=function(_0xa70533,_0x37c377){_0xa70533=_0xa70533-0x0;var _0x3f5ee6=a201_0x4875[_0xa70533];return _0x3f5ee6;};'use strict';var __importDefault=this&&this[a201_0xabd2('0x0')]||function(_0x11c0af){return _0x11c0af&&_0x11c0af['__esModule']?_0x11c0af:{'default':_0x11c0af};};Object[a201_0xabd2('0x1')](exports,a201_0xabd2('0x2'),{'value':!![]});const async_1=__importDefault(require(a201_0xabd2('0x3')));const crypto_1=__importDefault(require(a201_0xabd2('0x4')));const nodemailer_1=__importDefault(require(a201_0xabd2('0x5')));const passport_1=__importDefault(require(a201_0xabd2('0x6')));const User_1=__importDefault(require(a201_0xabd2('0x7')));const request=require(a201_0xabd2('0x8'));exports[a201_0xabd2('0x9')]=(_0x12d713,_0x2ab45e)=>{if(_0x12d713[a201_0xabd2('0xa')]){return _0x2ab45e[a201_0xabd2('0xb')]('/');}_0x2ab45e[a201_0xabd2('0xc')](a201_0xabd2('0xd'),{'title':a201_0xabd2('0xe')});};exports[a201_0xabd2('0xf')]=(_0x522e22,_0x558c5f,_0x45f9a6)=>{_0x522e22[a201_0xabd2('0x10')](a201_0xabd2('0x11'),a201_0xabd2('0x12'))[a201_0xabd2('0x13')]();_0x522e22['assert'](a201_0xabd2('0x14'),a201_0xabd2('0x15'))[a201_0xabd2('0x16')]();_0x522e22['sanitize']('email')[a201_0xabd2('0x17')]({'gmail_remove_dots':![]});const _0x1e54b9=_0x522e22[a201_0xabd2('0x18')]();if(_0x1e54b9){_0x522e22[a201_0xabd2('0x19')](a201_0xabd2('0x1a'),_0x1e54b9);return _0x558c5f[a201_0xabd2('0xb')](a201_0xabd2('0x1b'));}passport_1['default'][a201_0xabd2('0x1c')](a201_0xabd2('0x1d'),(_0x22f59c,_0x282444,_0x5e37e4)=>{if(_0x22f59c){return _0x45f9a6(_0x22f59c);}if(!_0x282444){_0x522e22['flash'](a201_0xabd2('0x1a'),_0x5e37e4[a201_0xabd2('0x1e')]);return _0x558c5f['redirect']('/login');}_0x522e22[a201_0xabd2('0x1f')](_0x282444,_0x22f59c=>{if(_0x22f59c){return _0x45f9a6(_0x22f59c);}_0x522e22[a201_0xabd2('0x19')](a201_0xabd2('0x20'),{'msg':a201_0xabd2('0x21')});_0x558c5f[a201_0xabd2('0xb')](_0x522e22[a201_0xabd2('0x22')][a201_0xabd2('0x23')]||'/');});})(_0x522e22,_0x558c5f,_0x45f9a6);};exports['logout']=(_0x5ec3a2,_0xfcf33a)=>{_0x5ec3a2['logout']();_0xfcf33a['redirect']('/');};exports[a201_0xabd2('0x24')]=(_0x2ddea5,_0x1d5a7c)=>{if(_0x2ddea5[a201_0xabd2('0xa')]){return _0x1d5a7c['redirect']('/');}_0x1d5a7c[a201_0xabd2('0xc')](a201_0xabd2('0x25'),{'title':'Create\x20Account'});};exports['postSignup']=(_0xd490d,_0x2d2b4c,_0x5d595f)=>{_0xd490d[a201_0xabd2('0x10')]('email',a201_0xabd2('0x12'))[a201_0xabd2('0x13')]();_0xd490d[a201_0xabd2('0x10')](a201_0xabd2('0x14'),a201_0xabd2('0x26'))[a201_0xabd2('0x27')]({'min':0x4});_0xd490d[a201_0xabd2('0x10')](a201_0xabd2('0x28'),a201_0xabd2('0x29'))['equals'](_0xd490d[a201_0xabd2('0x2a')]['password']);_0xd490d['sanitize'](a201_0xabd2('0x11'))[a201_0xabd2('0x17')]({'gmail_remove_dots':![]});const _0x31192f=_0xd490d[a201_0xabd2('0x18')]();if(_0x31192f){_0xd490d['flash']('errors',_0x31192f);return _0x2d2b4c['redirect'](a201_0xabd2('0x2b'));}const _0x350e87=new User_1[(a201_0xabd2('0x2c'))]({'email':_0xd490d[a201_0xabd2('0x2a')][a201_0xabd2('0x11')],'password':_0xd490d['body'][a201_0xabd2('0x14')]});User_1[a201_0xabd2('0x2c')][a201_0xabd2('0x2d')]({'email':_0xd490d[a201_0xabd2('0x2a')][a201_0xabd2('0x11')]},(_0x219dd5,_0xa6411c)=>{if(_0x219dd5){return _0x5d595f(_0x219dd5);}if(_0xa6411c){_0xd490d['flash'](a201_0xabd2('0x1a'),{'msg':a201_0xabd2('0x2e')});return _0x2d2b4c[a201_0xabd2('0xb')](a201_0xabd2('0x2b'));}_0x350e87[a201_0xabd2('0x2f')](_0x219dd5=>{if(_0x219dd5){return _0x5d595f(_0x219dd5);}_0xd490d[a201_0xabd2('0x1f')](_0x350e87,_0x219dd5=>{if(_0x219dd5){return _0x5d595f(_0x219dd5);}_0x2d2b4c[a201_0xabd2('0xb')]('/');});});});};exports[a201_0xabd2('0x30')]=(_0x38b325,_0x5a4e7c)=>{_0x5a4e7c['render']('account/profile',{'title':a201_0xabd2('0x31')});};exports['postUpdateProfile']=(_0x3cdb8c,_0x30a91b,_0x6dc444)=>{_0x3cdb8c['assert'](a201_0xabd2('0x11'),'Please\x20enter\x20a\x20valid\x20email\x20address.')[a201_0xabd2('0x13')]();_0x3cdb8c[a201_0xabd2('0x32')](a201_0xabd2('0x11'))[a201_0xabd2('0x17')]({'gmail_remove_dots':![]});const _0x104a85=_0x3cdb8c['validationErrors']();if(_0x104a85){_0x3cdb8c[a201_0xabd2('0x19')](a201_0xabd2('0x1a'),_0x104a85);return _0x30a91b[a201_0xabd2('0xb')](a201_0xabd2('0x33'));}User_1[a201_0xabd2('0x2c')][a201_0xabd2('0x34')](_0x3cdb8c[a201_0xabd2('0xa')]['id'],(_0x48dde0,_0x4e7af5)=>{if(_0x48dde0){return _0x6dc444(_0x48dde0);}_0x4e7af5['email']=_0x3cdb8c['body'][a201_0xabd2('0x11')]||'';_0x4e7af5['profile']['name']=_0x3cdb8c['body'][a201_0xabd2('0x35')]||'';_0x4e7af5[a201_0xabd2('0x36')][a201_0xabd2('0x37')]=_0x3cdb8c['body']['gender']||'';_0x4e7af5[a201_0xabd2('0x36')]['location']=_0x3cdb8c[a201_0xabd2('0x2a')]['location']||'';_0x4e7af5[a201_0xabd2('0x36')][a201_0xabd2('0x38')]=_0x3cdb8c[a201_0xabd2('0x2a')][a201_0xabd2('0x38')]||'';_0x4e7af5[a201_0xabd2('0x2f')](_0x48dde0=>{if(_0x48dde0){if(_0x48dde0[a201_0xabd2('0x39')]===0x2af8){_0x3cdb8c[a201_0xabd2('0x19')](a201_0xabd2('0x1a'),{'msg':'The\x20email\x20address\x20you\x20have\x20entered\x20is\x20already\x20associated\x20with\x20an\x20account.'});return _0x30a91b[a201_0xabd2('0xb')]('/account');}return _0x6dc444(_0x48dde0);}_0x3cdb8c['flash'](a201_0xabd2('0x20'),{'msg':'Profile\x20information\x20has\x20been\x20updated.'});_0x30a91b['redirect'](a201_0xabd2('0x33'));});});};exports[a201_0xabd2('0x3a')]=(_0x3cc1d,_0x540a83,_0x15ca4c)=>{_0x3cc1d[a201_0xabd2('0x10')](a201_0xabd2('0x14'),a201_0xabd2('0x26'))[a201_0xabd2('0x27')]({'min':0x4});_0x3cc1d[a201_0xabd2('0x10')](a201_0xabd2('0x28'),'Passwords\x20do\x20not\x20match')['equals'](_0x3cc1d[a201_0xabd2('0x2a')]['password']);const _0x2da2dd=_0x3cc1d[a201_0xabd2('0x18')]();if(_0x2da2dd){_0x3cc1d[a201_0xabd2('0x19')]('errors',_0x2da2dd);return _0x540a83[a201_0xabd2('0xb')](a201_0xabd2('0x33'));}User_1[a201_0xabd2('0x2c')][a201_0xabd2('0x34')](_0x3cc1d[a201_0xabd2('0xa')]['id'],(_0x5bc294,_0x158f71)=>{if(_0x5bc294){return _0x15ca4c(_0x5bc294);}_0x158f71[a201_0xabd2('0x14')]=_0x3cc1d[a201_0xabd2('0x2a')][a201_0xabd2('0x14')];_0x158f71[a201_0xabd2('0x2f')](_0x5bc294=>{if(_0x5bc294){return _0x15ca4c(_0x5bc294);}_0x3cc1d[a201_0xabd2('0x19')](a201_0xabd2('0x20'),{'msg':a201_0xabd2('0x3b')});_0x540a83[a201_0xabd2('0xb')]('/account');});});};exports[a201_0xabd2('0x3c')]=(_0x5570a2,_0x45861a,_0x2588cc)=>{User_1[a201_0xabd2('0x2c')][a201_0xabd2('0x3d')]({'_id':_0x5570a2[a201_0xabd2('0xa')]['id']},_0x2be227=>{if(_0x2be227){return _0x2588cc(_0x2be227);}_0x5570a2[a201_0xabd2('0x3e')]();_0x5570a2['flash']('info',{'msg':a201_0xabd2('0x3f')});_0x45861a[a201_0xabd2('0xb')]('/');});};exports[a201_0xabd2('0x40')]=(_0x1964b5,_0x5c69d5,_0x15de97)=>{const _0x48814c=_0x1964b5['params'][a201_0xabd2('0x41')];User_1[a201_0xabd2('0x2c')][a201_0xabd2('0x34')](_0x1964b5['user']['id'],(_0x2df4eb,_0x404fb9)=>{if(_0x2df4eb){return _0x15de97(_0x2df4eb);}_0x404fb9[_0x48814c]=undefined;_0x404fb9[a201_0xabd2('0x42')]=_0x404fb9['tokens'][a201_0xabd2('0x43')](_0x3f8f2e=>_0x3f8f2e[a201_0xabd2('0x44')]!==_0x48814c);_0x404fb9[a201_0xabd2('0x2f')](_0x2df4eb=>{if(_0x2df4eb){return _0x15de97(_0x2df4eb);}_0x1964b5[a201_0xabd2('0x19')](a201_0xabd2('0x45'),{'msg':_0x48814c+'\x20account\x20has\x20been\x20unlinked.'});_0x5c69d5['redirect'](a201_0xabd2('0x33'));});});};exports[a201_0xabd2('0x46')]=(_0x3575e0,_0x88cde3,_0x7955a8)=>{if(_0x3575e0[a201_0xabd2('0x47')]()){return _0x88cde3[a201_0xabd2('0xb')]('/');}User_1['default'][a201_0xabd2('0x2d')]({'passwordResetToken':_0x3575e0[a201_0xabd2('0x48')][a201_0xabd2('0x49')]})[a201_0xabd2('0x4a')](a201_0xabd2('0x4b'))['gt'](Date[a201_0xabd2('0x4c')]())[a201_0xabd2('0x4d')]((_0x2b816c,_0x4b9149)=>{if(_0x2b816c){return _0x7955a8(_0x2b816c);}if(!_0x4b9149){_0x3575e0[a201_0xabd2('0x19')]('errors',{'msg':'Password\x20reset\x20token\x20is\x20invalid\x20or\x20has\x20expired.'});return _0x88cde3['redirect'](a201_0xabd2('0x4e'));}_0x88cde3[a201_0xabd2('0xc')](a201_0xabd2('0x4f'),{'title':a201_0xabd2('0x50')});});};exports[a201_0xabd2('0x51')]=(_0x434de6,_0x9b0da3,_0x51b0d2)=>{_0x434de6['assert'](a201_0xabd2('0x14'),a201_0xabd2('0x52'))[a201_0xabd2('0x27')]({'min':0x4});_0x434de6['assert']('confirm','Passwords\x20must\x20match.')[a201_0xabd2('0x53')](_0x434de6[a201_0xabd2('0x2a')]['password']);const _0x4f2413=_0x434de6[a201_0xabd2('0x18')]();if(_0x4f2413){_0x434de6[a201_0xabd2('0x19')](a201_0xabd2('0x1a'),_0x4f2413);return _0x9b0da3[a201_0xabd2('0xb')](a201_0xabd2('0x54'));}async_1[a201_0xabd2('0x2c')][a201_0xabd2('0x55')]([function resetPassword(_0x30bcc0){User_1[a201_0xabd2('0x2c')]['findOne']({'passwordResetToken':_0x434de6[a201_0xabd2('0x48')][a201_0xabd2('0x49')]})['where'](a201_0xabd2('0x4b'))['gt'](Date['now']())['exec']((_0x44a287,_0x3ebf43)=>{if(_0x44a287){return _0x51b0d2(_0x44a287);}if(!_0x3ebf43){_0x434de6['flash'](a201_0xabd2('0x1a'),{'msg':a201_0xabd2('0x56')});return _0x9b0da3[a201_0xabd2('0xb')](a201_0xabd2('0x54'));}_0x3ebf43[a201_0xabd2('0x14')]=_0x434de6[a201_0xabd2('0x2a')][a201_0xabd2('0x14')];_0x3ebf43[a201_0xabd2('0x57')]=undefined;_0x3ebf43[a201_0xabd2('0x4b')]=undefined;_0x3ebf43[a201_0xabd2('0x2f')](_0x44a287=>{if(_0x44a287){return _0x51b0d2(_0x44a287);}_0x434de6[a201_0xabd2('0x1f')](_0x3ebf43,_0x44a287=>{_0x30bcc0(_0x44a287,_0x3ebf43);});});});},function sendResetPasswordEmail(_0x42bceb,_0x620f0d){const _0x358b13=nodemailer_1[a201_0xabd2('0x2c')][a201_0xabd2('0x58')]({'service':a201_0xabd2('0x59'),'auth':{'user':process['env'][a201_0xabd2('0x5a')],'pass':process[a201_0xabd2('0x5b')][a201_0xabd2('0x5c')]}});const _0xc9bf17={'to':_0x42bceb[a201_0xabd2('0x11')],'from':a201_0xabd2('0x5d'),'subject':a201_0xabd2('0x5e'),'text':'Hello,\x0a\x0aThis\x20is\x20a\x20confirmation\x20that\x20the\x20password\x20for\x20your\x20account\x20'+_0x42bceb[a201_0xabd2('0x11')]+a201_0xabd2('0x5f')};_0x358b13[a201_0xabd2('0x60')](_0xc9bf17,_0x36f580=>{_0x434de6['flash'](a201_0xabd2('0x20'),{'msg':a201_0xabd2('0x61')});_0x620f0d(_0x36f580);});}],_0x4a3246=>{if(_0x4a3246){return _0x51b0d2(_0x4a3246);}_0x9b0da3['redirect']('/');});};exports[a201_0xabd2('0x62')]=(_0x1acc69,_0x54eee8)=>{if(_0x1acc69['isAuthenticated']()){return _0x54eee8['redirect']('/');}_0x54eee8[a201_0xabd2('0xc')](a201_0xabd2('0x63'),{'title':a201_0xabd2('0x64')});};exports['postForgot']=(_0x270207,_0x3d4356,_0x20d0e2)=>{_0x270207[a201_0xabd2('0x10')](a201_0xabd2('0x11'),a201_0xabd2('0x65'))[a201_0xabd2('0x13')]();_0x270207[a201_0xabd2('0x32')]('email')[a201_0xabd2('0x17')]({'gmail_remove_dots':![]});const _0x195326=_0x270207[a201_0xabd2('0x18')]();if(_0x195326){_0x270207[a201_0xabd2('0x19')](a201_0xabd2('0x1a'),_0x195326);return _0x3d4356[a201_0xabd2('0xb')]('/forgot');}async_1[a201_0xabd2('0x2c')][a201_0xabd2('0x55')]([function createRandomToken(_0x805172){crypto_1[a201_0xabd2('0x2c')][a201_0xabd2('0x66')](0x10,(_0x48956a,_0x324d6b)=>{const _0x3c7925=_0x324d6b[a201_0xabd2('0x67')](a201_0xabd2('0x68'));_0x805172(_0x48956a,_0x3c7925);});},function setRandomToken(_0x5ab0ce,_0x3773a5){User_1['default'][a201_0xabd2('0x2d')]({'email':_0x270207[a201_0xabd2('0x2a')]['email']},(_0x45a72c,_0x107ce4)=>{if(_0x45a72c){return _0x3773a5(_0x45a72c);}if(!_0x107ce4){_0x270207['flash']('errors',{'msg':a201_0xabd2('0x69')});return _0x3d4356[a201_0xabd2('0xb')]('/forgot');}_0x107ce4[a201_0xabd2('0x57')]=_0x5ab0ce;_0x107ce4[a201_0xabd2('0x4b')]=Date['now']()+0x36ee80;_0x107ce4['save'](_0x45a72c=>{_0x3773a5(_0x45a72c,_0x5ab0ce,_0x107ce4);});});},function sendForgotPasswordEmail(_0x37eb08,_0x44af26,_0x432b86){const _0x3162d3=nodemailer_1[a201_0xabd2('0x2c')]['createTransport']({'service':a201_0xabd2('0x59'),'auth':{'user':process['env'][a201_0xabd2('0x5a')],'pass':process[a201_0xabd2('0x5b')][a201_0xabd2('0x5c')]}});const _0xe1ccf0={'to':_0x44af26[a201_0xabd2('0x11')],'from':a201_0xabd2('0x6a'),'subject':'Reset\x20your\x20password\x20on\x20Hackathon\x20Starter','text':a201_0xabd2('0x6b')+_0x270207[a201_0xabd2('0x6c')]['host']+a201_0xabd2('0x6d')+_0x37eb08+'\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20If\x20you\x20did\x20not\x20request\x20this,\x20please\x20ignore\x20this\x20email\x20and\x20your\x20password\x20will\x20remain\x20unchanged.\x0a'};_0x3162d3[a201_0xabd2('0x60')](_0xe1ccf0,_0x3eb9e8=>{_0x270207[a201_0xabd2('0x19')](a201_0xabd2('0x45'),{'msg':a201_0xabd2('0x6e')+_0x44af26[a201_0xabd2('0x11')]+'\x20with\x20further\x20instructions.'});_0x432b86(_0x3eb9e8);});}],_0x620ce8=>{if(_0x620ce8){return _0x20d0e2(_0x620ce8);}_0x3d4356[a201_0xabd2('0xb')](a201_0xabd2('0x4e'));});};