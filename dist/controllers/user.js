var a95_0x5d07=['returnTo','logout','getSignup','account/signup','postSignup','len','Passwords\x20do\x20not\x20match','equals','body','/signup','password','findOne','save','getAccount','account/profile','Account\x20Management','postUpdateProfile','Please\x20enter\x20a\x20valid\x20email\x20address.','/account','findById','name','gender','profile','location','website','code','The\x20email\x20address\x20you\x20have\x20entered\x20is\x20already\x20associated\x20with\x20an\x20account.','postUpdatePassword','Password\x20must\x20be\x20at\x20least\x204\x20characters\x20long','confirmPassword','Password\x20has\x20been\x20changed.','postDeleteAccount','info','Your\x20account\x20has\x20been\x20deleted.','getOauthUnlink','params','provider','tokens','filter','kind','\x20account\x20has\x20been\x20unlinked.','getReset','isAuthenticated','token','where','passwordResetExpires','now','Password\x20reset\x20token\x20is\x20invalid\x20or\x20has\x20expired.','/forgot','account/reset','postReset','Password\x20must\x20be\x20at\x20least\x204\x20characters\x20long.','Passwords\x20must\x20match.','back','waterfall','exec','createTransport','SendGrid','env','SENDGRID_USER','SENDGRID_PASSWORD','express-ts@starter.com','Hello,\x0a\x0aThis\x20is\x20a\x20confirmation\x20that\x20the\x20password\x20for\x20your\x20account\x20','sendMail','Success!\x20Your\x20password\x20has\x20been\x20changed.','account/forgot','Forgot\x20Password','postForgot','randomBytes','hex','Account\x20with\x20that\x20email\x20address\x20does\x20not\x20exist.','passwordResetToken','You\x20are\x20receiving\x20this\x20email\x20because\x20you\x20(or\x20someone\x20else)\x20have\x20requested\x20the\x20reset\x20of\x20the\x20password\x20for\x20your\x20account.\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Please\x20click\x20on\x20the\x20following\x20link,\x20or\x20paste\x20this\x20into\x20your\x20browser\x20to\x20complete\x20the\x20process:\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20http://','headers','/reset/','\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20If\x20you\x20did\x20not\x20request\x20this,\x20please\x20ignore\x20this\x20email\x20and\x20your\x20password\x20will\x20remain\x20unchanged.\x0a','An\x20e-mail\x20has\x20been\x20sent\x20to\x20','\x20with\x20further\x20instructions.','__importDefault','__esModule','defineProperty','crypto','nodemailer','passport','../models/User','express-validator','user','render','Email\x20is\x20not\x20valid','isEmail','assert','Password\x20cannot\x20be\x20blank','notEmpty','sanitize','email','normalizeEmail','validationErrors','errors','redirect','default','authenticate','local','message','/login','logIn','flash','success','Success!\x20You\x20are\x20logged\x20in.','session'];(function(_0x26f81d,_0x4b53cf){var _0x17493c=function(_0x2d7523){while(--_0x2d7523){_0x26f81d['push'](_0x26f81d['shift']());}};_0x17493c(++_0x4b53cf);}(a95_0x5d07,0xbb));var a95_0x49d1=function(_0x3e8cd0,_0x23724e){_0x3e8cd0=_0x3e8cd0-0x0;var _0x39aa42=a95_0x5d07[_0x3e8cd0];return _0x39aa42;};'use strict';var __importDefault=this&&this[a95_0x49d1('0x0')]||function(_0x2aa3be){return _0x2aa3be&&_0x2aa3be[a95_0x49d1('0x1')]?_0x2aa3be:{'default':_0x2aa3be};};Object[a95_0x49d1('0x2')](exports,'__esModule',{'value':!![]});const async_1=__importDefault(require('async'));const crypto_1=__importDefault(require(a95_0x49d1('0x3')));const nodemailer_1=__importDefault(require(a95_0x49d1('0x4')));const passport_1=__importDefault(require(a95_0x49d1('0x5')));const User_1=__importDefault(require(a95_0x49d1('0x6')));const request=require(a95_0x49d1('0x7'));exports['getLogin']=(_0x5c6daf,_0x22a6eb)=>{if(_0x5c6daf[a95_0x49d1('0x8')]){return _0x22a6eb['redirect']('/');}_0x22a6eb[a95_0x49d1('0x9')]('account/login',{'title':'Login'});};exports['postLogin']=(_0xdf7ec8,_0x53d1ed,_0x51c299)=>{_0xdf7ec8['assert']('email',a95_0x49d1('0xa'))[a95_0x49d1('0xb')]();_0xdf7ec8[a95_0x49d1('0xc')]('password',a95_0x49d1('0xd'))[a95_0x49d1('0xe')]();_0xdf7ec8[a95_0x49d1('0xf')](a95_0x49d1('0x10'))[a95_0x49d1('0x11')]({'gmail_remove_dots':![]});const _0x5cde71=_0xdf7ec8[a95_0x49d1('0x12')]();if(_0x5cde71){_0xdf7ec8['flash'](a95_0x49d1('0x13'),_0x5cde71);return _0x53d1ed[a95_0x49d1('0x14')]('/login');}passport_1[a95_0x49d1('0x15')][a95_0x49d1('0x16')](a95_0x49d1('0x17'),(_0x83e301,_0x30d3b2,_0x406ca3)=>{if(_0x83e301){return _0x51c299(_0x83e301);}if(!_0x30d3b2){_0xdf7ec8['flash']('errors',_0x406ca3[a95_0x49d1('0x18')]);return _0x53d1ed[a95_0x49d1('0x14')](a95_0x49d1('0x19'));}_0xdf7ec8[a95_0x49d1('0x1a')](_0x30d3b2,_0x83e301=>{if(_0x83e301){return _0x51c299(_0x83e301);}_0xdf7ec8[a95_0x49d1('0x1b')](a95_0x49d1('0x1c'),{'msg':a95_0x49d1('0x1d')});_0x53d1ed[a95_0x49d1('0x14')](_0xdf7ec8[a95_0x49d1('0x1e')][a95_0x49d1('0x1f')]||'/');});})(_0xdf7ec8,_0x53d1ed,_0x51c299);};exports[a95_0x49d1('0x20')]=(_0x467699,_0x2608de)=>{_0x467699[a95_0x49d1('0x20')]();_0x2608de['redirect']('/');};exports[a95_0x49d1('0x21')]=(_0x40dd7f,_0x4ac337)=>{if(_0x40dd7f[a95_0x49d1('0x8')]){return _0x4ac337['redirect']('/');}_0x4ac337[a95_0x49d1('0x9')](a95_0x49d1('0x22'),{'title':'Create\x20Account'});};exports[a95_0x49d1('0x23')]=(_0x365ae0,_0x41d274,_0x35e3b1)=>{_0x365ae0[a95_0x49d1('0xc')](a95_0x49d1('0x10'),a95_0x49d1('0xa'))[a95_0x49d1('0xb')]();_0x365ae0[a95_0x49d1('0xc')]('password','Password\x20must\x20be\x20at\x20least\x204\x20characters\x20long')[a95_0x49d1('0x24')]({'min':0x4});_0x365ae0[a95_0x49d1('0xc')]('confirmPassword',a95_0x49d1('0x25'))[a95_0x49d1('0x26')](_0x365ae0[a95_0x49d1('0x27')]['password']);_0x365ae0[a95_0x49d1('0xf')](a95_0x49d1('0x10'))[a95_0x49d1('0x11')]({'gmail_remove_dots':![]});const _0x4e7f96=_0x365ae0['validationErrors']();if(_0x4e7f96){_0x365ae0[a95_0x49d1('0x1b')](a95_0x49d1('0x13'),_0x4e7f96);return _0x41d274[a95_0x49d1('0x14')](a95_0x49d1('0x28'));}const _0x16a28c=new User_1['default']({'email':_0x365ae0[a95_0x49d1('0x27')][a95_0x49d1('0x10')],'password':_0x365ae0['body'][a95_0x49d1('0x29')]});User_1['default'][a95_0x49d1('0x2a')]({'email':_0x365ae0[a95_0x49d1('0x27')][a95_0x49d1('0x10')]},(_0x100aab,_0x21a696)=>{if(_0x100aab){return _0x35e3b1(_0x100aab);}if(_0x21a696){_0x365ae0['flash'](a95_0x49d1('0x13'),{'msg':'Account\x20with\x20that\x20email\x20address\x20already\x20exists.'});return _0x41d274['redirect'](a95_0x49d1('0x28'));}_0x16a28c[a95_0x49d1('0x2b')](_0x100aab=>{if(_0x100aab){return _0x35e3b1(_0x100aab);}_0x365ae0[a95_0x49d1('0x1a')](_0x16a28c,_0x100aab=>{if(_0x100aab){return _0x35e3b1(_0x100aab);}_0x41d274[a95_0x49d1('0x14')]('/');});});});};exports[a95_0x49d1('0x2c')]=(_0xe3dca2,_0x30a819)=>{_0x30a819[a95_0x49d1('0x9')](a95_0x49d1('0x2d'),{'title':a95_0x49d1('0x2e')});};exports[a95_0x49d1('0x2f')]=(_0x5d9da5,_0x506e26,_0x3cbf3d)=>{_0x5d9da5[a95_0x49d1('0xc')](a95_0x49d1('0x10'),a95_0x49d1('0x30'))[a95_0x49d1('0xb')]();_0x5d9da5['sanitize']('email')[a95_0x49d1('0x11')]({'gmail_remove_dots':![]});const _0x1346f0=_0x5d9da5[a95_0x49d1('0x12')]();if(_0x1346f0){_0x5d9da5[a95_0x49d1('0x1b')](a95_0x49d1('0x13'),_0x1346f0);return _0x506e26['redirect'](a95_0x49d1('0x31'));}User_1[a95_0x49d1('0x15')][a95_0x49d1('0x32')](_0x5d9da5['user']['id'],(_0x53bdb3,_0xc0881d)=>{if(_0x53bdb3){return _0x3cbf3d(_0x53bdb3);}_0xc0881d[a95_0x49d1('0x10')]=_0x5d9da5[a95_0x49d1('0x27')][a95_0x49d1('0x10')]||'';_0xc0881d['profile'][a95_0x49d1('0x33')]=_0x5d9da5[a95_0x49d1('0x27')][a95_0x49d1('0x33')]||'';_0xc0881d['profile'][a95_0x49d1('0x34')]=_0x5d9da5[a95_0x49d1('0x27')][a95_0x49d1('0x34')]||'';_0xc0881d[a95_0x49d1('0x35')][a95_0x49d1('0x36')]=_0x5d9da5[a95_0x49d1('0x27')]['location']||'';_0xc0881d[a95_0x49d1('0x35')]['website']=_0x5d9da5[a95_0x49d1('0x27')][a95_0x49d1('0x37')]||'';_0xc0881d['save'](_0x53bdb3=>{if(_0x53bdb3){if(_0x53bdb3[a95_0x49d1('0x38')]===0x2af8){_0x5d9da5['flash'](a95_0x49d1('0x13'),{'msg':a95_0x49d1('0x39')});return _0x506e26[a95_0x49d1('0x14')]('/account');}return _0x3cbf3d(_0x53bdb3);}_0x5d9da5[a95_0x49d1('0x1b')](a95_0x49d1('0x1c'),{'msg':'Profile\x20information\x20has\x20been\x20updated.'});_0x506e26[a95_0x49d1('0x14')](a95_0x49d1('0x31'));});});};exports[a95_0x49d1('0x3a')]=(_0x181cbe,_0x19c188,_0xf0efb3)=>{_0x181cbe[a95_0x49d1('0xc')](a95_0x49d1('0x29'),a95_0x49d1('0x3b'))[a95_0x49d1('0x24')]({'min':0x4});_0x181cbe[a95_0x49d1('0xc')](a95_0x49d1('0x3c'),a95_0x49d1('0x25'))[a95_0x49d1('0x26')](_0x181cbe[a95_0x49d1('0x27')]['password']);const _0x5863f9=_0x181cbe[a95_0x49d1('0x12')]();if(_0x5863f9){_0x181cbe['flash']('errors',_0x5863f9);return _0x19c188[a95_0x49d1('0x14')]('/account');}User_1[a95_0x49d1('0x15')]['findById'](_0x181cbe[a95_0x49d1('0x8')]['id'],(_0x48ff76,_0x491a69)=>{if(_0x48ff76){return _0xf0efb3(_0x48ff76);}_0x491a69['password']=_0x181cbe[a95_0x49d1('0x27')][a95_0x49d1('0x29')];_0x491a69[a95_0x49d1('0x2b')](_0x48ff76=>{if(_0x48ff76){return _0xf0efb3(_0x48ff76);}_0x181cbe[a95_0x49d1('0x1b')](a95_0x49d1('0x1c'),{'msg':a95_0x49d1('0x3d')});_0x19c188[a95_0x49d1('0x14')](a95_0x49d1('0x31'));});});};exports[a95_0x49d1('0x3e')]=(_0x13f44d,_0x360d16,_0x145106)=>{User_1[a95_0x49d1('0x15')]['remove']({'_id':_0x13f44d['user']['id']},_0x447af5=>{if(_0x447af5){return _0x145106(_0x447af5);}_0x13f44d[a95_0x49d1('0x20')]();_0x13f44d[a95_0x49d1('0x1b')](a95_0x49d1('0x3f'),{'msg':a95_0x49d1('0x40')});_0x360d16[a95_0x49d1('0x14')]('/');});};exports[a95_0x49d1('0x41')]=(_0x4d2240,_0xc01241,_0x7cff51)=>{const _0xbe68b1=_0x4d2240[a95_0x49d1('0x42')][a95_0x49d1('0x43')];User_1[a95_0x49d1('0x15')][a95_0x49d1('0x32')](_0x4d2240[a95_0x49d1('0x8')]['id'],(_0x219e6d,_0x53ce8c)=>{if(_0x219e6d){return _0x7cff51(_0x219e6d);}_0x53ce8c[_0xbe68b1]=undefined;_0x53ce8c[a95_0x49d1('0x44')]=_0x53ce8c[a95_0x49d1('0x44')][a95_0x49d1('0x45')](_0x538344=>_0x538344[a95_0x49d1('0x46')]!==_0xbe68b1);_0x53ce8c[a95_0x49d1('0x2b')](_0x219e6d=>{if(_0x219e6d){return _0x7cff51(_0x219e6d);}_0x4d2240[a95_0x49d1('0x1b')](a95_0x49d1('0x3f'),{'msg':_0xbe68b1+a95_0x49d1('0x47')});_0xc01241[a95_0x49d1('0x14')](a95_0x49d1('0x31'));});});};exports[a95_0x49d1('0x48')]=(_0x24cc07,_0x3cab9d,_0x306b71)=>{if(_0x24cc07[a95_0x49d1('0x49')]()){return _0x3cab9d[a95_0x49d1('0x14')]('/');}User_1[a95_0x49d1('0x15')][a95_0x49d1('0x2a')]({'passwordResetToken':_0x24cc07[a95_0x49d1('0x42')][a95_0x49d1('0x4a')]})[a95_0x49d1('0x4b')](a95_0x49d1('0x4c'))['gt'](Date[a95_0x49d1('0x4d')]())['exec']((_0x5ebb75,_0x434540)=>{if(_0x5ebb75){return _0x306b71(_0x5ebb75);}if(!_0x434540){_0x24cc07['flash'](a95_0x49d1('0x13'),{'msg':a95_0x49d1('0x4e')});return _0x3cab9d[a95_0x49d1('0x14')](a95_0x49d1('0x4f'));}_0x3cab9d[a95_0x49d1('0x9')](a95_0x49d1('0x50'),{'title':'Password\x20Reset'});});};exports[a95_0x49d1('0x51')]=(_0x159ca9,_0x202a6d,_0x5aed4b)=>{_0x159ca9['assert'](a95_0x49d1('0x29'),a95_0x49d1('0x52'))['len']({'min':0x4});_0x159ca9[a95_0x49d1('0xc')]('confirm',a95_0x49d1('0x53'))['equals'](_0x159ca9['body'][a95_0x49d1('0x29')]);const _0x1b4255=_0x159ca9['validationErrors']();if(_0x1b4255){_0x159ca9[a95_0x49d1('0x1b')](a95_0x49d1('0x13'),_0x1b4255);return _0x202a6d[a95_0x49d1('0x14')](a95_0x49d1('0x54'));}async_1[a95_0x49d1('0x15')][a95_0x49d1('0x55')]([function resetPassword(_0x4bfa8c){User_1[a95_0x49d1('0x15')][a95_0x49d1('0x2a')]({'passwordResetToken':_0x159ca9[a95_0x49d1('0x42')][a95_0x49d1('0x4a')]})[a95_0x49d1('0x4b')](a95_0x49d1('0x4c'))['gt'](Date[a95_0x49d1('0x4d')]())[a95_0x49d1('0x56')]((_0x4fb7e6,_0x41eecf)=>{if(_0x4fb7e6){return _0x5aed4b(_0x4fb7e6);}if(!_0x41eecf){_0x159ca9[a95_0x49d1('0x1b')](a95_0x49d1('0x13'),{'msg':'Password\x20reset\x20token\x20is\x20invalid\x20or\x20has\x20expired.'});return _0x202a6d['redirect']('back');}_0x41eecf[a95_0x49d1('0x29')]=_0x159ca9[a95_0x49d1('0x27')]['password'];_0x41eecf['passwordResetToken']=undefined;_0x41eecf[a95_0x49d1('0x4c')]=undefined;_0x41eecf[a95_0x49d1('0x2b')](_0x4fb7e6=>{if(_0x4fb7e6){return _0x5aed4b(_0x4fb7e6);}_0x159ca9[a95_0x49d1('0x1a')](_0x41eecf,_0x4fb7e6=>{_0x4bfa8c(_0x4fb7e6,_0x41eecf);});});});},function sendResetPasswordEmail(_0x36b236,_0x2693c0){const _0x353910=nodemailer_1[a95_0x49d1('0x15')][a95_0x49d1('0x57')]({'service':a95_0x49d1('0x58'),'auth':{'user':process[a95_0x49d1('0x59')][a95_0x49d1('0x5a')],'pass':process['env'][a95_0x49d1('0x5b')]}});const _0x34d1ea={'to':_0x36b236[a95_0x49d1('0x10')],'from':a95_0x49d1('0x5c'),'subject':'Your\x20password\x20has\x20been\x20changed','text':a95_0x49d1('0x5d')+_0x36b236[a95_0x49d1('0x10')]+'\x20has\x20just\x20been\x20changed.\x0a'};_0x353910[a95_0x49d1('0x5e')](_0x34d1ea,_0x5f1c0f=>{_0x159ca9[a95_0x49d1('0x1b')](a95_0x49d1('0x1c'),{'msg':a95_0x49d1('0x5f')});_0x2693c0(_0x5f1c0f);});}],_0x4c3720=>{if(_0x4c3720){return _0x5aed4b(_0x4c3720);}_0x202a6d[a95_0x49d1('0x14')]('/');});};exports['getForgot']=(_0x2a45d1,_0x217e1c)=>{if(_0x2a45d1[a95_0x49d1('0x49')]()){return _0x217e1c['redirect']('/');}_0x217e1c[a95_0x49d1('0x9')](a95_0x49d1('0x60'),{'title':a95_0x49d1('0x61')});};exports[a95_0x49d1('0x62')]=(_0x4cdfc6,_0x13b758,_0x59ce1f)=>{_0x4cdfc6[a95_0x49d1('0xc')](a95_0x49d1('0x10'),a95_0x49d1('0x30'))[a95_0x49d1('0xb')]();_0x4cdfc6['sanitize']('email')[a95_0x49d1('0x11')]({'gmail_remove_dots':![]});const _0x76564e=_0x4cdfc6[a95_0x49d1('0x12')]();if(_0x76564e){_0x4cdfc6['flash'](a95_0x49d1('0x13'),_0x76564e);return _0x13b758[a95_0x49d1('0x14')](a95_0x49d1('0x4f'));}async_1['default'][a95_0x49d1('0x55')]([function createRandomToken(_0x3740d6){crypto_1['default'][a95_0x49d1('0x63')](0x10,(_0x4f0393,_0x3e7db4)=>{const _0x157cf3=_0x3e7db4['toString'](a95_0x49d1('0x64'));_0x3740d6(_0x4f0393,_0x157cf3);});},function setRandomToken(_0x312bef,_0x194aea){User_1['default'][a95_0x49d1('0x2a')]({'email':_0x4cdfc6['body'][a95_0x49d1('0x10')]},(_0x596edd,_0x49fc58)=>{if(_0x596edd){return _0x194aea(_0x596edd);}if(!_0x49fc58){_0x4cdfc6[a95_0x49d1('0x1b')](a95_0x49d1('0x13'),{'msg':a95_0x49d1('0x65')});return _0x13b758[a95_0x49d1('0x14')](a95_0x49d1('0x4f'));}_0x49fc58[a95_0x49d1('0x66')]=_0x312bef;_0x49fc58['passwordResetExpires']=Date[a95_0x49d1('0x4d')]()+0x36ee80;_0x49fc58['save'](_0x596edd=>{_0x194aea(_0x596edd,_0x312bef,_0x49fc58);});});},function sendForgotPasswordEmail(_0x31db64,_0x149d7f,_0x2e2012){const _0xe2f1db=nodemailer_1[a95_0x49d1('0x15')][a95_0x49d1('0x57')]({'service':a95_0x49d1('0x58'),'auth':{'user':process[a95_0x49d1('0x59')][a95_0x49d1('0x5a')],'pass':process[a95_0x49d1('0x59')]['SENDGRID_PASSWORD']}});const _0x59f42b={'to':_0x149d7f['email'],'from':'hackathon@starter.com','subject':'Reset\x20your\x20password\x20on\x20Hackathon\x20Starter','text':a95_0x49d1('0x67')+_0x4cdfc6[a95_0x49d1('0x68')]['host']+a95_0x49d1('0x69')+_0x31db64+a95_0x49d1('0x6a')};_0xe2f1db[a95_0x49d1('0x5e')](_0x59f42b,_0x21f355=>{_0x4cdfc6[a95_0x49d1('0x1b')](a95_0x49d1('0x3f'),{'msg':a95_0x49d1('0x6b')+_0x149d7f[a95_0x49d1('0x10')]+a95_0x49d1('0x6c')});_0x2e2012(_0x21f355);});}],_0x19f8a9=>{if(_0x19f8a9){return _0x59ce1f(_0x19f8a9);}_0x13b758[a95_0x49d1('0x14')](a95_0x49d1('0x4f'));});};