var a183_0x5671=['postForgot','/forgot','randomBytes','toString','hex','Account\x20with\x20that\x20email\x20address\x20does\x20not\x20exist.','hackathon@starter.com','You\x20are\x20receiving\x20this\x20email\x20because\x20you\x20(or\x20someone\x20else)\x20have\x20requested\x20the\x20reset\x20of\x20the\x20password\x20for\x20your\x20account.\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Please\x20click\x20on\x20the\x20following\x20link,\x20or\x20paste\x20this\x20into\x20your\x20browser\x20to\x20complete\x20the\x20process:\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20http://','headers','host','/reset/','\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20If\x20you\x20did\x20not\x20request\x20this,\x20please\x20ignore\x20this\x20email\x20and\x20your\x20password\x20will\x20remain\x20unchanged.\x0a','sendMail','An\x20e-mail\x20has\x20been\x20sent\x20to\x20','\x20with\x20further\x20instructions.','__esModule','async','crypto','nodemailer','passport','../models/User','express-validator','getLogin','user','redirect','render','postLogin','assert','email','isEmail','password','Password\x20cannot\x20be\x20blank','notEmpty','sanitize','normalizeEmail','validationErrors','errors','/login','authenticate','local','flash','message','Success!\x20You\x20are\x20logged\x20in.','returnTo','getSignup','account/signup','Create\x20Account','postSignup','Email\x20is\x20not\x20valid','confirmPassword','Passwords\x20do\x20not\x20match','equals','body','/signup','default','findOne','Account\x20with\x20that\x20email\x20address\x20already\x20exists.','save','logIn','getAccount','account/profile','Account\x20Management','postUpdateProfile','Please\x20enter\x20a\x20valid\x20email\x20address.','/account','findById','profile','name','gender','location','website','code','The\x20email\x20address\x20you\x20have\x20entered\x20is\x20already\x20associated\x20with\x20an\x20account.','success','Profile\x20information\x20has\x20been\x20updated.','Password\x20must\x20be\x20at\x20least\x204\x20characters\x20long','len','remove','logout','Your\x20account\x20has\x20been\x20deleted.','getOauthUnlink','params','provider','tokens','filter','kind','info','getReset','isAuthenticated','where','passwordResetExpires','exec','Password\x20reset\x20token\x20is\x20invalid\x20or\x20has\x20expired.','account/reset','Password\x20Reset','postReset','Password\x20must\x20be\x20at\x20least\x204\x20characters\x20long.','Passwords\x20must\x20match.','back','waterfall','now','SendGrid','env','SENDGRID_USER','SENDGRID_PASSWORD','express-ts@starter.com','Your\x20password\x20has\x20been\x20changed','Hello,\x0a\x0aThis\x20is\x20a\x20confirmation\x20that\x20the\x20password\x20for\x20your\x20account\x20','\x20has\x20just\x20been\x20changed.\x0a','Success!\x20Your\x20password\x20has\x20been\x20changed.','getForgot','account/forgot','Forgot\x20Password'];(function(_0x36f8ea,_0x1ca604){var _0x904e15=function(_0x23a5f0){while(--_0x23a5f0){_0x36f8ea['push'](_0x36f8ea['shift']());}};_0x904e15(++_0x1ca604);}(a183_0x5671,0x80));var a183_0x3b14=function(_0x18a2ec,_0x38a2dd){_0x18a2ec=_0x18a2ec-0x0;var _0x525cdb=a183_0x5671[_0x18a2ec];return _0x525cdb;};'use strict';var __importDefault=this&&this['__importDefault']||function(_0x7fe375){return _0x7fe375&&_0x7fe375[a183_0x3b14('0x0')]?_0x7fe375:{'default':_0x7fe375};};Object['defineProperty'](exports,'__esModule',{'value':!![]});const async_1=__importDefault(require(a183_0x3b14('0x1')));const crypto_1=__importDefault(require(a183_0x3b14('0x2')));const nodemailer_1=__importDefault(require(a183_0x3b14('0x3')));const passport_1=__importDefault(require(a183_0x3b14('0x4')));const User_1=__importDefault(require(a183_0x3b14('0x5')));const request=require(a183_0x3b14('0x6'));exports[a183_0x3b14('0x7')]=(_0x554a4c,_0x20be69)=>{if(_0x554a4c[a183_0x3b14('0x8')]){return _0x20be69[a183_0x3b14('0x9')]('/');}_0x20be69[a183_0x3b14('0xa')]('account/login',{'title':'Login'});};exports[a183_0x3b14('0xb')]=(_0x53bee0,_0x1bd6c6,_0x7cdae4)=>{_0x53bee0[a183_0x3b14('0xc')](a183_0x3b14('0xd'),'Email\x20is\x20not\x20valid')[a183_0x3b14('0xe')]();_0x53bee0['assert'](a183_0x3b14('0xf'),a183_0x3b14('0x10'))[a183_0x3b14('0x11')]();_0x53bee0[a183_0x3b14('0x12')](a183_0x3b14('0xd'))[a183_0x3b14('0x13')]({'gmail_remove_dots':![]});const _0x20d91f=_0x53bee0[a183_0x3b14('0x14')]();if(_0x20d91f){_0x53bee0['flash'](a183_0x3b14('0x15'),_0x20d91f);return _0x1bd6c6['redirect'](a183_0x3b14('0x16'));}passport_1['default'][a183_0x3b14('0x17')](a183_0x3b14('0x18'),(_0x378c77,_0x1aa8a1,_0x256bd7)=>{if(_0x378c77){return _0x7cdae4(_0x378c77);}if(!_0x1aa8a1){_0x53bee0[a183_0x3b14('0x19')](a183_0x3b14('0x15'),_0x256bd7[a183_0x3b14('0x1a')]);return _0x1bd6c6[a183_0x3b14('0x9')](a183_0x3b14('0x16'));}_0x53bee0['logIn'](_0x1aa8a1,_0x378c77=>{if(_0x378c77){return _0x7cdae4(_0x378c77);}_0x53bee0['flash']('success',{'msg':a183_0x3b14('0x1b')});_0x1bd6c6[a183_0x3b14('0x9')](_0x53bee0['session'][a183_0x3b14('0x1c')]||'/');});})(_0x53bee0,_0x1bd6c6,_0x7cdae4);};exports['logout']=(_0xa731cd,_0x457791)=>{_0xa731cd['logout']();_0x457791['redirect']('/');};exports[a183_0x3b14('0x1d')]=(_0x3d09e4,_0xb4e7d4)=>{if(_0x3d09e4[a183_0x3b14('0x8')]){return _0xb4e7d4[a183_0x3b14('0x9')]('/');}_0xb4e7d4['render'](a183_0x3b14('0x1e'),{'title':a183_0x3b14('0x1f')});};exports[a183_0x3b14('0x20')]=(_0xfedc08,_0x968ee,_0xb3273a)=>{_0xfedc08['assert'](a183_0x3b14('0xd'),a183_0x3b14('0x21'))[a183_0x3b14('0xe')]();_0xfedc08[a183_0x3b14('0xc')](a183_0x3b14('0xf'),'Password\x20must\x20be\x20at\x20least\x204\x20characters\x20long')['len']({'min':0x4});_0xfedc08[a183_0x3b14('0xc')](a183_0x3b14('0x22'),a183_0x3b14('0x23'))[a183_0x3b14('0x24')](_0xfedc08[a183_0x3b14('0x25')][a183_0x3b14('0xf')]);_0xfedc08[a183_0x3b14('0x12')]('email')[a183_0x3b14('0x13')]({'gmail_remove_dots':![]});const _0x3388bb=_0xfedc08[a183_0x3b14('0x14')]();if(_0x3388bb){_0xfedc08['flash'](a183_0x3b14('0x15'),_0x3388bb);return _0x968ee[a183_0x3b14('0x9')](a183_0x3b14('0x26'));}const _0x4cf6f1=new User_1[(a183_0x3b14('0x27'))]({'email':_0xfedc08[a183_0x3b14('0x25')][a183_0x3b14('0xd')],'password':_0xfedc08[a183_0x3b14('0x25')]['password']});User_1[a183_0x3b14('0x27')][a183_0x3b14('0x28')]({'email':_0xfedc08[a183_0x3b14('0x25')][a183_0x3b14('0xd')]},(_0x11a1e3,_0x475d7d)=>{if(_0x11a1e3){return _0xb3273a(_0x11a1e3);}if(_0x475d7d){_0xfedc08[a183_0x3b14('0x19')](a183_0x3b14('0x15'),{'msg':a183_0x3b14('0x29')});return _0x968ee[a183_0x3b14('0x9')]('/signup');}_0x4cf6f1[a183_0x3b14('0x2a')](_0x11a1e3=>{if(_0x11a1e3){return _0xb3273a(_0x11a1e3);}_0xfedc08[a183_0x3b14('0x2b')](_0x4cf6f1,_0x11a1e3=>{if(_0x11a1e3){return _0xb3273a(_0x11a1e3);}_0x968ee[a183_0x3b14('0x9')]('/');});});});};exports[a183_0x3b14('0x2c')]=(_0x3d662e,_0x197d41)=>{_0x197d41[a183_0x3b14('0xa')](a183_0x3b14('0x2d'),{'title':a183_0x3b14('0x2e')});};exports[a183_0x3b14('0x2f')]=(_0x417605,_0x2e8281,_0x559052)=>{_0x417605['assert'](a183_0x3b14('0xd'),a183_0x3b14('0x30'))[a183_0x3b14('0xe')]();_0x417605['sanitize']('email')[a183_0x3b14('0x13')]({'gmail_remove_dots':![]});const _0x5b7ef5=_0x417605[a183_0x3b14('0x14')]();if(_0x5b7ef5){_0x417605[a183_0x3b14('0x19')]('errors',_0x5b7ef5);return _0x2e8281[a183_0x3b14('0x9')](a183_0x3b14('0x31'));}User_1[a183_0x3b14('0x27')][a183_0x3b14('0x32')](_0x417605['user']['id'],(_0x3b6c8f,_0x1b11d8)=>{if(_0x3b6c8f){return _0x559052(_0x3b6c8f);}_0x1b11d8[a183_0x3b14('0xd')]=_0x417605[a183_0x3b14('0x25')][a183_0x3b14('0xd')]||'';_0x1b11d8[a183_0x3b14('0x33')][a183_0x3b14('0x34')]=_0x417605[a183_0x3b14('0x25')][a183_0x3b14('0x34')]||'';_0x1b11d8['profile']['gender']=_0x417605[a183_0x3b14('0x25')][a183_0x3b14('0x35')]||'';_0x1b11d8[a183_0x3b14('0x33')][a183_0x3b14('0x36')]=_0x417605[a183_0x3b14('0x25')]['location']||'';_0x1b11d8[a183_0x3b14('0x33')][a183_0x3b14('0x37')]=_0x417605[a183_0x3b14('0x25')]['website']||'';_0x1b11d8[a183_0x3b14('0x2a')](_0x3b6c8f=>{if(_0x3b6c8f){if(_0x3b6c8f[a183_0x3b14('0x38')]===0x2af8){_0x417605[a183_0x3b14('0x19')](a183_0x3b14('0x15'),{'msg':a183_0x3b14('0x39')});return _0x2e8281[a183_0x3b14('0x9')]('/account');}return _0x559052(_0x3b6c8f);}_0x417605[a183_0x3b14('0x19')](a183_0x3b14('0x3a'),{'msg':a183_0x3b14('0x3b')});_0x2e8281[a183_0x3b14('0x9')](a183_0x3b14('0x31'));});});};exports['postUpdatePassword']=(_0x2fdd89,_0xc05d43,_0x4d5dba)=>{_0x2fdd89[a183_0x3b14('0xc')](a183_0x3b14('0xf'),a183_0x3b14('0x3c'))[a183_0x3b14('0x3d')]({'min':0x4});_0x2fdd89[a183_0x3b14('0xc')](a183_0x3b14('0x22'),a183_0x3b14('0x23'))[a183_0x3b14('0x24')](_0x2fdd89[a183_0x3b14('0x25')][a183_0x3b14('0xf')]);const _0x466131=_0x2fdd89[a183_0x3b14('0x14')]();if(_0x466131){_0x2fdd89[a183_0x3b14('0x19')](a183_0x3b14('0x15'),_0x466131);return _0xc05d43[a183_0x3b14('0x9')](a183_0x3b14('0x31'));}User_1['default'][a183_0x3b14('0x32')](_0x2fdd89[a183_0x3b14('0x8')]['id'],(_0x5633f3,_0x1ebe9a)=>{if(_0x5633f3){return _0x4d5dba(_0x5633f3);}_0x1ebe9a[a183_0x3b14('0xf')]=_0x2fdd89[a183_0x3b14('0x25')][a183_0x3b14('0xf')];_0x1ebe9a[a183_0x3b14('0x2a')](_0x5633f3=>{if(_0x5633f3){return _0x4d5dba(_0x5633f3);}_0x2fdd89[a183_0x3b14('0x19')]('success',{'msg':'Password\x20has\x20been\x20changed.'});_0xc05d43[a183_0x3b14('0x9')]('/account');});});};exports['postDeleteAccount']=(_0x30a799,_0x33b9fb,_0x416965)=>{User_1[a183_0x3b14('0x27')][a183_0x3b14('0x3e')]({'_id':_0x30a799['user']['id']},_0x193655=>{if(_0x193655){return _0x416965(_0x193655);}_0x30a799[a183_0x3b14('0x3f')]();_0x30a799['flash']('info',{'msg':a183_0x3b14('0x40')});_0x33b9fb['redirect']('/');});};exports[a183_0x3b14('0x41')]=(_0x105fb9,_0x5c52bb,_0x12d81c)=>{const _0x530090=_0x105fb9[a183_0x3b14('0x42')][a183_0x3b14('0x43')];User_1[a183_0x3b14('0x27')]['findById'](_0x105fb9['user']['id'],(_0x507add,_0x109d52)=>{if(_0x507add){return _0x12d81c(_0x507add);}_0x109d52[_0x530090]=undefined;_0x109d52[a183_0x3b14('0x44')]=_0x109d52['tokens'][a183_0x3b14('0x45')](_0x5678c6=>_0x5678c6[a183_0x3b14('0x46')]!==_0x530090);_0x109d52[a183_0x3b14('0x2a')](_0x507add=>{if(_0x507add){return _0x12d81c(_0x507add);}_0x105fb9['flash'](a183_0x3b14('0x47'),{'msg':_0x530090+'\x20account\x20has\x20been\x20unlinked.'});_0x5c52bb[a183_0x3b14('0x9')](a183_0x3b14('0x31'));});});};exports[a183_0x3b14('0x48')]=(_0x29718a,_0x3b4419,_0xb3aae0)=>{if(_0x29718a[a183_0x3b14('0x49')]()){return _0x3b4419[a183_0x3b14('0x9')]('/');}User_1[a183_0x3b14('0x27')][a183_0x3b14('0x28')]({'passwordResetToken':_0x29718a[a183_0x3b14('0x42')]['token']})[a183_0x3b14('0x4a')](a183_0x3b14('0x4b'))['gt'](Date['now']())[a183_0x3b14('0x4c')]((_0x5d8be7,_0x5a0743)=>{if(_0x5d8be7){return _0xb3aae0(_0x5d8be7);}if(!_0x5a0743){_0x29718a[a183_0x3b14('0x19')](a183_0x3b14('0x15'),{'msg':a183_0x3b14('0x4d')});return _0x3b4419[a183_0x3b14('0x9')]('/forgot');}_0x3b4419[a183_0x3b14('0xa')](a183_0x3b14('0x4e'),{'title':a183_0x3b14('0x4f')});});};exports[a183_0x3b14('0x50')]=(_0x528f85,_0x18aaf4,_0x43fe2c)=>{_0x528f85[a183_0x3b14('0xc')](a183_0x3b14('0xf'),a183_0x3b14('0x51'))[a183_0x3b14('0x3d')]({'min':0x4});_0x528f85[a183_0x3b14('0xc')]('confirm',a183_0x3b14('0x52'))[a183_0x3b14('0x24')](_0x528f85[a183_0x3b14('0x25')][a183_0x3b14('0xf')]);const _0x19c232=_0x528f85[a183_0x3b14('0x14')]();if(_0x19c232){_0x528f85[a183_0x3b14('0x19')](a183_0x3b14('0x15'),_0x19c232);return _0x18aaf4[a183_0x3b14('0x9')](a183_0x3b14('0x53'));}async_1[a183_0x3b14('0x27')][a183_0x3b14('0x54')]([function resetPassword(_0x18209c){User_1['default']['findOne']({'passwordResetToken':_0x528f85[a183_0x3b14('0x42')]['token']})['where'](a183_0x3b14('0x4b'))['gt'](Date[a183_0x3b14('0x55')]())['exec']((_0x18eb04,_0x50dc7f)=>{if(_0x18eb04){return _0x43fe2c(_0x18eb04);}if(!_0x50dc7f){_0x528f85[a183_0x3b14('0x19')](a183_0x3b14('0x15'),{'msg':a183_0x3b14('0x4d')});return _0x18aaf4[a183_0x3b14('0x9')](a183_0x3b14('0x53'));}_0x50dc7f[a183_0x3b14('0xf')]=_0x528f85[a183_0x3b14('0x25')][a183_0x3b14('0xf')];_0x50dc7f['passwordResetToken']=undefined;_0x50dc7f[a183_0x3b14('0x4b')]=undefined;_0x50dc7f[a183_0x3b14('0x2a')](_0x18eb04=>{if(_0x18eb04){return _0x43fe2c(_0x18eb04);}_0x528f85[a183_0x3b14('0x2b')](_0x50dc7f,_0x18eb04=>{_0x18209c(_0x18eb04,_0x50dc7f);});});});},function sendResetPasswordEmail(_0xe191c4,_0x6f2478){const _0x7c73d2=nodemailer_1[a183_0x3b14('0x27')]['createTransport']({'service':a183_0x3b14('0x56'),'auth':{'user':process[a183_0x3b14('0x57')][a183_0x3b14('0x58')],'pass':process[a183_0x3b14('0x57')][a183_0x3b14('0x59')]}});const _0x5c6d9f={'to':_0xe191c4[a183_0x3b14('0xd')],'from':a183_0x3b14('0x5a'),'subject':a183_0x3b14('0x5b'),'text':a183_0x3b14('0x5c')+_0xe191c4[a183_0x3b14('0xd')]+a183_0x3b14('0x5d')};_0x7c73d2['sendMail'](_0x5c6d9f,_0x28e1e4=>{_0x528f85[a183_0x3b14('0x19')]('success',{'msg':a183_0x3b14('0x5e')});_0x6f2478(_0x28e1e4);});}],_0x3bd929=>{if(_0x3bd929){return _0x43fe2c(_0x3bd929);}_0x18aaf4[a183_0x3b14('0x9')]('/');});};exports[a183_0x3b14('0x5f')]=(_0x1ef3a8,_0x2a5604)=>{if(_0x1ef3a8['isAuthenticated']()){return _0x2a5604['redirect']('/');}_0x2a5604[a183_0x3b14('0xa')](a183_0x3b14('0x60'),{'title':a183_0x3b14('0x61')});};exports[a183_0x3b14('0x62')]=(_0x51412d,_0x1214d8,_0x46bf8a)=>{_0x51412d[a183_0x3b14('0xc')]('email','Please\x20enter\x20a\x20valid\x20email\x20address.')[a183_0x3b14('0xe')]();_0x51412d['sanitize'](a183_0x3b14('0xd'))[a183_0x3b14('0x13')]({'gmail_remove_dots':![]});const _0x1d8fee=_0x51412d[a183_0x3b14('0x14')]();if(_0x1d8fee){_0x51412d['flash'](a183_0x3b14('0x15'),_0x1d8fee);return _0x1214d8[a183_0x3b14('0x9')](a183_0x3b14('0x63'));}async_1[a183_0x3b14('0x27')][a183_0x3b14('0x54')]([function createRandomToken(_0x5d330b){crypto_1[a183_0x3b14('0x27')][a183_0x3b14('0x64')](0x10,(_0x14fd99,_0x14bc76)=>{const _0x4526ca=_0x14bc76[a183_0x3b14('0x65')](a183_0x3b14('0x66'));_0x5d330b(_0x14fd99,_0x4526ca);});},function setRandomToken(_0x21ff72,_0x4aa8f5){User_1[a183_0x3b14('0x27')][a183_0x3b14('0x28')]({'email':_0x51412d[a183_0x3b14('0x25')][a183_0x3b14('0xd')]},(_0x1f4bc8,_0x583eef)=>{if(_0x1f4bc8){return _0x4aa8f5(_0x1f4bc8);}if(!_0x583eef){_0x51412d[a183_0x3b14('0x19')](a183_0x3b14('0x15'),{'msg':a183_0x3b14('0x67')});return _0x1214d8['redirect'](a183_0x3b14('0x63'));}_0x583eef['passwordResetToken']=_0x21ff72;_0x583eef[a183_0x3b14('0x4b')]=Date['now']()+0x36ee80;_0x583eef['save'](_0x1f4bc8=>{_0x4aa8f5(_0x1f4bc8,_0x21ff72,_0x583eef);});});},function sendForgotPasswordEmail(_0x3d68ff,_0x216608,_0x498c1d){const _0xe37e1c=nodemailer_1['default']['createTransport']({'service':'SendGrid','auth':{'user':process[a183_0x3b14('0x57')]['SENDGRID_USER'],'pass':process[a183_0x3b14('0x57')]['SENDGRID_PASSWORD']}});const _0x4692be={'to':_0x216608[a183_0x3b14('0xd')],'from':a183_0x3b14('0x68'),'subject':'Reset\x20your\x20password\x20on\x20Hackathon\x20Starter','text':a183_0x3b14('0x69')+_0x51412d[a183_0x3b14('0x6a')][a183_0x3b14('0x6b')]+a183_0x3b14('0x6c')+_0x3d68ff+a183_0x3b14('0x6d')};_0xe37e1c[a183_0x3b14('0x6e')](_0x4692be,_0x30913=>{_0x51412d[a183_0x3b14('0x19')](a183_0x3b14('0x47'),{'msg':a183_0x3b14('0x6f')+_0x216608['email']+a183_0x3b14('0x70')});_0x498c1d(_0x30913);});}],_0x204574=>{if(_0x204574){return _0x46bf8a(_0x204574);}_0x1214d8[a183_0x3b14('0x9')](a183_0x3b14('0x63'));});};