var a95_0x2f95=['\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20If\x20you\x20did\x20not\x20request\x20this,\x20please\x20ignore\x20this\x20email\x20and\x20your\x20password\x20will\x20remain\x20unchanged.\x0a','An\x20e-mail\x20has\x20been\x20sent\x20to\x20','\x20with\x20further\x20instructions.','__importDefault','__esModule','defineProperty','async','crypto','nodemailer','passport','../models/User','express-validator','getLogin','user','redirect','render','account/login','Login','postLogin','assert','email','isEmail','password','Password\x20cannot\x20be\x20blank','notEmpty','sanitize','normalizeEmail','validationErrors','flash','errors','/login','default','authenticate','local','message','logIn','success','Success!\x20You\x20are\x20logged\x20in.','returnTo','getSignup','account/signup','postSignup','Password\x20must\x20be\x20at\x20least\x204\x20characters\x20long','len','confirmPassword','Passwords\x20do\x20not\x20match','equals','body','/signup','findOne','Account\x20with\x20that\x20email\x20address\x20already\x20exists.','getAccount','Account\x20Management','profile','name','gender','location','website','save','code','The\x20email\x20address\x20you\x20have\x20entered\x20is\x20already\x20associated\x20with\x20an\x20account.','/account','Profile\x20information\x20has\x20been\x20updated.','findById','remove','logout','info','Your\x20account\x20has\x20been\x20deleted.','getOauthUnlink','params','provider','tokens','kind','getReset','isAuthenticated','token','where','passwordResetExpires','now','Password\x20reset\x20token\x20is\x20invalid\x20or\x20has\x20expired.','/forgot','account/reset','Password\x20Reset','postReset','Password\x20must\x20be\x20at\x20least\x204\x20characters\x20long.','confirm','back','waterfall','exec','passwordResetToken','createTransport','env','SENDGRID_USER','SENDGRID_PASSWORD','express-ts@starter.com','Your\x20password\x20has\x20been\x20changed','Hello,\x0a\x0aThis\x20is\x20a\x20confirmation\x20that\x20the\x20password\x20for\x20your\x20account\x20','sendMail','getForgot','postForgot','randomBytes','hex','SendGrid','hackathon@starter.com','headers','host','/reset/'];(function(_0x355135,_0x5e5f8b){var _0x322f6e=function(_0x278bbb){while(--_0x278bbb){_0x355135['push'](_0x355135['shift']());}};_0x322f6e(++_0x5e5f8b);}(a95_0x2f95,0x144));var a95_0x2bbf=function(_0x51300e,_0x35d8f6){_0x51300e=_0x51300e-0x0;var _0x11b3a7=a95_0x2f95[_0x51300e];return _0x11b3a7;};'use strict';var __importDefault=this&&this[a95_0x2bbf('0x0')]||function(_0xc59da9){return _0xc59da9&&_0xc59da9[a95_0x2bbf('0x1')]?_0xc59da9:{'default':_0xc59da9};};Object[a95_0x2bbf('0x2')](exports,a95_0x2bbf('0x1'),{'value':!![]});const async_1=__importDefault(require(a95_0x2bbf('0x3')));const crypto_1=__importDefault(require(a95_0x2bbf('0x4')));const nodemailer_1=__importDefault(require(a95_0x2bbf('0x5')));const passport_1=__importDefault(require(a95_0x2bbf('0x6')));const User_1=__importDefault(require(a95_0x2bbf('0x7')));const request=require(a95_0x2bbf('0x8'));exports[a95_0x2bbf('0x9')]=(_0x2231c9,_0x5f2123)=>{if(_0x2231c9[a95_0x2bbf('0xa')]){return _0x5f2123[a95_0x2bbf('0xb')]('/');}_0x5f2123[a95_0x2bbf('0xc')](a95_0x2bbf('0xd'),{'title':a95_0x2bbf('0xe')});};exports[a95_0x2bbf('0xf')]=(_0x4d071a,_0x3b66e5,_0x220c88)=>{_0x4d071a[a95_0x2bbf('0x10')](a95_0x2bbf('0x11'),'Email\x20is\x20not\x20valid')[a95_0x2bbf('0x12')]();_0x4d071a[a95_0x2bbf('0x10')](a95_0x2bbf('0x13'),a95_0x2bbf('0x14'))[a95_0x2bbf('0x15')]();_0x4d071a[a95_0x2bbf('0x16')](a95_0x2bbf('0x11'))[a95_0x2bbf('0x17')]({'gmail_remove_dots':![]});const _0x341378=_0x4d071a[a95_0x2bbf('0x18')]();if(_0x341378){_0x4d071a[a95_0x2bbf('0x19')](a95_0x2bbf('0x1a'),_0x341378);return _0x3b66e5[a95_0x2bbf('0xb')](a95_0x2bbf('0x1b'));}passport_1[a95_0x2bbf('0x1c')][a95_0x2bbf('0x1d')](a95_0x2bbf('0x1e'),(_0x1ceb44,_0x4c6fa7,_0x5214ac)=>{if(_0x1ceb44){return _0x220c88(_0x1ceb44);}if(!_0x4c6fa7){_0x4d071a[a95_0x2bbf('0x19')](a95_0x2bbf('0x1a'),_0x5214ac[a95_0x2bbf('0x1f')]);return _0x3b66e5[a95_0x2bbf('0xb')](a95_0x2bbf('0x1b'));}_0x4d071a[a95_0x2bbf('0x20')](_0x4c6fa7,_0x1ceb44=>{if(_0x1ceb44){return _0x220c88(_0x1ceb44);}_0x4d071a[a95_0x2bbf('0x19')](a95_0x2bbf('0x21'),{'msg':a95_0x2bbf('0x22')});_0x3b66e5[a95_0x2bbf('0xb')](_0x4d071a['session'][a95_0x2bbf('0x23')]||'/');});})(_0x4d071a,_0x3b66e5,_0x220c88);};exports['logout']=(_0xe64c72,_0x129cf5)=>{_0xe64c72['logout']();_0x129cf5[a95_0x2bbf('0xb')]('/');};exports[a95_0x2bbf('0x24')]=(_0x4428b6,_0x491345)=>{if(_0x4428b6[a95_0x2bbf('0xa')]){return _0x491345['redirect']('/');}_0x491345['render'](a95_0x2bbf('0x25'),{'title':'Create\x20Account'});};exports[a95_0x2bbf('0x26')]=(_0x16a4f2,_0x179878,_0x61fa71)=>{_0x16a4f2[a95_0x2bbf('0x10')](a95_0x2bbf('0x11'),'Email\x20is\x20not\x20valid')['isEmail']();_0x16a4f2['assert'](a95_0x2bbf('0x13'),a95_0x2bbf('0x27'))[a95_0x2bbf('0x28')]({'min':0x4});_0x16a4f2['assert'](a95_0x2bbf('0x29'),a95_0x2bbf('0x2a'))[a95_0x2bbf('0x2b')](_0x16a4f2[a95_0x2bbf('0x2c')][a95_0x2bbf('0x13')]);_0x16a4f2[a95_0x2bbf('0x16')](a95_0x2bbf('0x11'))[a95_0x2bbf('0x17')]({'gmail_remove_dots':![]});const _0x4da7cc=_0x16a4f2[a95_0x2bbf('0x18')]();if(_0x4da7cc){_0x16a4f2[a95_0x2bbf('0x19')](a95_0x2bbf('0x1a'),_0x4da7cc);return _0x179878['redirect'](a95_0x2bbf('0x2d'));}const _0x1767da=new User_1[(a95_0x2bbf('0x1c'))]({'email':_0x16a4f2[a95_0x2bbf('0x2c')][a95_0x2bbf('0x11')],'password':_0x16a4f2[a95_0x2bbf('0x2c')][a95_0x2bbf('0x13')]});User_1[a95_0x2bbf('0x1c')][a95_0x2bbf('0x2e')]({'email':_0x16a4f2['body'][a95_0x2bbf('0x11')]},(_0x14a2b3,_0x52e6bd)=>{if(_0x14a2b3){return _0x61fa71(_0x14a2b3);}if(_0x52e6bd){_0x16a4f2[a95_0x2bbf('0x19')](a95_0x2bbf('0x1a'),{'msg':a95_0x2bbf('0x2f')});return _0x179878[a95_0x2bbf('0xb')]('/signup');}_0x1767da['save'](_0x14a2b3=>{if(_0x14a2b3){return _0x61fa71(_0x14a2b3);}_0x16a4f2[a95_0x2bbf('0x20')](_0x1767da,_0x14a2b3=>{if(_0x14a2b3){return _0x61fa71(_0x14a2b3);}_0x179878[a95_0x2bbf('0xb')]('/');});});});};exports[a95_0x2bbf('0x30')]=(_0x228364,_0x382588)=>{_0x382588[a95_0x2bbf('0xc')]('account/profile',{'title':a95_0x2bbf('0x31')});};exports['postUpdateProfile']=(_0x507320,_0x499b22,_0xae9e10)=>{_0x507320['assert'](a95_0x2bbf('0x11'),'Please\x20enter\x20a\x20valid\x20email\x20address.')['isEmail']();_0x507320[a95_0x2bbf('0x16')](a95_0x2bbf('0x11'))[a95_0x2bbf('0x17')]({'gmail_remove_dots':![]});const _0x362aaa=_0x507320['validationErrors']();if(_0x362aaa){_0x507320[a95_0x2bbf('0x19')](a95_0x2bbf('0x1a'),_0x362aaa);return _0x499b22['redirect']('/account');}User_1[a95_0x2bbf('0x1c')]['findById'](_0x507320['user']['id'],(_0x4473c6,_0x59212e)=>{if(_0x4473c6){return _0xae9e10(_0x4473c6);}_0x59212e[a95_0x2bbf('0x11')]=_0x507320[a95_0x2bbf('0x2c')][a95_0x2bbf('0x11')]||'';_0x59212e[a95_0x2bbf('0x32')][a95_0x2bbf('0x33')]=_0x507320[a95_0x2bbf('0x2c')][a95_0x2bbf('0x33')]||'';_0x59212e['profile'][a95_0x2bbf('0x34')]=_0x507320['body'][a95_0x2bbf('0x34')]||'';_0x59212e['profile'][a95_0x2bbf('0x35')]=_0x507320[a95_0x2bbf('0x2c')][a95_0x2bbf('0x35')]||'';_0x59212e['profile'][a95_0x2bbf('0x36')]=_0x507320[a95_0x2bbf('0x2c')]['website']||'';_0x59212e[a95_0x2bbf('0x37')](_0x4473c6=>{if(_0x4473c6){if(_0x4473c6[a95_0x2bbf('0x38')]===0x2af8){_0x507320[a95_0x2bbf('0x19')](a95_0x2bbf('0x1a'),{'msg':a95_0x2bbf('0x39')});return _0x499b22[a95_0x2bbf('0xb')](a95_0x2bbf('0x3a'));}return _0xae9e10(_0x4473c6);}_0x507320[a95_0x2bbf('0x19')](a95_0x2bbf('0x21'),{'msg':a95_0x2bbf('0x3b')});_0x499b22[a95_0x2bbf('0xb')](a95_0x2bbf('0x3a'));});});};exports['postUpdatePassword']=(_0x3a8cdc,_0x5973a2,_0x7295c)=>{_0x3a8cdc['assert']('password',a95_0x2bbf('0x27'))['len']({'min':0x4});_0x3a8cdc['assert'](a95_0x2bbf('0x29'),a95_0x2bbf('0x2a'))[a95_0x2bbf('0x2b')](_0x3a8cdc['body'][a95_0x2bbf('0x13')]);const _0x472b1d=_0x3a8cdc[a95_0x2bbf('0x18')]();if(_0x472b1d){_0x3a8cdc[a95_0x2bbf('0x19')](a95_0x2bbf('0x1a'),_0x472b1d);return _0x5973a2['redirect'](a95_0x2bbf('0x3a'));}User_1[a95_0x2bbf('0x1c')][a95_0x2bbf('0x3c')](_0x3a8cdc[a95_0x2bbf('0xa')]['id'],(_0x1d62b4,_0x3b3b64)=>{if(_0x1d62b4){return _0x7295c(_0x1d62b4);}_0x3b3b64['password']=_0x3a8cdc['body'][a95_0x2bbf('0x13')];_0x3b3b64['save'](_0x1d62b4=>{if(_0x1d62b4){return _0x7295c(_0x1d62b4);}_0x3a8cdc['flash'](a95_0x2bbf('0x21'),{'msg':'Password\x20has\x20been\x20changed.'});_0x5973a2['redirect'](a95_0x2bbf('0x3a'));});});};exports['postDeleteAccount']=(_0x1d6fde,_0xfca611,_0x308eb8)=>{User_1['default'][a95_0x2bbf('0x3d')]({'_id':_0x1d6fde['user']['id']},_0x2e2e73=>{if(_0x2e2e73){return _0x308eb8(_0x2e2e73);}_0x1d6fde[a95_0x2bbf('0x3e')]();_0x1d6fde[a95_0x2bbf('0x19')](a95_0x2bbf('0x3f'),{'msg':a95_0x2bbf('0x40')});_0xfca611[a95_0x2bbf('0xb')]('/');});};exports[a95_0x2bbf('0x41')]=(_0x463d92,_0x436b2a,_0x1f7cba)=>{const _0x20b190=_0x463d92[a95_0x2bbf('0x42')][a95_0x2bbf('0x43')];User_1[a95_0x2bbf('0x1c')][a95_0x2bbf('0x3c')](_0x463d92['user']['id'],(_0x2cb4a5,_0x14c892)=>{if(_0x2cb4a5){return _0x1f7cba(_0x2cb4a5);}_0x14c892[_0x20b190]=undefined;_0x14c892[a95_0x2bbf('0x44')]=_0x14c892[a95_0x2bbf('0x44')]['filter'](_0x3c0ebe=>_0x3c0ebe[a95_0x2bbf('0x45')]!==_0x20b190);_0x14c892[a95_0x2bbf('0x37')](_0x2cb4a5=>{if(_0x2cb4a5){return _0x1f7cba(_0x2cb4a5);}_0x463d92[a95_0x2bbf('0x19')](a95_0x2bbf('0x3f'),{'msg':_0x20b190+'\x20account\x20has\x20been\x20unlinked.'});_0x436b2a[a95_0x2bbf('0xb')](a95_0x2bbf('0x3a'));});});};exports[a95_0x2bbf('0x46')]=(_0x588292,_0x4e1a82,_0x59d089)=>{if(_0x588292[a95_0x2bbf('0x47')]()){return _0x4e1a82[a95_0x2bbf('0xb')]('/');}User_1[a95_0x2bbf('0x1c')][a95_0x2bbf('0x2e')]({'passwordResetToken':_0x588292[a95_0x2bbf('0x42')][a95_0x2bbf('0x48')]})[a95_0x2bbf('0x49')](a95_0x2bbf('0x4a'))['gt'](Date[a95_0x2bbf('0x4b')]())['exec']((_0x40caa6,_0x5c2bb3)=>{if(_0x40caa6){return _0x59d089(_0x40caa6);}if(!_0x5c2bb3){_0x588292[a95_0x2bbf('0x19')](a95_0x2bbf('0x1a'),{'msg':a95_0x2bbf('0x4c')});return _0x4e1a82['redirect'](a95_0x2bbf('0x4d'));}_0x4e1a82[a95_0x2bbf('0xc')](a95_0x2bbf('0x4e'),{'title':a95_0x2bbf('0x4f')});});};exports[a95_0x2bbf('0x50')]=(_0x36f731,_0xc7c2c,_0x5b7bf7)=>{_0x36f731[a95_0x2bbf('0x10')](a95_0x2bbf('0x13'),a95_0x2bbf('0x51'))[a95_0x2bbf('0x28')]({'min':0x4});_0x36f731[a95_0x2bbf('0x10')](a95_0x2bbf('0x52'),'Passwords\x20must\x20match.')[a95_0x2bbf('0x2b')](_0x36f731[a95_0x2bbf('0x2c')][a95_0x2bbf('0x13')]);const _0x13ee05=_0x36f731['validationErrors']();if(_0x13ee05){_0x36f731[a95_0x2bbf('0x19')](a95_0x2bbf('0x1a'),_0x13ee05);return _0xc7c2c['redirect'](a95_0x2bbf('0x53'));}async_1[a95_0x2bbf('0x1c')][a95_0x2bbf('0x54')]([function resetPassword(_0x4e879c){User_1['default']['findOne']({'passwordResetToken':_0x36f731[a95_0x2bbf('0x42')][a95_0x2bbf('0x48')]})[a95_0x2bbf('0x49')]('passwordResetExpires')['gt'](Date[a95_0x2bbf('0x4b')]())[a95_0x2bbf('0x55')]((_0x254c1a,_0x13450c)=>{if(_0x254c1a){return _0x5b7bf7(_0x254c1a);}if(!_0x13450c){_0x36f731[a95_0x2bbf('0x19')]('errors',{'msg':a95_0x2bbf('0x4c')});return _0xc7c2c['redirect']('back');}_0x13450c[a95_0x2bbf('0x13')]=_0x36f731['body'][a95_0x2bbf('0x13')];_0x13450c[a95_0x2bbf('0x56')]=undefined;_0x13450c[a95_0x2bbf('0x4a')]=undefined;_0x13450c['save'](_0x254c1a=>{if(_0x254c1a){return _0x5b7bf7(_0x254c1a);}_0x36f731[a95_0x2bbf('0x20')](_0x13450c,_0x254c1a=>{_0x4e879c(_0x254c1a,_0x13450c);});});});},function sendResetPasswordEmail(_0x9ec92b,_0x451539){const _0x2e2763=nodemailer_1['default'][a95_0x2bbf('0x57')]({'service':'SendGrid','auth':{'user':process[a95_0x2bbf('0x58')][a95_0x2bbf('0x59')],'pass':process[a95_0x2bbf('0x58')][a95_0x2bbf('0x5a')]}});const _0x3e64d9={'to':_0x9ec92b[a95_0x2bbf('0x11')],'from':a95_0x2bbf('0x5b'),'subject':a95_0x2bbf('0x5c'),'text':a95_0x2bbf('0x5d')+_0x9ec92b[a95_0x2bbf('0x11')]+'\x20has\x20just\x20been\x20changed.\x0a'};_0x2e2763[a95_0x2bbf('0x5e')](_0x3e64d9,_0x41b1b8=>{_0x36f731[a95_0x2bbf('0x19')](a95_0x2bbf('0x21'),{'msg':'Success!\x20Your\x20password\x20has\x20been\x20changed.'});_0x451539(_0x41b1b8);});}],_0x3ef191=>{if(_0x3ef191){return _0x5b7bf7(_0x3ef191);}_0xc7c2c[a95_0x2bbf('0xb')]('/');});};exports[a95_0x2bbf('0x5f')]=(_0x23021b,_0x1a8936)=>{if(_0x23021b['isAuthenticated']()){return _0x1a8936[a95_0x2bbf('0xb')]('/');}_0x1a8936[a95_0x2bbf('0xc')]('account/forgot',{'title':'Forgot\x20Password'});};exports[a95_0x2bbf('0x60')]=(_0x20069c,_0x443fd4,_0x1c8738)=>{_0x20069c[a95_0x2bbf('0x10')]('email','Please\x20enter\x20a\x20valid\x20email\x20address.')['isEmail']();_0x20069c[a95_0x2bbf('0x16')](a95_0x2bbf('0x11'))[a95_0x2bbf('0x17')]({'gmail_remove_dots':![]});const _0x32eafd=_0x20069c[a95_0x2bbf('0x18')]();if(_0x32eafd){_0x20069c['flash']('errors',_0x32eafd);return _0x443fd4[a95_0x2bbf('0xb')](a95_0x2bbf('0x4d'));}async_1[a95_0x2bbf('0x1c')]['waterfall']([function createRandomToken(_0x5051e5){crypto_1['default'][a95_0x2bbf('0x61')](0x10,(_0x2b5db0,_0x115e1f)=>{const _0x48d1ee=_0x115e1f['toString'](a95_0x2bbf('0x62'));_0x5051e5(_0x2b5db0,_0x48d1ee);});},function setRandomToken(_0xaeaf11,_0x52c8ca){User_1[a95_0x2bbf('0x1c')][a95_0x2bbf('0x2e')]({'email':_0x20069c[a95_0x2bbf('0x2c')][a95_0x2bbf('0x11')]},(_0x22d8c6,_0x54c280)=>{if(_0x22d8c6){return _0x52c8ca(_0x22d8c6);}if(!_0x54c280){_0x20069c[a95_0x2bbf('0x19')](a95_0x2bbf('0x1a'),{'msg':'Account\x20with\x20that\x20email\x20address\x20does\x20not\x20exist.'});return _0x443fd4[a95_0x2bbf('0xb')](a95_0x2bbf('0x4d'));}_0x54c280['passwordResetToken']=_0xaeaf11;_0x54c280[a95_0x2bbf('0x4a')]=Date['now']()+0x36ee80;_0x54c280[a95_0x2bbf('0x37')](_0x22d8c6=>{_0x52c8ca(_0x22d8c6,_0xaeaf11,_0x54c280);});});},function sendForgotPasswordEmail(_0x852acc,_0x2a8b04,_0x1a5a5c){const _0x31a25b=nodemailer_1[a95_0x2bbf('0x1c')][a95_0x2bbf('0x57')]({'service':a95_0x2bbf('0x63'),'auth':{'user':process['env'][a95_0x2bbf('0x59')],'pass':process[a95_0x2bbf('0x58')][a95_0x2bbf('0x5a')]}});const _0x1cf6ee={'to':_0x2a8b04[a95_0x2bbf('0x11')],'from':a95_0x2bbf('0x64'),'subject':'Reset\x20your\x20password\x20on\x20Hackathon\x20Starter','text':'You\x20are\x20receiving\x20this\x20email\x20because\x20you\x20(or\x20someone\x20else)\x20have\x20requested\x20the\x20reset\x20of\x20the\x20password\x20for\x20your\x20account.\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Please\x20click\x20on\x20the\x20following\x20link,\x20or\x20paste\x20this\x20into\x20your\x20browser\x20to\x20complete\x20the\x20process:\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20http://'+_0x20069c[a95_0x2bbf('0x65')][a95_0x2bbf('0x66')]+a95_0x2bbf('0x67')+_0x852acc+a95_0x2bbf('0x68')};_0x31a25b['sendMail'](_0x1cf6ee,_0x10177d=>{_0x20069c[a95_0x2bbf('0x19')](a95_0x2bbf('0x3f'),{'msg':a95_0x2bbf('0x69')+_0x2a8b04[a95_0x2bbf('0x11')]+a95_0x2bbf('0x6a')});_0x1a5a5c(_0x10177d);});}],_0x499296=>{if(_0x499296){return _0x1c8738(_0x499296);}_0x443fd4['redirect'](a95_0x2bbf('0x4d'));});};