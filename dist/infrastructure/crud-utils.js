var a94_0x5b20=['deleted_at','findOneAndUpdate','authentication\x20failed','remove','destroy','__esModule','defineProperty','i18n','find','user','length','model','findAll','created_by_user_id','updated_by_user_id','deleted_by_user_id','created_at','updated_at','then','default','toJSONLocalizedOnly','headers','catch','status','send','stack','findById','lang','json','create','body','dataValues'];(function(_0x41b5ff,_0xff9ae8){var _0x3e8ff1=function(_0x567b53){while(--_0x567b53){_0x41b5ff['push'](_0x41b5ff['shift']());}};_0x3e8ff1(++_0xff9ae8);}(a94_0x5b20,0x65));var a94_0x2851=function(_0x2699a9,_0x501e82){_0x2699a9=_0x2699a9-0x0;var _0x5b6c40=a94_0x5b20[_0x2699a9];return _0x5b6c40;};'use strict';var __importDefault=this&&this['__importDefault']||function(_0x2d34f2){return _0x2d34f2&&_0x2d34f2[a94_0x2851('0x0')]?_0x2d34f2:{'default':_0x2d34f2};};Object[a94_0x2851('0x1')](exports,'__esModule',{'value':!![]});const sequelize_utils_1=__importDefault(require('./sequelize-utils'));class CrudUtils{constructor(_0x5b6adf,_0x19f5e8){this['model']=_0x5b6adf;this[a94_0x2851('0x2')]=_0x19f5e8;}[a94_0x2851('0x3')](_0x430acc,_0x2765fe,_0x46a16d){if(!_0x430acc[a94_0x2851('0x4')]||_0x430acc['user'][a94_0x2851('0x5')]==0x0){}this[a94_0x2851('0x6')][a94_0x2851('0x7')]({'attributes':{'exclude':['id',a94_0x2851('0x8'),a94_0x2851('0x9'),a94_0x2851('0xa'),a94_0x2851('0xb'),a94_0x2851('0xc'),'deleted_at']}})[a94_0x2851('0xd')](_0xa2a17e=>{const _0x3546f0=this[a94_0x2851('0x2')]?sequelize_utils_1[a94_0x2851('0xe')][a94_0x2851('0xf')](_0xa2a17e,_0x430acc[a94_0x2851('0x10')]['lang']):_0xa2a17e;return _0x2765fe['json']({'success':!![],'data':_0x3546f0});})[a94_0x2851('0x11')](_0x402929=>{return _0x2765fe[a94_0x2851('0x12')](0x1f4)[a94_0x2851('0x13')]({'success':![],'data':_0x402929[a94_0x2851('0x14')]});});}['findById'](_0x21f044,_0x56d041,_0x1ae108){if(!_0x21f044['user']||_0x21f044[a94_0x2851('0x4')][a94_0x2851('0x5')]==0x0){return _0x56d041[a94_0x2851('0x12')](0x191)[a94_0x2851('0x13')]({'success':![],'data':'authentication\x20failed'});}this['model'][a94_0x2851('0x15')](_0x21f044['params']['id'])['then'](_0x3838bd=>{const _0x1d681e=this['i18n']?sequelize_utils_1[a94_0x2851('0xe')]['toJSONLocalizedOnly'](_0x3838bd,_0x21f044['headers'][a94_0x2851('0x16')]):_0x3838bd;return _0x56d041[a94_0x2851('0x17')]({'success':!![],'data':_0x1d681e});})['catch'](_0x66e4ba=>{return _0x56d041[a94_0x2851('0x12')](0x1f4)[a94_0x2851('0x13')]({'success':![],'data':_0x66e4ba['stack']});});}['save'](_0x59bb99,_0x2f23d0,_0x1a718f){if(!_0x59bb99[a94_0x2851('0x4')]||_0x59bb99[a94_0x2851('0x4')]['length']==0x0){}if(_0x59bb99['user']&&_0x59bb99[a94_0x2851('0x4')][a94_0x2851('0x5')]>0x0){_0x59bb99['body']['created_by_user_id']=_0x59bb99['user'][0x0]['id'];}this[a94_0x2851('0x6')][a94_0x2851('0x18')](_0x59bb99[a94_0x2851('0x19')],{'language_id':_0x59bb99[a94_0x2851('0x10')]['lang']})[a94_0x2851('0xd')](_0x2b9642=>{const _0x33a3e4=this[a94_0x2851('0x2')]?sequelize_utils_1[a94_0x2851('0xe')][a94_0x2851('0xf')](_0x2b9642,_0x59bb99['headers'][a94_0x2851('0x16')]):_0x2b9642;delete _0x33a3e4[a94_0x2851('0x1a')]['id'];delete _0x33a3e4[a94_0x2851('0x1a')][a94_0x2851('0x8')];delete _0x33a3e4[a94_0x2851('0x1a')]['updated_by_user_id'];delete _0x33a3e4[a94_0x2851('0x1a')]['deleted_by_user_id'];delete _0x33a3e4[a94_0x2851('0x1a')][a94_0x2851('0xb')];delete _0x33a3e4[a94_0x2851('0x1a')]['updated_at'];delete _0x33a3e4[a94_0x2851('0x1a')][a94_0x2851('0x1b')];return _0x2f23d0[a94_0x2851('0x17')]({'success':!![],'data':_0x33a3e4});})['catch'](_0x395a00=>{return _0x2f23d0[a94_0x2851('0x12')](0x1f4)[a94_0x2851('0x13')]({'success':![],'data':_0x395a00[a94_0x2851('0x14')]});});}[a94_0x2851('0x1c')](_0xf79270,_0x458cef,_0x1fba49){if(!_0xf79270[a94_0x2851('0x4')]||_0xf79270[a94_0x2851('0x4')][a94_0x2851('0x5')]==0x0){return _0x458cef[a94_0x2851('0x12')](0x191)[a94_0x2851('0x13')]({'success':![],'data':a94_0x2851('0x1d')});}if(_0xf79270[a94_0x2851('0x4')]&&_0xf79270[a94_0x2851('0x4')]['length']>0x0){_0xf79270[a94_0x2851('0x19')]['created_by_user_id']=_0xf79270['user'][0x0]['id'];}this[a94_0x2851('0x6')][a94_0x2851('0x15')](_0xf79270['params']['id'])[a94_0x2851('0xd')](_0x301c69=>{if(_0x301c69==null)return _0x458cef[a94_0x2851('0x17')]({'success':!![],'data':_0x301c69});_0x301c69['update'](_0xf79270[a94_0x2851('0x19')],{'language_id':_0xf79270[a94_0x2851('0x10')][a94_0x2851('0x16')]})[a94_0x2851('0xd')](function(_0x553e9d){const _0x199e1f=this[a94_0x2851('0x2')]?sequelize_utils_1['default']['toJSONLocalizedOnly'](_0x301c69,_0xf79270[a94_0x2851('0x10')][a94_0x2851('0x16')]):_0x301c69;return _0x458cef['json']({'success':!![],'data':_0x199e1f});})[a94_0x2851('0x11')](_0x559261=>{return _0x458cef[a94_0x2851('0x12')](0x1f4)[a94_0x2851('0x13')]({'success':![],'data':_0x559261[a94_0x2851('0x14')]});});})[a94_0x2851('0x11')](_0x4e5f3c=>{return _0x458cef['status'](0x1f4)[a94_0x2851('0x13')]({'success':![],'data':_0x4e5f3c[a94_0x2851('0x14')]});});}[a94_0x2851('0x1e')](_0x16fd78,_0x2f5774,_0x389390){if(!_0x16fd78[a94_0x2851('0x4')]||_0x16fd78[a94_0x2851('0x4')]['length']==0x0){return _0x2f5774[a94_0x2851('0x12')](0x191)[a94_0x2851('0x13')]({'success':![],'data':a94_0x2851('0x1d')});}if(_0x16fd78['user']&&_0x16fd78[a94_0x2851('0x4')][a94_0x2851('0x5')]>0x0){_0x16fd78[a94_0x2851('0x19')][a94_0x2851('0x8')]=_0x16fd78[a94_0x2851('0x4')][0x0]['id'];}this[a94_0x2851('0x6')]['findById'](_0x16fd78['params']['id'])[a94_0x2851('0xd')](_0x44b3fb=>{if(_0x44b3fb==null)return _0x2f5774[a94_0x2851('0x17')]({'success':!![],'data':_0x44b3fb});_0x44b3fb[a94_0x2851('0x1f')]()[a94_0x2851('0xd')](function(_0x28f277){const _0x4250d9=this[a94_0x2851('0x2')]?sequelize_utils_1['default'][a94_0x2851('0xf')](_0x44b3fb,_0x16fd78[a94_0x2851('0x10')][a94_0x2851('0x16')]):_0x44b3fb;return _0x2f5774[a94_0x2851('0x17')]({'success':!![],'data':_0x4250d9});})[a94_0x2851('0x11')](_0x46a8ec=>{return _0x2f5774[a94_0x2851('0x12')](0x1f4)['send']({'success':![],'data':_0x46a8ec[a94_0x2851('0x14')]});});})[a94_0x2851('0x11')](_0x13fb31=>{return _0x2f5774[a94_0x2851('0x12')](0x1f4)['send']({'success':![],'data':_0x13fb31[a94_0x2851('0x14')]});});}}exports['default']=CrudUtils;