var a94_0x237c=['catch','status','stack','findById','send','authentication\x20failed','params','save','created_by_user_id','create','body','dataValues','updated_by_user_id','created_at','update','remove','default','__importDefault','__esModule','defineProperty','./sequelize-utils','i18n','find','user','length','model','findAll','deleted_by_user_id','deleted_at','then','toJSONLocalizedOnly','headers','lang','json'];(function(_0x379498,_0x15d363){var _0xd6109b=function(_0x240d14){while(--_0x240d14){_0x379498['push'](_0x379498['shift']());}};_0xd6109b(++_0x15d363);}(a94_0x237c,0x143));var a94_0x1529=function(_0x522aa3,_0x23ddbd){_0x522aa3=_0x522aa3-0x0;var _0xf28997=a94_0x237c[_0x522aa3];return _0xf28997;};'use strict';var __importDefault=this&&this[a94_0x1529('0x0')]||function(_0x16a3bb){return _0x16a3bb&&_0x16a3bb[a94_0x1529('0x1')]?_0x16a3bb:{'default':_0x16a3bb};};Object[a94_0x1529('0x2')](exports,'__esModule',{'value':!![]});const sequelize_utils_1=__importDefault(require(a94_0x1529('0x3')));class CrudUtils{constructor(_0x5c2fc9,_0x4d6556){this['model']=_0x5c2fc9;this[a94_0x1529('0x4')]=_0x4d6556;}[a94_0x1529('0x5')](_0x3529e2,_0x231dce,_0x52aa9b){if(!_0x3529e2[a94_0x1529('0x6')]||_0x3529e2[a94_0x1529('0x6')][a94_0x1529('0x7')]==0x0){}this[a94_0x1529('0x8')][a94_0x1529('0x9')]({'attributes':{'exclude':['id','created_by_user_id','updated_by_user_id',a94_0x1529('0xa'),'created_at','updated_at',a94_0x1529('0xb')]}})[a94_0x1529('0xc')](_0x15c735=>{const _0x53ac18=this[a94_0x1529('0x4')]?sequelize_utils_1['default'][a94_0x1529('0xd')](_0x15c735,_0x3529e2[a94_0x1529('0xe')][a94_0x1529('0xf')]):_0x15c735;return _0x231dce[a94_0x1529('0x10')]({'success':!![],'data':_0x53ac18});})[a94_0x1529('0x11')](_0x218df5=>{return _0x231dce[a94_0x1529('0x12')](0x1f4)['send']({'success':![],'data':_0x218df5[a94_0x1529('0x13')]});});}[a94_0x1529('0x14')](_0x3e8253,_0xf65b86,_0x331346){if(!_0x3e8253[a94_0x1529('0x6')]||_0x3e8253[a94_0x1529('0x6')][a94_0x1529('0x7')]==0x0){return _0xf65b86[a94_0x1529('0x12')](0x191)[a94_0x1529('0x15')]({'success':![],'data':a94_0x1529('0x16')});}this[a94_0x1529('0x8')]['findById'](_0x3e8253[a94_0x1529('0x17')]['id'])[a94_0x1529('0xc')](_0x3cd5b2=>{const _0x344b0c=this[a94_0x1529('0x4')]?sequelize_utils_1['default'][a94_0x1529('0xd')](_0x3cd5b2,_0x3e8253['headers'][a94_0x1529('0xf')]):_0x3cd5b2;return _0xf65b86['json']({'success':!![],'data':_0x344b0c});})[a94_0x1529('0x11')](_0x30b578=>{return _0xf65b86['status'](0x1f4)['send']({'success':![],'data':_0x30b578[a94_0x1529('0x13')]});});}[a94_0x1529('0x18')](_0x113954,_0x1428c8,_0x3790c2){if(!_0x113954[a94_0x1529('0x6')]||_0x113954['user']['length']==0x0){}if(_0x113954[a94_0x1529('0x6')]&&_0x113954[a94_0x1529('0x6')][a94_0x1529('0x7')]>0x0){_0x113954['body'][a94_0x1529('0x19')]=_0x113954[a94_0x1529('0x6')][0x0]['id'];}this[a94_0x1529('0x8')][a94_0x1529('0x1a')](_0x113954[a94_0x1529('0x1b')],{'language_id':_0x113954['headers'][a94_0x1529('0xf')]})[a94_0x1529('0xc')](_0x4bc017=>{const _0x5cdec3=this[a94_0x1529('0x4')]?sequelize_utils_1['default'][a94_0x1529('0xd')](_0x4bc017,_0x113954[a94_0x1529('0xe')]['lang']):_0x4bc017;delete _0x5cdec3[a94_0x1529('0x1c')]['id'];delete _0x5cdec3[a94_0x1529('0x1c')][a94_0x1529('0x19')];delete _0x5cdec3['dataValues'][a94_0x1529('0x1d')];delete _0x5cdec3['dataValues'][a94_0x1529('0xa')];delete _0x5cdec3[a94_0x1529('0x1c')][a94_0x1529('0x1e')];delete _0x5cdec3[a94_0x1529('0x1c')]['updated_at'];delete _0x5cdec3['dataValues'][a94_0x1529('0xb')];return _0x1428c8[a94_0x1529('0x10')]({'success':!![],'data':_0x5cdec3});})['catch'](_0x193894=>{return _0x1428c8['status'](0x1f4)[a94_0x1529('0x15')]({'success':![],'data':_0x193894['stack']});});}['findOneAndUpdate'](_0x39c09c,_0x8ad129,_0x38b76d){if(!_0x39c09c[a94_0x1529('0x6')]||_0x39c09c[a94_0x1529('0x6')][a94_0x1529('0x7')]==0x0){return _0x8ad129['status'](0x191)[a94_0x1529('0x15')]({'success':![],'data':a94_0x1529('0x16')});}if(_0x39c09c[a94_0x1529('0x6')]&&_0x39c09c[a94_0x1529('0x6')][a94_0x1529('0x7')]>0x0){_0x39c09c[a94_0x1529('0x1b')]['created_by_user_id']=_0x39c09c[a94_0x1529('0x6')][0x0]['id'];}this[a94_0x1529('0x8')][a94_0x1529('0x14')](_0x39c09c['params']['id'])[a94_0x1529('0xc')](_0xe325a8=>{if(_0xe325a8==null)return _0x8ad129['json']({'success':!![],'data':_0xe325a8});_0xe325a8[a94_0x1529('0x1f')](_0x39c09c[a94_0x1529('0x1b')],{'language_id':_0x39c09c[a94_0x1529('0xe')]['lang']})[a94_0x1529('0xc')](function(_0x3133bc){const _0x12e637=this[a94_0x1529('0x4')]?sequelize_utils_1['default'][a94_0x1529('0xd')](_0xe325a8,_0x39c09c['headers'][a94_0x1529('0xf')]):_0xe325a8;return _0x8ad129['json']({'success':!![],'data':_0x12e637});})[a94_0x1529('0x11')](_0x1d58c5=>{return _0x8ad129['status'](0x1f4)[a94_0x1529('0x15')]({'success':![],'data':_0x1d58c5[a94_0x1529('0x13')]});});})[a94_0x1529('0x11')](_0x278da1=>{return _0x8ad129['status'](0x1f4)[a94_0x1529('0x15')]({'success':![],'data':_0x278da1[a94_0x1529('0x13')]});});}[a94_0x1529('0x20')](_0x38f3a9,_0x55ec16,_0x3adf08){if(!_0x38f3a9[a94_0x1529('0x6')]||_0x38f3a9[a94_0x1529('0x6')][a94_0x1529('0x7')]==0x0){return _0x55ec16[a94_0x1529('0x12')](0x191)[a94_0x1529('0x15')]({'success':![],'data':'authentication\x20failed'});}if(_0x38f3a9['user']&&_0x38f3a9[a94_0x1529('0x6')]['length']>0x0){_0x38f3a9[a94_0x1529('0x1b')][a94_0x1529('0x19')]=_0x38f3a9[a94_0x1529('0x6')][0x0]['id'];}this[a94_0x1529('0x8')][a94_0x1529('0x14')](_0x38f3a9[a94_0x1529('0x17')]['id'])[a94_0x1529('0xc')](_0x1aa612=>{if(_0x1aa612==null)return _0x55ec16['json']({'success':!![],'data':_0x1aa612});_0x1aa612['destroy']()[a94_0x1529('0xc')](function(_0x57e36a){const _0x1f503c=this[a94_0x1529('0x4')]?sequelize_utils_1[a94_0x1529('0x21')][a94_0x1529('0xd')](_0x1aa612,_0x38f3a9['headers'][a94_0x1529('0xf')]):_0x1aa612;return _0x55ec16[a94_0x1529('0x10')]({'success':!![],'data':_0x1f503c});})[a94_0x1529('0x11')](_0x262768=>{return _0x55ec16[a94_0x1529('0x12')](0x1f4)[a94_0x1529('0x15')]({'success':![],'data':_0x262768[a94_0x1529('0x13')]});});})[a94_0x1529('0x11')](_0x107447=>{return _0x55ec16[a94_0x1529('0x12')](0x1f4)[a94_0x1529('0x15')]({'success':![],'data':_0x107447[a94_0x1529('0x13')]});});}}exports['default']=CrudUtils;