var a98_0x1d80=['remove','destroy','__esModule','defineProperty','./sequelize-utils','model','find','log','user','length','created_by_user_id','deleted_by_user_id','created_at','updated_at','deleted_at','then','i18n','default','toJSONLocalizedOnly','headers','lang','toJSON','json','catch','status','send','stack','findById','authentication\x20failed','params','findByUUId','findAll','save','body','create','dataValues','updated_by_user_id','findByPk','bind','updateOrCreate','findOne','update','findOrCreate','uuid'];(function(_0xb2f106,_0x2585c2){var _0x4cde9f=function(_0x1350de){while(--_0x1350de){_0xb2f106['push'](_0xb2f106['shift']());}};_0x4cde9f(++_0x2585c2);}(a98_0x1d80,0x1ba));var a98_0xd7e0=function(_0x49e6be,_0x319e81){_0x49e6be=_0x49e6be-0x0;var _0x27def2=a98_0x1d80[_0x49e6be];return _0x27def2;};'use strict';var __importDefault=this&&this['__importDefault']||function(_0x4f56ca){return _0x4f56ca&&_0x4f56ca[a98_0xd7e0('0x0')]?_0x4f56ca:{'default':_0x4f56ca};};Object[a98_0xd7e0('0x1')](exports,a98_0xd7e0('0x0'),{'value':!![]});const sequelize_utils_1=__importDefault(require(a98_0xd7e0('0x2')));class CrudUtils{constructor(_0x1684fe,_0xe8a430){this[a98_0xd7e0('0x3')]=_0x1684fe;this['i18n']=_0xe8a430;}[a98_0xd7e0('0x4')](_0x2c8185,_0x60b87a,_0x1436bd,_0x2e6ef0=![]){console[a98_0xd7e0('0x5')](a98_0xd7e0('0x4'));if(!_0x2c8185['user']||_0x2c8185[a98_0xd7e0('0x6')][a98_0xd7e0('0x7')]==0x0){}return this[a98_0xd7e0('0x3')]['findAll']({'attributes':{'exclude':_0x2e6ef0?[]:['id',a98_0xd7e0('0x8'),'updated_by_user_id',a98_0xd7e0('0x9'),a98_0xd7e0('0xa'),a98_0xd7e0('0xb'),a98_0xd7e0('0xc')]},'where':{}})[a98_0xd7e0('0xd')](_0xb1b6c3=>{console[a98_0xd7e0('0x5')](_0xb1b6c3);const _0x5361f5=this[a98_0xd7e0('0xe')]?sequelize_utils_1[a98_0xd7e0('0xf')][a98_0xd7e0('0x10')](_0xb1b6c3,_0x2c8185[a98_0xd7e0('0x11')][a98_0xd7e0('0x12')]):sequelize_utils_1['default'][a98_0xd7e0('0x13')](_0xb1b6c3);if(_0x60b87a){return _0x60b87a[a98_0xd7e0('0x14')]({'success':!![],'data':_0x5361f5});}else{return _0x5361f5;}})[a98_0xd7e0('0x15')](_0x519e41=>{if(_0x60b87a){return _0x60b87a[a98_0xd7e0('0x16')](0x1f4)[a98_0xd7e0('0x17')]({'success':![],'data':_0x519e41[a98_0xd7e0('0x18')]});}else{return _0x519e41[a98_0xd7e0('0x18')];}});}[a98_0xd7e0('0x19')](_0x251223,_0x2b84cb,_0x3624e0){if(!_0x251223[a98_0xd7e0('0x6')]||_0x251223['user'][a98_0xd7e0('0x7')]==0x0){return _0x2b84cb['status'](0x191)['send']({'success':![],'data':a98_0xd7e0('0x1a')});}this['model']['findById'](_0x251223[a98_0xd7e0('0x1b')]['id'])[a98_0xd7e0('0xd')](_0xb562f3=>{const _0x5e5994=this['i18n']?sequelize_utils_1[a98_0xd7e0('0xf')]['toJSONLocalizedOnly'](_0xb562f3,_0x251223[a98_0xd7e0('0x11')][a98_0xd7e0('0x12')]):_0xb562f3;return _0x2b84cb[a98_0xd7e0('0x14')]({'success':!![],'data':_0x5e5994});})['catch'](_0x465f48=>{return _0x2b84cb[a98_0xd7e0('0x16')](0x1f4)['send']({'success':![],'data':_0x465f48['stack']});});}[a98_0xd7e0('0x1c')](_0x3768af,_0x3e46bc,_0x40ccec){if(!_0x3768af[a98_0xd7e0('0x6')]||_0x3768af[a98_0xd7e0('0x6')][a98_0xd7e0('0x7')]==0x0){}return this[a98_0xd7e0('0x3')][a98_0xd7e0('0x1d')]({'where':{'uuid':_0x3768af['params']['uuid']}})[a98_0xd7e0('0xd')](_0x22b0b5=>{const _0x1a188d=this[a98_0xd7e0('0xe')]?sequelize_utils_1[a98_0xd7e0('0xf')]['toJSONLocalizedOnly'](_0x22b0b5,_0x3768af[a98_0xd7e0('0x11')][a98_0xd7e0('0x12')]):sequelize_utils_1[a98_0xd7e0('0xf')][a98_0xd7e0('0x13')](_0x22b0b5);return _0x1a188d;})[a98_0xd7e0('0x15')](_0x3fc23d=>{return _0x3fc23d['stack'];});}[a98_0xd7e0('0x1e')](_0x4c78eb,_0x3a776c,_0x4495b9){if(!_0x4c78eb[a98_0xd7e0('0x6')]||_0x4c78eb[a98_0xd7e0('0x6')][a98_0xd7e0('0x7')]==0x0){}if(_0x4c78eb['user']&&_0x4c78eb[a98_0xd7e0('0x6')]['length']>0x0){_0x4c78eb[a98_0xd7e0('0x1f')][a98_0xd7e0('0x8')]=_0x4c78eb[a98_0xd7e0('0x6')][0x0]['id'];}return this['model'][a98_0xd7e0('0x20')](_0x4c78eb['body'],this[a98_0xd7e0('0xe')]?{'language_id':_0x4c78eb['headers']['lang']}:{})[a98_0xd7e0('0xd')](_0x275f0=>{const _0x4ca9fa=this[a98_0xd7e0('0xe')]?sequelize_utils_1['default'][a98_0xd7e0('0x10')](_0x275f0,_0x4c78eb[a98_0xd7e0('0x11')][a98_0xd7e0('0x12')]):_0x275f0;delete _0x4ca9fa[a98_0xd7e0('0x21')]['id'];delete _0x4ca9fa[a98_0xd7e0('0x21')][a98_0xd7e0('0x8')];delete _0x4ca9fa['dataValues'][a98_0xd7e0('0x22')];delete _0x4ca9fa[a98_0xd7e0('0x21')][a98_0xd7e0('0x9')];delete _0x4ca9fa[a98_0xd7e0('0x21')][a98_0xd7e0('0xa')];delete _0x4ca9fa[a98_0xd7e0('0x21')]['updated_at'];delete _0x4ca9fa['dataValues'][a98_0xd7e0('0xc')];if(_0x3a776c){return _0x3a776c[a98_0xd7e0('0x14')]({'success':!![],'data':_0x4ca9fa});}else{return _0x4ca9fa;}})[a98_0xd7e0('0x15')](_0x3b5401=>{if(_0x3a776c){return _0x3a776c['status'](0x1f4)[a98_0xd7e0('0x17')]({'success':![],'data':_0x3b5401['stack']});}else{return _0x3b5401[a98_0xd7e0('0x18')];}});}['findOneAndUpdate'](_0x28e141,_0x3f9ebb,_0x18a8c0){if(!_0x28e141[a98_0xd7e0('0x6')]||_0x28e141[a98_0xd7e0('0x6')][a98_0xd7e0('0x7')]==0x0){}if(_0x28e141[a98_0xd7e0('0x6')]&&_0x28e141['user'][a98_0xd7e0('0x7')]>0x0){_0x28e141[a98_0xd7e0('0x1f')][a98_0xd7e0('0x8')]=_0x28e141[a98_0xd7e0('0x6')][0x0]['id'];}this['model'][a98_0xd7e0('0x23')](_0x28e141[a98_0xd7e0('0x1f')]['id'])[a98_0xd7e0('0xd')](_0x1c5761=>{if(_0x1c5761==null)return _0x3f9ebb[a98_0xd7e0('0x14')]({'success':!![],'data':_0x1c5761});_0x1c5761['update'](_0x28e141[a98_0xd7e0('0x1f')],{'language_id':_0x28e141[a98_0xd7e0('0x11')][a98_0xd7e0('0x12')]})['then'](function(_0x269c54){const _0x44917d=this[a98_0xd7e0('0xe')]?sequelize_utils_1[a98_0xd7e0('0xf')][a98_0xd7e0('0x10')](_0x1c5761,_0x28e141[a98_0xd7e0('0x11')][a98_0xd7e0('0x12')]):_0x1c5761;return _0x3f9ebb[a98_0xd7e0('0x14')]({'success':!![],'data':_0x44917d});}[a98_0xd7e0('0x24')](this))[a98_0xd7e0('0x15')](_0x2e908c=>{return _0x3f9ebb[a98_0xd7e0('0x16')](0x1f4)[a98_0xd7e0('0x17')]({'success':![],'data':_0x2e908c['stack']});});})[a98_0xd7e0('0x15')](_0x1dacfd=>{return _0x3f9ebb[a98_0xd7e0('0x16')](0x1f4)['send']({'success':![],'data':_0x1dacfd[a98_0xd7e0('0x18')]});});}[a98_0xd7e0('0x25')](_0x5b633b,_0x44f9a0,_0x502223,_0x1efe07=![]){if(!_0x5b633b['user']||_0x5b633b[a98_0xd7e0('0x6')][a98_0xd7e0('0x7')]==0x0){}if(_0x5b633b[a98_0xd7e0('0x6')]&&_0x5b633b[a98_0xd7e0('0x6')][a98_0xd7e0('0x7')]>0x0){_0x5b633b[a98_0xd7e0('0x1f')][a98_0xd7e0('0x8')]=_0x5b633b[a98_0xd7e0('0x6')][0x0]['id'];}console[a98_0xd7e0('0x5')](_0x5b633b[a98_0xd7e0('0x1b')]);return this[a98_0xd7e0('0x3')][a98_0xd7e0('0x26')]({'where':_0x5b633b['params']})[a98_0xd7e0('0xd')](function(_0x3e8297){if(_0x3e8297){return _0x3e8297[a98_0xd7e0('0x27')](_0x5b633b[a98_0xd7e0('0x1f')])[a98_0xd7e0('0xd')](function(_0x596744){const _0x1d60b6=_0x596744[a98_0xd7e0('0x21')];if(_0x1efe07){delete _0x1d60b6['id'];}if(_0x44f9a0){return _0x44f9a0[a98_0xd7e0('0x14')]({'success':!![],'data':_0x1d60b6});}else{return _0x1d60b6;}}['bind'](this));}else{return this[a98_0xd7e0('0x3')]['create'](_0x5b633b[a98_0xd7e0('0x1f')])['then'](function(_0x3f9d34){if(_0x44f9a0){return _0x44f9a0['json']({'success':!![],'data':_0x3f9d34[a98_0xd7e0('0x13')]()});}else{return _0x3f9d34;}});}}['bind'](this))[a98_0xd7e0('0x15')](_0x202184=>{if(_0x44f9a0){return _0x44f9a0[a98_0xd7e0('0x16')](0x1f4)[a98_0xd7e0('0x17')]({'success':![],'data':_0x202184[a98_0xd7e0('0x18')]});}else{return _0x202184['stack'];}});}[a98_0xd7e0('0x28')](_0x4e1638,_0x3599a4,_0x50134d){if(!_0x4e1638[a98_0xd7e0('0x6')]||_0x4e1638['user'][a98_0xd7e0('0x7')]==0x0){}if(_0x4e1638[a98_0xd7e0('0x6')]&&_0x4e1638[a98_0xd7e0('0x6')]['length']>0x0){_0x4e1638['body'][a98_0xd7e0('0x8')]=_0x4e1638[a98_0xd7e0('0x6')][0x0]['id'];}return this[a98_0xd7e0('0x3')][a98_0xd7e0('0x28')]({'where':{'uuid':_0x4e1638[a98_0xd7e0('0x1f')][a98_0xd7e0('0x29')]},'defaults':_0x4e1638[a98_0xd7e0('0x1f')]})[a98_0xd7e0('0xd')]((_0x4ec4fc,_0xc1fe29)=>{if(_0xc1fe29){}else{}return _0x3599a4['json']({'success':!![],'data':_0x4ec4fc});})[a98_0xd7e0('0x15')](_0x4cbcd5=>{return _0x3599a4[a98_0xd7e0('0x16')](0x1f4)[a98_0xd7e0('0x17')]({'success':![],'data':_0x4cbcd5['stack']});});}[a98_0xd7e0('0x2a')](_0x2573d1,_0x4270ae,_0x25b36a){if(!_0x2573d1[a98_0xd7e0('0x6')]||_0x2573d1['user']['length']==0x0){return _0x4270ae[a98_0xd7e0('0x16')](0x191)[a98_0xd7e0('0x17')]({'success':![],'data':a98_0xd7e0('0x1a')});}if(_0x2573d1[a98_0xd7e0('0x6')]&&_0x2573d1['user']['length']>0x0){_0x2573d1['body'][a98_0xd7e0('0x8')]=_0x2573d1[a98_0xd7e0('0x6')][0x0]['id'];}this[a98_0xd7e0('0x3')][a98_0xd7e0('0x19')](_0x2573d1[a98_0xd7e0('0x1b')]['id'])[a98_0xd7e0('0xd')](_0x391ad5=>{if(_0x391ad5==null)return _0x4270ae[a98_0xd7e0('0x14')]({'success':!![],'data':_0x391ad5});_0x391ad5[a98_0xd7e0('0x2b')]()['then'](function(_0x408eeb){const _0x4e8947=this[a98_0xd7e0('0xe')]?sequelize_utils_1[a98_0xd7e0('0xf')][a98_0xd7e0('0x10')](_0x391ad5,_0x2573d1['headers'][a98_0xd7e0('0x12')]):_0x391ad5;return _0x4270ae['json']({'success':!![],'data':_0x4e8947});})[a98_0xd7e0('0x15')](_0x4bed84=>{return _0x4270ae[a98_0xd7e0('0x16')](0x1f4)[a98_0xd7e0('0x17')]({'success':![],'data':_0x4bed84[a98_0xd7e0('0x18')]});});})[a98_0xd7e0('0x15')](_0x4a12ea=>{return _0x4270ae[a98_0xd7e0('0x16')](0x1f4)[a98_0xd7e0('0x17')]({'success':![],'data':_0x4a12ea[a98_0xd7e0('0x18')]});});}}exports[a98_0xd7e0('0xf')]=CrudUtils;