var a99_0x4102=['findByPk','update','bind','updateOrCreate','log','findOne','findOrCreate','remove','destroy','defineProperty','__esModule','./sequelize-utils','model','i18n','find','user','length','created_by_user_id','updated_by_user_id','deleted_by_user_id','created_at','updated_at','deleted_at','then','toJSONLocalizedOnly','headers','lang','default','toJSON','json','catch','status','send','stack','findById','authentication\x20failed','params','findAll','uuid','save','body','create','dataValues','findOneAndUpdate'];(function(_0x55937f,_0x35bc85){var _0x1327aa=function(_0x3a5d43){while(--_0x3a5d43){_0x55937f['push'](_0x55937f['shift']());}};_0x1327aa(++_0x35bc85);}(a99_0x4102,0xb9));var a99_0x9313=function(_0x1e0094,_0x1e16f4){_0x1e0094=_0x1e0094-0x0;var _0xe64313=a99_0x4102[_0x1e0094];return _0xe64313;};'use strict';var __importDefault=this&&this['__importDefault']||function(_0x265796){return _0x265796&&_0x265796['__esModule']?_0x265796:{'default':_0x265796};};Object[a99_0x9313('0x0')](exports,a99_0x9313('0x1'),{'value':!![]});const sequelize_utils_1=__importDefault(require(a99_0x9313('0x2')));class CrudUtils{constructor(_0x982b1b,_0x51d604){this[a99_0x9313('0x3')]=_0x982b1b;this[a99_0x9313('0x4')]=_0x51d604;}[a99_0x9313('0x5')](_0x12765f,_0x1b0d56,_0x2a5bd9,_0x5480a0=![]){if(!_0x12765f[a99_0x9313('0x6')]||_0x12765f['user'][a99_0x9313('0x7')]==0x0){}return this[a99_0x9313('0x3')]['findAll']({'attributes':{'exclude':_0x5480a0?[]:['id',a99_0x9313('0x8'),a99_0x9313('0x9'),a99_0x9313('0xa'),a99_0x9313('0xb'),a99_0x9313('0xc'),a99_0x9313('0xd')]},'where':{}})[a99_0x9313('0xe')](_0x493f05=>{const _0x24c0e4=this['i18n']?sequelize_utils_1['default'][a99_0x9313('0xf')](_0x493f05,_0x12765f[a99_0x9313('0x10')][a99_0x9313('0x11')]):sequelize_utils_1[a99_0x9313('0x12')][a99_0x9313('0x13')](_0x493f05);if(_0x1b0d56){return _0x1b0d56[a99_0x9313('0x14')]({'success':!![],'data':_0x24c0e4});}else{return _0x24c0e4;}})[a99_0x9313('0x15')](_0x2f2d3f=>{if(_0x1b0d56){return _0x1b0d56[a99_0x9313('0x16')](0x1f4)[a99_0x9313('0x17')]({'success':![],'data':_0x2f2d3f[a99_0x9313('0x18')]});}else{return _0x2f2d3f[a99_0x9313('0x18')];}});}[a99_0x9313('0x19')](_0x355663,_0x1f506d,_0xbd0a5e){if(!_0x355663[a99_0x9313('0x6')]||_0x355663[a99_0x9313('0x6')]['length']==0x0){return _0x1f506d[a99_0x9313('0x16')](0x191)[a99_0x9313('0x17')]({'success':![],'data':a99_0x9313('0x1a')});}this[a99_0x9313('0x3')][a99_0x9313('0x19')](_0x355663[a99_0x9313('0x1b')]['id'])[a99_0x9313('0xe')](_0x48f4ef=>{const _0x5bfa06=this[a99_0x9313('0x4')]?sequelize_utils_1[a99_0x9313('0x12')][a99_0x9313('0xf')](_0x48f4ef,_0x355663[a99_0x9313('0x10')][a99_0x9313('0x11')]):_0x48f4ef;return _0x1f506d[a99_0x9313('0x14')]({'success':!![],'data':_0x5bfa06});})[a99_0x9313('0x15')](_0x242344=>{return _0x1f506d[a99_0x9313('0x16')](0x1f4)[a99_0x9313('0x17')]({'success':![],'data':_0x242344['stack']});});}['findByUUId'](_0x428c77,_0x183e78,_0x423421){if(!_0x428c77[a99_0x9313('0x6')]||_0x428c77[a99_0x9313('0x6')][a99_0x9313('0x7')]==0x0){}return this[a99_0x9313('0x3')][a99_0x9313('0x1c')]({'where':{'uuid':_0x428c77[a99_0x9313('0x1b')][a99_0x9313('0x1d')]}})[a99_0x9313('0xe')](_0x4ea7a6=>{const _0x58991c=this[a99_0x9313('0x4')]?sequelize_utils_1[a99_0x9313('0x12')][a99_0x9313('0xf')](_0x4ea7a6,_0x428c77[a99_0x9313('0x10')][a99_0x9313('0x11')]):sequelize_utils_1['default']['toJSON'](_0x4ea7a6);return _0x58991c;})[a99_0x9313('0x15')](_0x1f1a92=>{return _0x1f1a92[a99_0x9313('0x18')];});}[a99_0x9313('0x1e')](_0x2008c4,_0x468568,_0x233b8d){if(!_0x2008c4[a99_0x9313('0x6')]||_0x2008c4[a99_0x9313('0x6')]['length']==0x0){}if(_0x2008c4[a99_0x9313('0x6')]&&_0x2008c4[a99_0x9313('0x6')][a99_0x9313('0x7')]>0x0){_0x2008c4[a99_0x9313('0x1f')][a99_0x9313('0x8')]=_0x2008c4['user'][0x0]['id'];}return this[a99_0x9313('0x3')][a99_0x9313('0x20')](_0x2008c4[a99_0x9313('0x1f')],this['i18n']?{'language_id':_0x2008c4[a99_0x9313('0x10')][a99_0x9313('0x11')]}:{})['then'](_0x393cd0=>{const _0x3bf841=this[a99_0x9313('0x4')]?sequelize_utils_1[a99_0x9313('0x12')][a99_0x9313('0xf')](_0x393cd0,_0x2008c4[a99_0x9313('0x10')][a99_0x9313('0x11')]):_0x393cd0;delete _0x3bf841[a99_0x9313('0x21')]['id'];delete _0x3bf841[a99_0x9313('0x21')][a99_0x9313('0x8')];delete _0x3bf841[a99_0x9313('0x21')][a99_0x9313('0x9')];delete _0x3bf841['dataValues'][a99_0x9313('0xa')];delete _0x3bf841['dataValues']['created_at'];delete _0x3bf841['dataValues'][a99_0x9313('0xc')];delete _0x3bf841[a99_0x9313('0x21')][a99_0x9313('0xd')];if(_0x468568){return _0x468568[a99_0x9313('0x14')]({'success':!![],'data':_0x3bf841});}else{return _0x3bf841;}})[a99_0x9313('0x15')](_0x4ad4e2=>{if(_0x468568){return _0x468568[a99_0x9313('0x16')](0x1f4)[a99_0x9313('0x17')]({'success':![],'data':_0x4ad4e2[a99_0x9313('0x18')]});}else{return _0x4ad4e2[a99_0x9313('0x18')];}});}[a99_0x9313('0x22')](_0x19ca84,_0x59345a,_0x48c1bc){if(!_0x19ca84[a99_0x9313('0x6')]||_0x19ca84['user'][a99_0x9313('0x7')]==0x0){}if(_0x19ca84[a99_0x9313('0x6')]&&_0x19ca84[a99_0x9313('0x6')][a99_0x9313('0x7')]>0x0){_0x19ca84[a99_0x9313('0x1f')][a99_0x9313('0x8')]=_0x19ca84['user'][0x0]['id'];}this[a99_0x9313('0x3')][a99_0x9313('0x23')](_0x19ca84['body']['id'])['then'](_0x1324fa=>{if(_0x1324fa==null)return _0x59345a[a99_0x9313('0x14')]({'success':!![],'data':_0x1324fa});_0x1324fa[a99_0x9313('0x24')](_0x19ca84[a99_0x9313('0x1f')],{'language_id':_0x19ca84[a99_0x9313('0x10')]['lang']})[a99_0x9313('0xe')](function(_0x31f8ab){const _0xa2fe2f=this[a99_0x9313('0x4')]?sequelize_utils_1['default'][a99_0x9313('0xf')](_0x1324fa,_0x19ca84[a99_0x9313('0x10')]['lang']):_0x1324fa;return _0x59345a['json']({'success':!![],'data':_0xa2fe2f});}[a99_0x9313('0x25')](this))[a99_0x9313('0x15')](_0x4fb85d=>{return _0x59345a[a99_0x9313('0x16')](0x1f4)[a99_0x9313('0x17')]({'success':![],'data':_0x4fb85d[a99_0x9313('0x18')]});});})['catch'](_0x36274a=>{return _0x59345a['status'](0x1f4)[a99_0x9313('0x17')]({'success':![],'data':_0x36274a[a99_0x9313('0x18')]});});}[a99_0x9313('0x26')](_0x213c1f,_0x16e56b,_0x284225,_0x9d04ab=![]){if(!_0x213c1f[a99_0x9313('0x6')]||_0x213c1f['user'][a99_0x9313('0x7')]==0x0){}if(_0x213c1f[a99_0x9313('0x6')]&&_0x213c1f[a99_0x9313('0x6')]['length']>0x0){_0x213c1f[a99_0x9313('0x1f')][a99_0x9313('0x8')]=_0x213c1f['user'][0x0]['id'];}console[a99_0x9313('0x27')](_0x213c1f[a99_0x9313('0x1b')]);return this[a99_0x9313('0x3')][a99_0x9313('0x28')]({'where':_0x213c1f['params']})[a99_0x9313('0xe')](function(_0x35f293){if(_0x35f293){return _0x35f293[a99_0x9313('0x24')](_0x213c1f[a99_0x9313('0x1f')])['then'](function(_0x32af55){const _0x5f53f8=_0x32af55[a99_0x9313('0x21')];if(_0x9d04ab){delete _0x5f53f8['id'];}if(_0x16e56b){return _0x16e56b[a99_0x9313('0x14')]({'success':!![],'data':_0x5f53f8});}else{return _0x5f53f8;}}[a99_0x9313('0x25')](this));}else{return this[a99_0x9313('0x3')][a99_0x9313('0x20')](_0x213c1f[a99_0x9313('0x1f')])[a99_0x9313('0xe')](function(_0x4951cc){if(_0x16e56b){return _0x16e56b[a99_0x9313('0x14')]({'success':!![],'data':_0x4951cc[a99_0x9313('0x13')]()});}else{return _0x4951cc;}});}}[a99_0x9313('0x25')](this))['catch'](_0x34ca65=>{if(_0x16e56b){return _0x16e56b[a99_0x9313('0x16')](0x1f4)[a99_0x9313('0x17')]({'success':![],'data':_0x34ca65[a99_0x9313('0x18')]});}else{return _0x34ca65[a99_0x9313('0x18')];}});}['findOrCreate'](_0x328020,_0x190fde,_0x5482e5){if(!_0x328020[a99_0x9313('0x6')]||_0x328020['user'][a99_0x9313('0x7')]==0x0){}if(_0x328020[a99_0x9313('0x6')]&&_0x328020[a99_0x9313('0x6')][a99_0x9313('0x7')]>0x0){_0x328020[a99_0x9313('0x1f')][a99_0x9313('0x8')]=_0x328020[a99_0x9313('0x6')][0x0]['id'];}return this[a99_0x9313('0x3')][a99_0x9313('0x29')]({'where':{'uuid':_0x328020[a99_0x9313('0x1f')][a99_0x9313('0x1d')]},'defaults':_0x328020[a99_0x9313('0x1f')]})[a99_0x9313('0xe')]((_0x5cc03a,_0x33cce3)=>{if(_0x33cce3){}else{}return _0x190fde[a99_0x9313('0x14')]({'success':!![],'data':_0x5cc03a});})[a99_0x9313('0x15')](_0x54a6a4=>{return _0x190fde[a99_0x9313('0x16')](0x1f4)[a99_0x9313('0x17')]({'success':![],'data':_0x54a6a4['stack']});});}[a99_0x9313('0x2a')](_0x2a039e,_0x3f0e29,_0x5a7c0c){if(!_0x2a039e[a99_0x9313('0x6')]||_0x2a039e[a99_0x9313('0x6')][a99_0x9313('0x7')]==0x0){return _0x3f0e29[a99_0x9313('0x16')](0x191)[a99_0x9313('0x17')]({'success':![],'data':a99_0x9313('0x1a')});}if(_0x2a039e[a99_0x9313('0x6')]&&_0x2a039e[a99_0x9313('0x6')]['length']>0x0){_0x2a039e[a99_0x9313('0x1f')][a99_0x9313('0x8')]=_0x2a039e[a99_0x9313('0x6')][0x0]['id'];}this[a99_0x9313('0x3')]['findById'](_0x2a039e[a99_0x9313('0x1b')]['id'])['then'](_0x53a13b=>{if(_0x53a13b==null)return _0x3f0e29[a99_0x9313('0x14')]({'success':!![],'data':_0x53a13b});_0x53a13b[a99_0x9313('0x2b')]()[a99_0x9313('0xe')](function(_0x5c21fc){const _0x3b2f0a=this[a99_0x9313('0x4')]?sequelize_utils_1[a99_0x9313('0x12')][a99_0x9313('0xf')](_0x53a13b,_0x2a039e['headers'][a99_0x9313('0x11')]):_0x53a13b;return _0x3f0e29[a99_0x9313('0x14')]({'success':!![],'data':_0x3b2f0a});})[a99_0x9313('0x15')](_0x1a890f=>{return _0x3f0e29[a99_0x9313('0x16')](0x1f4)[a99_0x9313('0x17')]({'success':![],'data':_0x1a890f[a99_0x9313('0x18')]});});})[a99_0x9313('0x15')](_0x5d58b4=>{return _0x3f0e29['status'](0x1f4)[a99_0x9313('0x17')]({'success':![],'data':_0x5d58b4[a99_0x9313('0x18')]});});}}exports[a99_0x9313('0x12')]=CrudUtils;