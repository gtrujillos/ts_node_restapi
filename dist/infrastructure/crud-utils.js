var a94_0x3491=['updated_at','deleted_at','default','headers','lang','toJSON','json','catch','status','stack','findById','user','send','params','toJSONLocalizedOnly','findByUUId','uuid','then','body','create','dataValues','findOneAndUpdate','findByPk','update','updateOrCreate','findOne','bind','findOrCreate','remove','__importDefault','__esModule','defineProperty','./sequelize-utils','model','i18n','find','length','findAll','created_by_user_id','updated_by_user_id','deleted_by_user_id','created_at'];(function(_0x3ae493,_0x50c428){var _0x2bf6ef=function(_0x3b74d8){while(--_0x3b74d8){_0x3ae493['push'](_0x3ae493['shift']());}};_0x2bf6ef(++_0x50c428);}(a94_0x3491,0x119));var a94_0x2d6b=function(_0x166bcd,_0x54becf){_0x166bcd=_0x166bcd-0x0;var _0x40ac12=a94_0x3491[_0x166bcd];return _0x40ac12;};'use strict';var __importDefault=this&&this[a94_0x2d6b('0x0')]||function(_0x229de1){return _0x229de1&&_0x229de1[a94_0x2d6b('0x1')]?_0x229de1:{'default':_0x229de1};};Object[a94_0x2d6b('0x2')](exports,a94_0x2d6b('0x1'),{'value':!![]});const sequelize_utils_1=__importDefault(require(a94_0x2d6b('0x3')));class CrudUtils{constructor(_0x59c2f2,_0x4081df){this[a94_0x2d6b('0x4')]=_0x59c2f2;this[a94_0x2d6b('0x5')]=_0x4081df;}[a94_0x2d6b('0x6')](_0x3a44cf,_0x1d2d5d,_0x1c0c6e,_0x2f8d6e=![]){if(!_0x3a44cf['user']||_0x3a44cf['user'][a94_0x2d6b('0x7')]==0x0){}return this[a94_0x2d6b('0x4')][a94_0x2d6b('0x8')]({'attributes':{'exclude':_0x2f8d6e?[]:['id',a94_0x2d6b('0x9'),a94_0x2d6b('0xa'),a94_0x2d6b('0xb'),a94_0x2d6b('0xc'),a94_0x2d6b('0xd'),a94_0x2d6b('0xe')]},'where':{}})['then'](_0x155161=>{const _0x16c162=this[a94_0x2d6b('0x5')]?sequelize_utils_1[a94_0x2d6b('0xf')]['toJSONLocalizedOnly'](_0x155161,_0x3a44cf[a94_0x2d6b('0x10')][a94_0x2d6b('0x11')]):sequelize_utils_1[a94_0x2d6b('0xf')][a94_0x2d6b('0x12')](_0x155161);if(_0x1d2d5d){return _0x1d2d5d[a94_0x2d6b('0x13')]({'success':!![],'data':_0x16c162});}else{return _0x16c162;}})[a94_0x2d6b('0x14')](_0x3e86f7=>{if(_0x1d2d5d){return _0x1d2d5d[a94_0x2d6b('0x15')](0x1f4)['send']({'success':![],'data':_0x3e86f7[a94_0x2d6b('0x16')]});}else{return _0x3e86f7[a94_0x2d6b('0x16')];}});}[a94_0x2d6b('0x17')](_0x10ad2e,_0x1f94d4,_0x1c5614){if(!_0x10ad2e[a94_0x2d6b('0x18')]||_0x10ad2e['user'][a94_0x2d6b('0x7')]==0x0){return _0x1f94d4[a94_0x2d6b('0x15')](0x191)[a94_0x2d6b('0x19')]({'success':![],'data':'authentication\x20failed'});}this[a94_0x2d6b('0x4')]['findById'](_0x10ad2e[a94_0x2d6b('0x1a')]['id'])['then'](_0x5a4ae6=>{const _0x19dec7=this[a94_0x2d6b('0x5')]?sequelize_utils_1['default'][a94_0x2d6b('0x1b')](_0x5a4ae6,_0x10ad2e[a94_0x2d6b('0x10')][a94_0x2d6b('0x11')]):_0x5a4ae6;return _0x1f94d4[a94_0x2d6b('0x13')]({'success':!![],'data':_0x19dec7});})[a94_0x2d6b('0x14')](_0x451535=>{return _0x1f94d4[a94_0x2d6b('0x15')](0x1f4)[a94_0x2d6b('0x19')]({'success':![],'data':_0x451535[a94_0x2d6b('0x16')]});});}[a94_0x2d6b('0x1c')](_0x906bca,_0x18b539,_0x47d98c){if(!_0x906bca[a94_0x2d6b('0x18')]||_0x906bca[a94_0x2d6b('0x18')][a94_0x2d6b('0x7')]==0x0){}return this['model']['findAll']({'where':{'uuid':_0x906bca[a94_0x2d6b('0x1a')][a94_0x2d6b('0x1d')]}})[a94_0x2d6b('0x1e')](_0x341c7e=>{const _0x38341f=this['i18n']?sequelize_utils_1[a94_0x2d6b('0xf')]['toJSONLocalizedOnly'](_0x341c7e,_0x906bca[a94_0x2d6b('0x10')][a94_0x2d6b('0x11')]):sequelize_utils_1[a94_0x2d6b('0xf')][a94_0x2d6b('0x12')](_0x341c7e);return _0x38341f;})['catch'](_0x6e1bcd=>{return _0x6e1bcd[a94_0x2d6b('0x16')];});}['save'](_0x15a6a4,_0x311070,_0x3cd2c8){if(!_0x15a6a4[a94_0x2d6b('0x18')]||_0x15a6a4['user'][a94_0x2d6b('0x7')]==0x0){}if(_0x15a6a4[a94_0x2d6b('0x18')]&&_0x15a6a4[a94_0x2d6b('0x18')][a94_0x2d6b('0x7')]>0x0){_0x15a6a4[a94_0x2d6b('0x1f')][a94_0x2d6b('0x9')]=_0x15a6a4[a94_0x2d6b('0x18')][0x0]['id'];}this['model'][a94_0x2d6b('0x20')](_0x15a6a4[a94_0x2d6b('0x1f')],{'language_id':_0x15a6a4[a94_0x2d6b('0x10')][a94_0x2d6b('0x11')]})['then'](_0x537895=>{const _0x35fa77=this[a94_0x2d6b('0x5')]?sequelize_utils_1[a94_0x2d6b('0xf')][a94_0x2d6b('0x1b')](_0x537895,_0x15a6a4[a94_0x2d6b('0x10')][a94_0x2d6b('0x11')]):_0x537895;delete _0x35fa77[a94_0x2d6b('0x21')]['id'];delete _0x35fa77[a94_0x2d6b('0x21')][a94_0x2d6b('0x9')];delete _0x35fa77['dataValues'][a94_0x2d6b('0xa')];delete _0x35fa77[a94_0x2d6b('0x21')][a94_0x2d6b('0xb')];delete _0x35fa77[a94_0x2d6b('0x21')][a94_0x2d6b('0xc')];delete _0x35fa77[a94_0x2d6b('0x21')][a94_0x2d6b('0xd')];delete _0x35fa77[a94_0x2d6b('0x21')][a94_0x2d6b('0xe')];return _0x311070[a94_0x2d6b('0x13')]({'success':!![],'data':_0x35fa77});})[a94_0x2d6b('0x14')](_0x12527a=>{return _0x311070[a94_0x2d6b('0x15')](0x1f4)[a94_0x2d6b('0x19')]({'success':![],'data':_0x12527a[a94_0x2d6b('0x16')]});});}[a94_0x2d6b('0x22')](_0x12a94e,_0x1c0753,_0x3f56d9){if(!_0x12a94e[a94_0x2d6b('0x18')]||_0x12a94e[a94_0x2d6b('0x18')][a94_0x2d6b('0x7')]==0x0){}if(_0x12a94e[a94_0x2d6b('0x18')]&&_0x12a94e['user'][a94_0x2d6b('0x7')]>0x0){_0x12a94e['body'][a94_0x2d6b('0x9')]=_0x12a94e[a94_0x2d6b('0x18')][0x0]['id'];}this[a94_0x2d6b('0x4')][a94_0x2d6b('0x23')](_0x12a94e[a94_0x2d6b('0x1f')]['id'])['then'](_0x27a702=>{if(_0x27a702==null)return _0x1c0753[a94_0x2d6b('0x13')]({'success':!![],'data':_0x27a702});_0x27a702[a94_0x2d6b('0x24')](_0x12a94e[a94_0x2d6b('0x1f')],{'language_id':_0x12a94e[a94_0x2d6b('0x10')][a94_0x2d6b('0x11')]})[a94_0x2d6b('0x1e')](function(_0x251143){const _0xcc598=this[a94_0x2d6b('0x5')]?sequelize_utils_1[a94_0x2d6b('0xf')][a94_0x2d6b('0x1b')](_0x27a702,_0x12a94e[a94_0x2d6b('0x10')]['lang']):_0x27a702;return _0x1c0753[a94_0x2d6b('0x13')]({'success':!![],'data':_0xcc598});}['bind'](this))[a94_0x2d6b('0x14')](_0x45f63d=>{return _0x1c0753['status'](0x1f4)['send']({'success':![],'data':_0x45f63d[a94_0x2d6b('0x16')]});});})[a94_0x2d6b('0x14')](_0xa780a5=>{return _0x1c0753[a94_0x2d6b('0x15')](0x1f4)[a94_0x2d6b('0x19')]({'success':![],'data':_0xa780a5[a94_0x2d6b('0x16')]});});}[a94_0x2d6b('0x25')](_0x1df83f,_0x2584ee,_0x8a7355,_0xffbe7=![]){if(!_0x1df83f[a94_0x2d6b('0x18')]||_0x1df83f[a94_0x2d6b('0x18')][a94_0x2d6b('0x7')]==0x0){}if(_0x1df83f[a94_0x2d6b('0x18')]&&_0x1df83f[a94_0x2d6b('0x18')][a94_0x2d6b('0x7')]>0x0){_0x1df83f[a94_0x2d6b('0x1f')][a94_0x2d6b('0x9')]=_0x1df83f[a94_0x2d6b('0x18')][0x0]['id'];}return this[a94_0x2d6b('0x4')][a94_0x2d6b('0x26')]({'where':_0x1df83f[a94_0x2d6b('0x1a')]})[a94_0x2d6b('0x1e')](function(_0x1b4b74){if(_0x1b4b74){return _0x1b4b74[a94_0x2d6b('0x24')](_0x1df83f[a94_0x2d6b('0x1f')])['then'](function(_0xda1dcc){const _0x44d021=_0xda1dcc[a94_0x2d6b('0x21')];if(_0xffbe7){delete _0x44d021['id'];}if(_0x2584ee){return _0x2584ee['json']({'success':!![],'data':_0x44d021});}else{return _0x44d021;}}[a94_0x2d6b('0x27')](this));}else{return this[a94_0x2d6b('0x4')]['create'](_0x1df83f[a94_0x2d6b('0x1f')])[a94_0x2d6b('0x1e')](function(_0x313896){if(_0x2584ee){return _0x2584ee[a94_0x2d6b('0x13')]({'success':!![],'data':_0x313896[a94_0x2d6b('0x12')]()});}else{return _0x313896;}});}}[a94_0x2d6b('0x27')](this))[a94_0x2d6b('0x14')](_0x57b418=>{if(_0x2584ee){return _0x2584ee['status'](0x1f4)['send']({'success':![],'data':_0x57b418[a94_0x2d6b('0x16')]});}else{return _0x57b418['stack'];}});}[a94_0x2d6b('0x28')](_0x1b1836,_0x5ec904,_0x20a06b){if(!_0x1b1836[a94_0x2d6b('0x18')]||_0x1b1836[a94_0x2d6b('0x18')][a94_0x2d6b('0x7')]==0x0){}if(_0x1b1836['user']&&_0x1b1836[a94_0x2d6b('0x18')][a94_0x2d6b('0x7')]>0x0){_0x1b1836['body'][a94_0x2d6b('0x9')]=_0x1b1836[a94_0x2d6b('0x18')][0x0]['id'];}return this[a94_0x2d6b('0x4')][a94_0x2d6b('0x28')]({'where':{'uuid':_0x1b1836[a94_0x2d6b('0x1f')][a94_0x2d6b('0x1d')]},'defaults':_0x1b1836['body']})['then']((_0xd97dc,_0x31dcc6)=>{if(_0x31dcc6){}else{}return _0x5ec904[a94_0x2d6b('0x13')]({'success':!![],'data':_0xd97dc});})[a94_0x2d6b('0x14')](_0x347979=>{return _0x5ec904['status'](0x1f4)[a94_0x2d6b('0x19')]({'success':![],'data':_0x347979[a94_0x2d6b('0x16')]});});}[a94_0x2d6b('0x29')](_0x43c50b,_0x339fa2,_0x19a8b1){if(!_0x43c50b[a94_0x2d6b('0x18')]||_0x43c50b[a94_0x2d6b('0x18')][a94_0x2d6b('0x7')]==0x0){return _0x339fa2['status'](0x191)[a94_0x2d6b('0x19')]({'success':![],'data':'authentication\x20failed'});}if(_0x43c50b[a94_0x2d6b('0x18')]&&_0x43c50b[a94_0x2d6b('0x18')][a94_0x2d6b('0x7')]>0x0){_0x43c50b[a94_0x2d6b('0x1f')][a94_0x2d6b('0x9')]=_0x43c50b[a94_0x2d6b('0x18')][0x0]['id'];}this[a94_0x2d6b('0x4')][a94_0x2d6b('0x17')](_0x43c50b[a94_0x2d6b('0x1a')]['id'])[a94_0x2d6b('0x1e')](_0x21fd1e=>{if(_0x21fd1e==null)return _0x339fa2[a94_0x2d6b('0x13')]({'success':!![],'data':_0x21fd1e});_0x21fd1e['destroy']()[a94_0x2d6b('0x1e')](function(_0x3c5e7a){const _0x15c610=this[a94_0x2d6b('0x5')]?sequelize_utils_1['default'][a94_0x2d6b('0x1b')](_0x21fd1e,_0x43c50b[a94_0x2d6b('0x10')]['lang']):_0x21fd1e;return _0x339fa2[a94_0x2d6b('0x13')]({'success':!![],'data':_0x15c610});})[a94_0x2d6b('0x14')](_0x20e99=>{return _0x339fa2[a94_0x2d6b('0x15')](0x1f4)[a94_0x2d6b('0x19')]({'success':![],'data':_0x20e99['stack']});});})[a94_0x2d6b('0x14')](_0x12cbe5=>{return _0x339fa2[a94_0x2d6b('0x15')](0x1f4)[a94_0x2d6b('0x19')]({'success':![],'data':_0x12cbe5['stack']});});}}exports[a94_0x2d6b('0xf')]=CrudUtils;