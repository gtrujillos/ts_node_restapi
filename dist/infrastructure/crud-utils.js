var a94_0x1b59=['created_by_user_id','deleted_by_user_id','updated_at','deleted_at','findOneAndUpdate','update','remove','destroy','__importDefault','__esModule','./sequelize-utils','model','i18n','find','user','length','findAll','updated_by_user_id','created_at','then','default','headers','json','status','send','stack','findById','authentication\x20failed','params','toJSONLocalizedOnly','lang','catch','save','body','create','dataValues'];(function(_0x5b42bf,_0x5325c3){var _0x3c30d7=function(_0x181dd5){while(--_0x181dd5){_0x5b42bf['push'](_0x5b42bf['shift']());}};_0x3c30d7(++_0x5325c3);}(a94_0x1b59,0x194));var a94_0x2db6=function(_0x21a2f2,_0x11d080){_0x21a2f2=_0x21a2f2-0x0;var _0x5a1a45=a94_0x1b59[_0x21a2f2];return _0x5a1a45;};'use strict';var __importDefault=this&&this[a94_0x2db6('0x0')]||function(_0x123f32){return _0x123f32&&_0x123f32[a94_0x2db6('0x1')]?_0x123f32:{'default':_0x123f32};};Object['defineProperty'](exports,'__esModule',{'value':!![]});const sequelize_utils_1=__importDefault(require(a94_0x2db6('0x2')));class CrudUtils{constructor(_0xc8dccc,_0x14ff06){this[a94_0x2db6('0x3')]=_0xc8dccc;this[a94_0x2db6('0x4')]=_0x14ff06;}[a94_0x2db6('0x5')](_0x9dbc13,_0x4b912d,_0x4eee0f){if(!_0x9dbc13[a94_0x2db6('0x6')]||_0x9dbc13['user'][a94_0x2db6('0x7')]==0x0){}this[a94_0x2db6('0x3')][a94_0x2db6('0x8')]({'attributes':{'exclude':['id','created_by_user_id',a94_0x2db6('0x9'),'deleted_by_user_id',a94_0x2db6('0xa'),'updated_at','deleted_at']}})[a94_0x2db6('0xb')](_0x280562=>{const _0x4a0ec2=this[a94_0x2db6('0x4')]?sequelize_utils_1[a94_0x2db6('0xc')]['toJSONLocalizedOnly'](_0x280562,_0x9dbc13[a94_0x2db6('0xd')]['lang']):_0x280562;return _0x4b912d[a94_0x2db6('0xe')]({'success':!![],'data':_0x4a0ec2});})['catch'](_0x191452=>{return _0x4b912d[a94_0x2db6('0xf')](0x1f4)[a94_0x2db6('0x10')]({'success':![],'data':_0x191452[a94_0x2db6('0x11')]});});}[a94_0x2db6('0x12')](_0x442399,_0x32ef57,_0x51030c){if(!_0x442399['user']||_0x442399['user']['length']==0x0){return _0x32ef57[a94_0x2db6('0xf')](0x191)['send']({'success':![],'data':a94_0x2db6('0x13')});}this[a94_0x2db6('0x3')][a94_0x2db6('0x12')](_0x442399[a94_0x2db6('0x14')]['id'])[a94_0x2db6('0xb')](_0x640de2=>{const _0x35f1b9=this[a94_0x2db6('0x4')]?sequelize_utils_1['default'][a94_0x2db6('0x15')](_0x640de2,_0x442399[a94_0x2db6('0xd')][a94_0x2db6('0x16')]):_0x640de2;return _0x32ef57['json']({'success':!![],'data':_0x35f1b9});})[a94_0x2db6('0x17')](_0x2a7261=>{return _0x32ef57[a94_0x2db6('0xf')](0x1f4)['send']({'success':![],'data':_0x2a7261[a94_0x2db6('0x11')]});});}[a94_0x2db6('0x18')](_0x5dea17,_0x24caae,_0x14fc0d){if(!_0x5dea17[a94_0x2db6('0x6')]||_0x5dea17[a94_0x2db6('0x6')][a94_0x2db6('0x7')]==0x0){}if(_0x5dea17[a94_0x2db6('0x6')]&&_0x5dea17[a94_0x2db6('0x6')]['length']>0x0){_0x5dea17[a94_0x2db6('0x19')]['created_by_user_id']=_0x5dea17[a94_0x2db6('0x6')][0x0]['id'];}this[a94_0x2db6('0x3')][a94_0x2db6('0x1a')](_0x5dea17['body'],{'language_id':_0x5dea17['headers']['lang']})[a94_0x2db6('0xb')](_0x30f97f=>{const _0x5b735a=this['i18n']?sequelize_utils_1['default']['toJSONLocalizedOnly'](_0x30f97f,_0x5dea17[a94_0x2db6('0xd')][a94_0x2db6('0x16')]):_0x30f97f;delete _0x5b735a[a94_0x2db6('0x1b')]['id'];delete _0x5b735a[a94_0x2db6('0x1b')][a94_0x2db6('0x1c')];delete _0x5b735a[a94_0x2db6('0x1b')][a94_0x2db6('0x9')];delete _0x5b735a['dataValues'][a94_0x2db6('0x1d')];delete _0x5b735a[a94_0x2db6('0x1b')][a94_0x2db6('0xa')];delete _0x5b735a[a94_0x2db6('0x1b')][a94_0x2db6('0x1e')];delete _0x5b735a[a94_0x2db6('0x1b')][a94_0x2db6('0x1f')];return _0x24caae[a94_0x2db6('0xe')]({'success':!![],'data':_0x5b735a});})[a94_0x2db6('0x17')](_0x1ae0df=>{return _0x24caae[a94_0x2db6('0xf')](0x1f4)['send']({'success':![],'data':_0x1ae0df[a94_0x2db6('0x11')]});});}[a94_0x2db6('0x20')](_0x522a04,_0x220312,_0x374f81){if(!_0x522a04[a94_0x2db6('0x6')]||_0x522a04[a94_0x2db6('0x6')][a94_0x2db6('0x7')]==0x0){return _0x220312[a94_0x2db6('0xf')](0x191)['send']({'success':![],'data':a94_0x2db6('0x13')});}if(_0x522a04[a94_0x2db6('0x6')]&&_0x522a04[a94_0x2db6('0x6')]['length']>0x0){_0x522a04[a94_0x2db6('0x19')][a94_0x2db6('0x1c')]=_0x522a04[a94_0x2db6('0x6')][0x0]['id'];}this['model'][a94_0x2db6('0x12')](_0x522a04[a94_0x2db6('0x14')]['id'])[a94_0x2db6('0xb')](_0x207519=>{if(_0x207519==null)return _0x220312[a94_0x2db6('0xe')]({'success':!![],'data':_0x207519});_0x207519[a94_0x2db6('0x21')](_0x522a04[a94_0x2db6('0x19')],{'language_id':_0x522a04[a94_0x2db6('0xd')][a94_0x2db6('0x16')]})[a94_0x2db6('0xb')](function(_0xd310fd){const _0x44cb29=this[a94_0x2db6('0x4')]?sequelize_utils_1[a94_0x2db6('0xc')][a94_0x2db6('0x15')](_0x207519,_0x522a04[a94_0x2db6('0xd')][a94_0x2db6('0x16')]):_0x207519;return _0x220312[a94_0x2db6('0xe')]({'success':!![],'data':_0x44cb29});})[a94_0x2db6('0x17')](_0x3cd314=>{return _0x220312[a94_0x2db6('0xf')](0x1f4)[a94_0x2db6('0x10')]({'success':![],'data':_0x3cd314['stack']});});})['catch'](_0x4f3fd5=>{return _0x220312[a94_0x2db6('0xf')](0x1f4)[a94_0x2db6('0x10')]({'success':![],'data':_0x4f3fd5[a94_0x2db6('0x11')]});});}[a94_0x2db6('0x22')](_0x3eefd6,_0x4c1bd9,_0x3870cf){if(!_0x3eefd6['user']||_0x3eefd6[a94_0x2db6('0x6')][a94_0x2db6('0x7')]==0x0){return _0x4c1bd9[a94_0x2db6('0xf')](0x191)['send']({'success':![],'data':a94_0x2db6('0x13')});}if(_0x3eefd6[a94_0x2db6('0x6')]&&_0x3eefd6['user'][a94_0x2db6('0x7')]>0x0){_0x3eefd6['body']['created_by_user_id']=_0x3eefd6[a94_0x2db6('0x6')][0x0]['id'];}this['model'][a94_0x2db6('0x12')](_0x3eefd6[a94_0x2db6('0x14')]['id'])['then'](_0x4d1092=>{if(_0x4d1092==null)return _0x4c1bd9[a94_0x2db6('0xe')]({'success':!![],'data':_0x4d1092});_0x4d1092[a94_0x2db6('0x23')]()['then'](function(_0x8a327f){const _0x4c8e8e=this[a94_0x2db6('0x4')]?sequelize_utils_1[a94_0x2db6('0xc')][a94_0x2db6('0x15')](_0x4d1092,_0x3eefd6[a94_0x2db6('0xd')]['lang']):_0x4d1092;return _0x4c1bd9['json']({'success':!![],'data':_0x4c8e8e});})[a94_0x2db6('0x17')](_0x2cdfd0=>{return _0x4c1bd9['status'](0x1f4)['send']({'success':![],'data':_0x2cdfd0[a94_0x2db6('0x11')]});});})[a94_0x2db6('0x17')](_0x250f2e=>{return _0x4c1bd9[a94_0x2db6('0xf')](0x1f4)[a94_0x2db6('0x10')]({'success':![],'data':_0x250f2e[a94_0x2db6('0x11')]});});}}exports[a94_0x2db6('0xc')]=CrudUtils;