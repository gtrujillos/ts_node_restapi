var a94_0xe6d7=['stack','authentication\x20failed','findById','params','toJSONLocalizedOnly','findByUUId','uuid','save','create','body','dataValues','deleted_by_user_id','findOneAndUpdate','findByPk','update','bind','updateOrCreate','findOne','findOrCreate','destroy','__esModule','./sequelize-utils','model','i18n','find','user','length','findAll','created_by_user_id','updated_by_user_id','created_at','deleted_at','then','default','headers','lang','toJSON','json','catch','status','send'];(function(_0x10d2d2,_0x430f56){var _0x39e467=function(_0x40330d){while(--_0x40330d){_0x10d2d2['push'](_0x10d2d2['shift']());}};_0x39e467(++_0x430f56);}(a94_0xe6d7,0x8f));var a94_0x4b5a=function(_0x2057e3,_0x558b4e){_0x2057e3=_0x2057e3-0x0;var _0x7c4841=a94_0xe6d7[_0x2057e3];return _0x7c4841;};'use strict';var __importDefault=this&&this['__importDefault']||function(_0x5cef1e){return _0x5cef1e&&_0x5cef1e['__esModule']?_0x5cef1e:{'default':_0x5cef1e};};Object['defineProperty'](exports,a94_0x4b5a('0x0'),{'value':!![]});const sequelize_utils_1=__importDefault(require(a94_0x4b5a('0x1')));class CrudUtils{constructor(_0x52e833,_0x2f1aa3){this[a94_0x4b5a('0x2')]=_0x52e833;this[a94_0x4b5a('0x3')]=_0x2f1aa3;}[a94_0x4b5a('0x4')](_0x1027c0,_0x409cf2,_0x5773a6,_0x149dfd=![]){if(!_0x1027c0[a94_0x4b5a('0x5')]||_0x1027c0[a94_0x4b5a('0x5')][a94_0x4b5a('0x6')]==0x0){}return this[a94_0x4b5a('0x2')][a94_0x4b5a('0x7')]({'attributes':{'exclude':_0x149dfd?[]:['id',a94_0x4b5a('0x8'),a94_0x4b5a('0x9'),'deleted_by_user_id',a94_0x4b5a('0xa'),'updated_at',a94_0x4b5a('0xb')]},'where':{}})[a94_0x4b5a('0xc')](_0x3399f7=>{const _0x3f72f3=this['i18n']?sequelize_utils_1[a94_0x4b5a('0xd')]['toJSONLocalizedOnly'](_0x3399f7,_0x1027c0[a94_0x4b5a('0xe')][a94_0x4b5a('0xf')]):sequelize_utils_1[a94_0x4b5a('0xd')][a94_0x4b5a('0x10')](_0x3399f7);if(_0x409cf2){return _0x409cf2[a94_0x4b5a('0x11')]({'success':!![],'data':_0x3f72f3});}else{return _0x3f72f3;}})[a94_0x4b5a('0x12')](_0x1d89ae=>{if(_0x409cf2){return _0x409cf2[a94_0x4b5a('0x13')](0x1f4)[a94_0x4b5a('0x14')]({'success':![],'data':_0x1d89ae[a94_0x4b5a('0x15')]});}else{return _0x1d89ae[a94_0x4b5a('0x15')];}});}['findById'](_0x5b2cca,_0x294e4e,_0x2003bf){if(!_0x5b2cca['user']||_0x5b2cca[a94_0x4b5a('0x5')]['length']==0x0){return _0x294e4e[a94_0x4b5a('0x13')](0x191)[a94_0x4b5a('0x14')]({'success':![],'data':a94_0x4b5a('0x16')});}this[a94_0x4b5a('0x2')][a94_0x4b5a('0x17')](_0x5b2cca[a94_0x4b5a('0x18')]['id'])['then'](_0xf368bd=>{const _0x547658=this[a94_0x4b5a('0x3')]?sequelize_utils_1[a94_0x4b5a('0xd')][a94_0x4b5a('0x19')](_0xf368bd,_0x5b2cca[a94_0x4b5a('0xe')][a94_0x4b5a('0xf')]):_0xf368bd;return _0x294e4e[a94_0x4b5a('0x11')]({'success':!![],'data':_0x547658});})[a94_0x4b5a('0x12')](_0x2d4e26=>{return _0x294e4e['status'](0x1f4)['send']({'success':![],'data':_0x2d4e26[a94_0x4b5a('0x15')]});});}[a94_0x4b5a('0x1a')](_0x47893c,_0x209837,_0x5bdf51){if(!_0x47893c[a94_0x4b5a('0x5')]||_0x47893c['user'][a94_0x4b5a('0x6')]==0x0){}return this[a94_0x4b5a('0x2')][a94_0x4b5a('0x7')]({'where':{'uuid':_0x47893c[a94_0x4b5a('0x18')][a94_0x4b5a('0x1b')]}})[a94_0x4b5a('0xc')](_0x214a9d=>{const _0x43a024=this[a94_0x4b5a('0x3')]?sequelize_utils_1[a94_0x4b5a('0xd')][a94_0x4b5a('0x19')](_0x214a9d,_0x47893c[a94_0x4b5a('0xe')]['lang']):sequelize_utils_1[a94_0x4b5a('0xd')][a94_0x4b5a('0x10')](_0x214a9d);return _0x43a024;})[a94_0x4b5a('0x12')](_0x331777=>{return _0x331777[a94_0x4b5a('0x15')];});}[a94_0x4b5a('0x1c')](_0x55485a,_0x1a4dec,_0x20866b){if(!_0x55485a[a94_0x4b5a('0x5')]||_0x55485a[a94_0x4b5a('0x5')][a94_0x4b5a('0x6')]==0x0){}if(_0x55485a[a94_0x4b5a('0x5')]&&_0x55485a[a94_0x4b5a('0x5')][a94_0x4b5a('0x6')]>0x0){_0x55485a['body'][a94_0x4b5a('0x8')]=_0x55485a[a94_0x4b5a('0x5')][0x0]['id'];}this[a94_0x4b5a('0x2')][a94_0x4b5a('0x1d')](_0x55485a[a94_0x4b5a('0x1e')],{'language_id':_0x55485a[a94_0x4b5a('0xe')]['lang']})[a94_0x4b5a('0xc')](_0x373896=>{const _0x276b00=this[a94_0x4b5a('0x3')]?sequelize_utils_1[a94_0x4b5a('0xd')][a94_0x4b5a('0x19')](_0x373896,_0x55485a['headers']['lang']):_0x373896;delete _0x276b00[a94_0x4b5a('0x1f')]['id'];delete _0x276b00[a94_0x4b5a('0x1f')][a94_0x4b5a('0x8')];delete _0x276b00[a94_0x4b5a('0x1f')]['updated_by_user_id'];delete _0x276b00['dataValues'][a94_0x4b5a('0x20')];delete _0x276b00[a94_0x4b5a('0x1f')]['created_at'];delete _0x276b00[a94_0x4b5a('0x1f')]['updated_at'];delete _0x276b00[a94_0x4b5a('0x1f')][a94_0x4b5a('0xb')];return _0x1a4dec[a94_0x4b5a('0x11')]({'success':!![],'data':_0x276b00});})[a94_0x4b5a('0x12')](_0x47b6ff=>{return _0x1a4dec['status'](0x1f4)['send']({'success':![],'data':_0x47b6ff[a94_0x4b5a('0x15')]});});}[a94_0x4b5a('0x21')](_0x20538b,_0x447588,_0x2dc52e){if(!_0x20538b['user']||_0x20538b[a94_0x4b5a('0x5')]['length']==0x0){}if(_0x20538b[a94_0x4b5a('0x5')]&&_0x20538b[a94_0x4b5a('0x5')][a94_0x4b5a('0x6')]>0x0){_0x20538b[a94_0x4b5a('0x1e')]['created_by_user_id']=_0x20538b[a94_0x4b5a('0x5')][0x0]['id'];}this[a94_0x4b5a('0x2')][a94_0x4b5a('0x22')](_0x20538b[a94_0x4b5a('0x1e')]['id'])['then'](_0x304855=>{if(_0x304855==null)return _0x447588[a94_0x4b5a('0x11')]({'success':!![],'data':_0x304855});_0x304855[a94_0x4b5a('0x23')](_0x20538b[a94_0x4b5a('0x1e')],{'language_id':_0x20538b[a94_0x4b5a('0xe')][a94_0x4b5a('0xf')]})['then'](function(_0x24a2c1){const _0x488164=this[a94_0x4b5a('0x3')]?sequelize_utils_1['default'][a94_0x4b5a('0x19')](_0x304855,_0x20538b[a94_0x4b5a('0xe')][a94_0x4b5a('0xf')]):_0x304855;return _0x447588[a94_0x4b5a('0x11')]({'success':!![],'data':_0x488164});}[a94_0x4b5a('0x24')](this))[a94_0x4b5a('0x12')](_0x15249e=>{return _0x447588[a94_0x4b5a('0x13')](0x1f4)[a94_0x4b5a('0x14')]({'success':![],'data':_0x15249e[a94_0x4b5a('0x15')]});});})[a94_0x4b5a('0x12')](_0x21fe77=>{return _0x447588[a94_0x4b5a('0x13')](0x1f4)[a94_0x4b5a('0x14')]({'success':![],'data':_0x21fe77[a94_0x4b5a('0x15')]});});}[a94_0x4b5a('0x25')](_0x5ac81b,_0x532405,_0x3e04ec,_0x55a3e0=![]){if(!_0x5ac81b[a94_0x4b5a('0x5')]||_0x5ac81b[a94_0x4b5a('0x5')]['length']==0x0){}if(_0x5ac81b[a94_0x4b5a('0x5')]&&_0x5ac81b['user'][a94_0x4b5a('0x6')]>0x0){_0x5ac81b['body'][a94_0x4b5a('0x8')]=_0x5ac81b[a94_0x4b5a('0x5')][0x0]['id'];}return this[a94_0x4b5a('0x2')][a94_0x4b5a('0x26')]({'where':_0x5ac81b[a94_0x4b5a('0x18')]})[a94_0x4b5a('0xc')](function(_0x498dc9){if(_0x498dc9){return _0x498dc9[a94_0x4b5a('0x23')](_0x5ac81b['body'])[a94_0x4b5a('0xc')](function(_0x53e6cc){const _0x5cb21a=_0x53e6cc[a94_0x4b5a('0x1f')];if(_0x55a3e0){delete _0x5cb21a['id'];}if(_0x532405){return _0x532405[a94_0x4b5a('0x11')]({'success':!![],'data':_0x5cb21a});}else{return _0x5cb21a;}}['bind'](this));}else{return this[a94_0x4b5a('0x2')][a94_0x4b5a('0x1d')](_0x5ac81b[a94_0x4b5a('0x1e')])[a94_0x4b5a('0xc')](function(_0x3ecdf5){if(_0x532405){return _0x532405[a94_0x4b5a('0x11')]({'success':!![],'data':_0x3ecdf5[a94_0x4b5a('0x10')]()});}else{return _0x3ecdf5;}});}}[a94_0x4b5a('0x24')](this))[a94_0x4b5a('0x12')](_0x4a474d=>{if(_0x532405){return _0x532405[a94_0x4b5a('0x13')](0x1f4)['send']({'success':![],'data':_0x4a474d['stack']});}else{return _0x4a474d[a94_0x4b5a('0x15')];}});}[a94_0x4b5a('0x27')](_0x5d37ee,_0x948669,_0x477c99){if(!_0x5d37ee[a94_0x4b5a('0x5')]||_0x5d37ee[a94_0x4b5a('0x5')][a94_0x4b5a('0x6')]==0x0){}if(_0x5d37ee[a94_0x4b5a('0x5')]&&_0x5d37ee['user'][a94_0x4b5a('0x6')]>0x0){_0x5d37ee[a94_0x4b5a('0x1e')][a94_0x4b5a('0x8')]=_0x5d37ee[a94_0x4b5a('0x5')][0x0]['id'];}return this[a94_0x4b5a('0x2')][a94_0x4b5a('0x27')]({'where':{'uuid':_0x5d37ee[a94_0x4b5a('0x1e')]['uuid']},'defaults':_0x5d37ee[a94_0x4b5a('0x1e')]})[a94_0x4b5a('0xc')]((_0x5b6aef,_0xc1787d)=>{if(_0xc1787d){}else{}return _0x948669['json']({'success':!![],'data':_0x5b6aef});})[a94_0x4b5a('0x12')](_0x4cdf67=>{return _0x948669[a94_0x4b5a('0x13')](0x1f4)['send']({'success':![],'data':_0x4cdf67['stack']});});}['remove'](_0x4f67a9,_0x563bce,_0x3ec157){if(!_0x4f67a9[a94_0x4b5a('0x5')]||_0x4f67a9[a94_0x4b5a('0x5')]['length']==0x0){return _0x563bce[a94_0x4b5a('0x13')](0x191)[a94_0x4b5a('0x14')]({'success':![],'data':'authentication\x20failed'});}if(_0x4f67a9[a94_0x4b5a('0x5')]&&_0x4f67a9['user']['length']>0x0){_0x4f67a9[a94_0x4b5a('0x1e')][a94_0x4b5a('0x8')]=_0x4f67a9[a94_0x4b5a('0x5')][0x0]['id'];}this[a94_0x4b5a('0x2')][a94_0x4b5a('0x17')](_0x4f67a9['params']['id'])[a94_0x4b5a('0xc')](_0x410471=>{if(_0x410471==null)return _0x563bce[a94_0x4b5a('0x11')]({'success':!![],'data':_0x410471});_0x410471[a94_0x4b5a('0x28')]()[a94_0x4b5a('0xc')](function(_0x21d663){const _0x170fdc=this['i18n']?sequelize_utils_1[a94_0x4b5a('0xd')][a94_0x4b5a('0x19')](_0x410471,_0x4f67a9[a94_0x4b5a('0xe')][a94_0x4b5a('0xf')]):_0x410471;return _0x563bce[a94_0x4b5a('0x11')]({'success':!![],'data':_0x170fdc});})['catch'](_0x51daf1=>{return _0x563bce[a94_0x4b5a('0x13')](0x1f4)[a94_0x4b5a('0x14')]({'success':![],'data':_0x51daf1['stack']});});})[a94_0x4b5a('0x12')](_0x2a7593=>{return _0x563bce[a94_0x4b5a('0x13')](0x1f4)[a94_0x4b5a('0x14')]({'success':![],'data':_0x2a7593[a94_0x4b5a('0x15')]});});}}exports[a94_0x4b5a('0xd')]=CrudUtils;