var a114_0x584c=['fileName','writeFile','base64','err:','existsSync','__importDefault','__esModule','./crypt-utils','../app/shared/models/crudOptions','../infrastructure/auth-utils','base64-img','../infrastructure/response-utils','model','i18n','count','default','public','user','shared','created_by_user_id','params','then','catch','stack','find','query','page_size','page_index','findAll','updated_by_user_id','deleted_by_user_id','created_at','updated_at','deleted_at','include','orderBy','toJSONLocalizedOnly','headers','errorResponse','findById','authentication\x20failed','decryptId','findByPk','lang','dataValues','encryptId','IMAGE_FILES_FOLDER','images/','name','.jpg','.png','base64Sync','parse','stringify','image_data','includeAll','password','successResponse','save','log','body','create','saveImageFile','status','send','findOneAndUpdate','data.update\x20req.body','updateOrCreate','length','findOne','update','json','toJSON','findOrCreate','uuid','remove','destroy','bind','env','match','jpg','ensureDirSync'];(function(_0xb479be,_0x4bb6ab){var _0x44c2ed=function(_0x39774b){while(--_0x39774b){_0xb479be['push'](_0xb479be['shift']());}};_0x44c2ed(++_0x4bb6ab);}(a114_0x584c,0x14d));var a114_0xb9dd=function(_0x12328f,_0x51372a){_0x12328f=_0x12328f-0x0;var _0x52c936=a114_0x584c[_0x12328f];return _0x52c936;};'use strict';var __importDefault=this&&this[a114_0xb9dd('0x0')]||function(_0x48f6f5){return _0x48f6f5&&_0x48f6f5['__esModule']?_0x48f6f5:{'default':_0x48f6f5};};Object['defineProperty'](exports,a114_0xb9dd('0x1'),{'value':!![]});const sequelize_utils_1=__importDefault(require('./sequelize-utils'));const crypt_utils_1=__importDefault(require(a114_0xb9dd('0x2')));const crudOptions_1=__importDefault(require(a114_0xb9dd('0x3')));const authUtils=require(a114_0xb9dd('0x4'));const fsExtra=require('fs-extra');const base64Img=require(a114_0xb9dd('0x5'));const responseUtils=require(a114_0xb9dd('0x6'));class CrudUtils{constructor(_0x377411,_0x470389){this[a114_0xb9dd('0x7')]=_0x377411;this[a114_0xb9dd('0x8')]=_0x470389;}[a114_0xb9dd('0x9')](_0x36868b,_0x15bc68,_0x3c4851,_0x2018bd=new crudOptions_1[(a114_0xb9dd('0xa'))]()){if(!_0x2018bd[a114_0xb9dd('0xb')]){if(!_0x36868b[a114_0xb9dd('0xc')]){return responseUtils['errorResponse'](_0x36868b,_0x15bc68,'authentication\x20failed',0x191);}}if(!_0x2018bd[a114_0xb9dd('0xd')]){if(_0x36868b['user']){_0x36868b['params'][a114_0xb9dd('0xe')]=_0x36868b[a114_0xb9dd('0xc')]['id'];}}return this[a114_0xb9dd('0x7')][a114_0xb9dd('0x9')]({'where':_0x36868b[a114_0xb9dd('0xf')]})[a114_0xb9dd('0x10')](_0x4610cd=>{const _0x39c4ef=_0x4610cd;if(_0x15bc68){return _0x15bc68['json']({'success':!![],'data':{'total':_0x4610cd}});}else{return _0x39c4ef;}})[a114_0xb9dd('0x11')](_0x20f993=>{if(_0x15bc68){return _0x15bc68['status'](0x1f4)['send']({'success':![],'data':_0x20f993[a114_0xb9dd('0x12')]});}else{return _0x20f993[a114_0xb9dd('0x12')];}});}[a114_0xb9dd('0x13')](_0x194f78,_0x1b8dc3,_0x1edd5a,_0x28dd9c=new crudOptions_1[(a114_0xb9dd('0xa'))]()){const _0x1262cd=_0x194f78[a114_0xb9dd('0x14')][a114_0xb9dd('0x15')]?Number(_0x194f78[a114_0xb9dd('0x14')][a114_0xb9dd('0x15')]):null;const _0x330ee2=_0x194f78[a114_0xb9dd('0x14')][a114_0xb9dd('0x16')]&&_0x1262cd!=null?Number(_0x194f78[a114_0xb9dd('0x14')]['page_index'])*_0x1262cd:null;if(!_0x28dd9c['public']){if(!_0x194f78[a114_0xb9dd('0xc')]){return responseUtils['errorResponse'](_0x194f78,_0x1b8dc3,'authentication\x20failed',0x191);}}if(!_0x28dd9c[a114_0xb9dd('0xd')]){if(_0x194f78[a114_0xb9dd('0xc')]){_0x194f78[a114_0xb9dd('0xf')]['created_by_user_id']=_0x194f78[a114_0xb9dd('0xc')]['id'];}}return this[a114_0xb9dd('0x7')][a114_0xb9dd('0x17')]({'attributes':{'exclude':_0x28dd9c['includeAll']?[]:['created_by_user_id',a114_0xb9dd('0x18'),a114_0xb9dd('0x19'),a114_0xb9dd('0x1a'),a114_0xb9dd('0x1b'),a114_0xb9dd('0x1c'),'createdAt','updatedAt','deletedAt']},'where':_0x194f78[a114_0xb9dd('0xf')],'offset':_0x330ee2,'limit':_0x1262cd,'include':_0x28dd9c[a114_0xb9dd('0x1d')],'order':_0x28dd9c[a114_0xb9dd('0x1e')]})[a114_0xb9dd('0x10')](_0x184bdd=>{let _0x3059d8=this[a114_0xb9dd('0x8')]?sequelize_utils_1['default'][a114_0xb9dd('0x1f')](_0x184bdd,_0x194f78[a114_0xb9dd('0x20')]['lang']):sequelize_utils_1[a114_0xb9dd('0xa')]['toJSON'](_0x184bdd);_0x3059d8=sequelize_utils_1[a114_0xb9dd('0xa')]['encryptId'](_0x3059d8);if(_0x1b8dc3){return responseUtils['successResponse'](_0x194f78,_0x1b8dc3,_0x3059d8,0xc8);}else{return _0x3059d8;}})[a114_0xb9dd('0x11')](_0x337759=>{if(_0x1b8dc3){return responseUtils[a114_0xb9dd('0x21')](_0x194f78,_0x1b8dc3,_0x337759[a114_0xb9dd('0x12')],0x1f4);}else{return _0x337759[a114_0xb9dd('0x12')];}});}[a114_0xb9dd('0x22')](_0x4d7c53,_0x20a3cc,_0xdc5403,_0x8df2fc=new crudOptions_1[(a114_0xb9dd('0xa'))]()){if(!_0x8df2fc[a114_0xb9dd('0xb')]){if(!_0x4d7c53[a114_0xb9dd('0xc')]){return responseUtils[a114_0xb9dd('0x21')](_0x4d7c53,_0x20a3cc,a114_0xb9dd('0x23'),0x191);}}if(!_0x8df2fc[a114_0xb9dd('0xd')]){if(_0x4d7c53['user']){_0x4d7c53[a114_0xb9dd('0xf')][a114_0xb9dd('0xe')]=_0x4d7c53[a114_0xb9dd('0xc')]['id'];}}_0x4d7c53[a114_0xb9dd('0xf')]['id']=sequelize_utils_1['default'][a114_0xb9dd('0x24')](_0x4d7c53[a114_0xb9dd('0xf')]['id']);return this[a114_0xb9dd('0x7')][a114_0xb9dd('0x25')](_0x4d7c53[a114_0xb9dd('0xf')]['id'])[a114_0xb9dd('0x10')](_0x4d0d86=>{let _0x29ec63=this['i18n']?sequelize_utils_1[a114_0xb9dd('0xa')]['toJSONLocalizedOnly'](_0x4d0d86,_0x4d7c53[a114_0xb9dd('0x20')][a114_0xb9dd('0x26')]):_0x4d0d86;if(_0x29ec63){_0x29ec63=_0x29ec63[a114_0xb9dd('0x27')];_0x29ec63=sequelize_utils_1['default'][a114_0xb9dd('0x28')](_0x29ec63);let _0x4f887b=process['env'][a114_0xb9dd('0x29')]+a114_0xb9dd('0x2a')+this['model'][a114_0xb9dd('0x2b')]+'_'+_0x29ec63['id']+a114_0xb9dd('0x2c');if(!fsExtra['existsSync'](_0x4f887b)){_0x4f887b=process['env'][a114_0xb9dd('0x29')]+'images/'+this['model']['name']+'_'+_0x29ec63['id']+a114_0xb9dd('0x2d');}let _0x562f69=null;if(fsExtra['existsSync'](_0x4f887b)){_0x562f69=base64Img[a114_0xb9dd('0x2e')](_0x4f887b);_0x29ec63=JSON[a114_0xb9dd('0x2f')](JSON[a114_0xb9dd('0x30')](_0x29ec63));_0x29ec63[a114_0xb9dd('0x31')]=_0x562f69;}if(!_0x8df2fc[a114_0xb9dd('0x32')]){delete _0x29ec63[a114_0xb9dd('0xe')];delete _0x29ec63[a114_0xb9dd('0x18')];delete _0x29ec63['deleted_by_user_id'];delete _0x29ec63[a114_0xb9dd('0x1a')];delete _0x29ec63[a114_0xb9dd('0x1b')];delete _0x29ec63[a114_0xb9dd('0x1c')];delete _0x29ec63[a114_0xb9dd('0x33')];}}if(_0x20a3cc){return responseUtils[a114_0xb9dd('0x34')](_0x4d7c53,_0x20a3cc,_0x29ec63,0xc8);}else{return _0x29ec63;}})[a114_0xb9dd('0x11')](_0x3d8cbf=>{if(_0x20a3cc){return responseUtils[a114_0xb9dd('0x21')](_0x4d7c53,_0x20a3cc,_0x3d8cbf['stack'],0x1f4);}else{return _0x3d8cbf[a114_0xb9dd('0x12')];}});}[a114_0xb9dd('0x35')](_0x4fa357,_0x1f39c0,_0x7f7710){console[a114_0xb9dd('0x36')](a114_0xb9dd('0x35'),_0x4fa357[a114_0xb9dd('0x37')]);if(!_0x4fa357[a114_0xb9dd('0xc')]){return responseUtils[a114_0xb9dd('0x21')](_0x4fa357,_0x1f39c0,a114_0xb9dd('0x23'),0x191);}if(_0x4fa357[a114_0xb9dd('0x37')]['id']&&_0x4fa357[a114_0xb9dd('0x37')]['id']!=''){return this['findOneAndUpdate'](_0x4fa357,_0x1f39c0,_0x7f7710);}else{return this[a114_0xb9dd('0x38')](_0x4fa357,_0x1f39c0);}}[a114_0xb9dd('0x38')](_0x262876,_0x3b0b57){if(!_0x262876[a114_0xb9dd('0xc')]){return responseUtils[a114_0xb9dd('0x21')](_0x262876,_0x3b0b57,a114_0xb9dd('0x23'),0x191);}_0x262876[a114_0xb9dd('0x37')]=sequelize_utils_1['default']['decryptId'](_0x262876[a114_0xb9dd('0x37')]);_0x262876[a114_0xb9dd('0x37')][a114_0xb9dd('0xe')]=_0x262876[a114_0xb9dd('0xc')]['id'];if(_0x262876[a114_0xb9dd('0x37')][a114_0xb9dd('0x33')]&&_0x262876[a114_0xb9dd('0x37')][a114_0xb9dd('0x33')]!=''){_0x262876[a114_0xb9dd('0x37')][a114_0xb9dd('0x33')]=crypt_utils_1[a114_0xb9dd('0xa')]['hashPassword'](_0x262876['body'][a114_0xb9dd('0x33')]);}return this['model'][a114_0xb9dd('0x38')](_0x262876[a114_0xb9dd('0x37')],this['i18n']?{'language_id':_0x262876['headers'][a114_0xb9dd('0x26')]}:{})[a114_0xb9dd('0x10')](_0x54ff79=>{const _0x3879eb=this['i18n']?sequelize_utils_1[a114_0xb9dd('0xa')][a114_0xb9dd('0x1f')](_0x54ff79,_0x262876[a114_0xb9dd('0x20')][a114_0xb9dd('0x26')]):_0x54ff79;this[a114_0xb9dd('0x39')](_0x262876,_0x3879eb);delete _0x3879eb[a114_0xb9dd('0x27')]['id'];delete _0x3879eb[a114_0xb9dd('0x27')][a114_0xb9dd('0xe')];delete _0x3879eb[a114_0xb9dd('0x27')][a114_0xb9dd('0x18')];delete _0x3879eb[a114_0xb9dd('0x27')][a114_0xb9dd('0x19')];delete _0x3879eb[a114_0xb9dd('0x27')][a114_0xb9dd('0x1a')];delete _0x3879eb['dataValues']['updated_at'];delete _0x3879eb[a114_0xb9dd('0x27')][a114_0xb9dd('0x1c')];delete _0x3879eb[a114_0xb9dd('0x27')]['password'];if(_0x3b0b57){return _0x3b0b57['json']({'success':!![],'data':_0x3879eb});}else{return _0x3879eb;}})[a114_0xb9dd('0x11')](_0x35c3e5=>{if(_0x3b0b57){return _0x3b0b57[a114_0xb9dd('0x3a')](0x1f4)[a114_0xb9dd('0x3b')]({'success':![],'data':_0x35c3e5[a114_0xb9dd('0x12')]});}else{return _0x35c3e5[a114_0xb9dd('0x12')];}});}[a114_0xb9dd('0x3c')](_0x18b647,_0xf06534,_0x568aaa){if(!_0x18b647['user']){return responseUtils['errorResponse'](_0x18b647,_0xf06534,a114_0xb9dd('0x23'),0x191);}_0x18b647['body']=sequelize_utils_1[a114_0xb9dd('0xa')][a114_0xb9dd('0x24')](_0x18b647[a114_0xb9dd('0x37')]);_0x18b647[a114_0xb9dd('0x37')]['updated_by_user_id']=_0x18b647[a114_0xb9dd('0xc')]['id'];if(_0x18b647[a114_0xb9dd('0x37')][a114_0xb9dd('0x33')]&&_0x18b647[a114_0xb9dd('0x37')]['password']!=''){_0x18b647['body'][a114_0xb9dd('0x33')]=crypt_utils_1[a114_0xb9dd('0xa')]['hashPassword'](_0x18b647[a114_0xb9dd('0x37')][a114_0xb9dd('0x33')]);}this['model'][a114_0xb9dd('0x25')](_0x18b647[a114_0xb9dd('0x37')]['id'])[a114_0xb9dd('0x10')](_0x4f79c3=>{if(_0x4f79c3==null)return _0xf06534['json']({'success':!![],'data':_0x4f79c3});console[a114_0xb9dd('0x36')](a114_0xb9dd('0x3d'),_0x18b647[a114_0xb9dd('0x37')]);_0x4f79c3['update'](_0x18b647[a114_0xb9dd('0x37')],{'language_id':_0x18b647[a114_0xb9dd('0x20')][a114_0xb9dd('0x26')]})[a114_0xb9dd('0x10')](function(_0x38fecd){console['log']('data.update',_0x38fecd);const _0x23a1c9=this[a114_0xb9dd('0x8')]?sequelize_utils_1[a114_0xb9dd('0xa')]['toJSONLocalizedOnly'](_0x38fecd,_0x18b647[a114_0xb9dd('0x20')]['lang']):_0x38fecd;this[a114_0xb9dd('0x39')](_0x18b647,_0x23a1c9);delete _0x23a1c9[a114_0xb9dd('0x27')]['id'];delete _0x23a1c9[a114_0xb9dd('0x27')][a114_0xb9dd('0xe')];delete _0x23a1c9[a114_0xb9dd('0x27')]['updated_by_user_id'];delete _0x23a1c9[a114_0xb9dd('0x27')][a114_0xb9dd('0x19')];delete _0x23a1c9[a114_0xb9dd('0x27')][a114_0xb9dd('0x1a')];delete _0x23a1c9['dataValues']['updated_at'];delete _0x23a1c9[a114_0xb9dd('0x27')][a114_0xb9dd('0x1c')];delete _0x23a1c9[a114_0xb9dd('0x27')][a114_0xb9dd('0x33')];return _0xf06534['json']({'success':!![],'data':_0x23a1c9});}['bind'](this))[a114_0xb9dd('0x11')](_0x45429b=>{return _0xf06534['status'](0x1f4)[a114_0xb9dd('0x3b')]({'success':![],'data':_0x45429b[a114_0xb9dd('0x12')]});});})[a114_0xb9dd('0x11')](_0x251186=>{return _0xf06534[a114_0xb9dd('0x3a')](0x1f4)[a114_0xb9dd('0x3b')]({'success':![],'data':_0x251186['stack']});});}[a114_0xb9dd('0x3e')](_0xaed964,_0x8a422a,_0x45f758,_0x16b737=![],_0x2d7eab=![]){if(!_0xaed964[a114_0xb9dd('0xc')]&&!_0x2d7eab){return responseUtils[a114_0xb9dd('0x21')](_0xaed964,_0x8a422a,a114_0xb9dd('0x23'),0x191);}if(_0xaed964[a114_0xb9dd('0xc')]&&_0xaed964[a114_0xb9dd('0xc')][a114_0xb9dd('0x3f')]>0x0){}return this[a114_0xb9dd('0x7')][a114_0xb9dd('0x40')]({'where':_0xaed964['params']})[a114_0xb9dd('0x10')](function(_0x51a1ce){if(_0x51a1ce){return _0x51a1ce[a114_0xb9dd('0x41')](_0xaed964[a114_0xb9dd('0x37')])[a114_0xb9dd('0x10')](function(_0xe76f7d){const _0x4440ff=_0xe76f7d[a114_0xb9dd('0x27')];if(!_0x16b737){delete _0x4440ff['id'];}if(_0x8a422a){return _0x8a422a[a114_0xb9dd('0x42')]({'success':!![],'data':_0x4440ff});}else{return _0x4440ff;}}['bind'](this));}else{return this[a114_0xb9dd('0x7')][a114_0xb9dd('0x38')](_0xaed964[a114_0xb9dd('0x37')])[a114_0xb9dd('0x10')](function(_0x25cfe4){if(_0x8a422a){return _0x8a422a[a114_0xb9dd('0x42')]({'success':!![],'data':_0x25cfe4[a114_0xb9dd('0x43')]()});}else{return _0x25cfe4;}});}}['bind'](this))[a114_0xb9dd('0x11')](_0x17d8be=>{if(_0x8a422a){return _0x8a422a[a114_0xb9dd('0x3a')](0x1f4)[a114_0xb9dd('0x3b')]({'success':![],'data':_0x17d8be[a114_0xb9dd('0x12')]});}else{return _0x17d8be[a114_0xb9dd('0x12')];}});}[a114_0xb9dd('0x44')](_0x4be7d3,_0x1b731a,_0x2864d7){if(!_0x4be7d3[a114_0xb9dd('0xc')]){return _0x1b731a[a114_0xb9dd('0x3a')](0x191)[a114_0xb9dd('0x3b')]({'success':![],'data':'authentication\x20failed'});}_0x4be7d3[a114_0xb9dd('0x37')][a114_0xb9dd('0xe')]=_0x4be7d3[a114_0xb9dd('0xc')]['id'];return this['model'][a114_0xb9dd('0x44')]({'where':{'uuid':_0x4be7d3[a114_0xb9dd('0x37')][a114_0xb9dd('0x45')]},'defaults':_0x4be7d3[a114_0xb9dd('0x37')]})['then']((_0x2fa9c3,_0x388e6d)=>{if(_0x388e6d){}else{}return _0x1b731a[a114_0xb9dd('0x42')]({'success':!![],'data':_0x2fa9c3});})[a114_0xb9dd('0x11')](_0x572fd0=>{return _0x1b731a[a114_0xb9dd('0x3a')](0x1f4)[a114_0xb9dd('0x3b')]({'success':![],'data':_0x572fd0[a114_0xb9dd('0x12')]});});}[a114_0xb9dd('0x46')](_0x5ed8a9,_0x463cf5,_0x43beac){if(!_0x5ed8a9[a114_0xb9dd('0xc')]||_0x5ed8a9[a114_0xb9dd('0xc')]['length']==0x0){return _0x463cf5[a114_0xb9dd('0x3a')](0x191)[a114_0xb9dd('0x3b')]({'success':![],'data':'authentication\x20failed'});}_0x5ed8a9['params']['id']=sequelize_utils_1[a114_0xb9dd('0xa')][a114_0xb9dd('0x24')](_0x5ed8a9[a114_0xb9dd('0xf')]['id']);this['model'][a114_0xb9dd('0x25')](_0x5ed8a9[a114_0xb9dd('0xf')]['id'])[a114_0xb9dd('0x10')](_0x4b288f=>{if(_0x4b288f==null)return _0x463cf5[a114_0xb9dd('0x42')]({'success':!![],'data':_0x4b288f});_0x4b288f[a114_0xb9dd('0x41')]({'deleted_by_user_id':_0x5ed8a9[a114_0xb9dd('0xc')]['id']},{'language_id':_0x5ed8a9[a114_0xb9dd('0x20')]['lang']})[a114_0xb9dd('0x10')](function(_0x120387){_0x4b288f[a114_0xb9dd('0x47')]()[a114_0xb9dd('0x10')](function(_0x4b288f){return _0x463cf5[a114_0xb9dd('0x42')]({'success':!![],'data':_0x4b288f});})[a114_0xb9dd('0x11')](_0x34093f=>{return _0x463cf5[a114_0xb9dd('0x3a')](0x1f4)[a114_0xb9dd('0x3b')]({'success':![],'data':_0x34093f[a114_0xb9dd('0x12')]});});}[a114_0xb9dd('0x48')](this))[a114_0xb9dd('0x11')](_0x14a8c2=>{return _0x463cf5[a114_0xb9dd('0x3a')](0x1f4)[a114_0xb9dd('0x3b')]({'success':![],'data':_0x14a8c2[a114_0xb9dd('0x12')]});});})['catch'](_0x4e5416=>{return _0x463cf5[a114_0xb9dd('0x3a')](0x1f4)[a114_0xb9dd('0x3b')]({'success':![],'data':_0x4e5416[a114_0xb9dd('0x12')]});});}[a114_0xb9dd('0x39')](_0x7663fc,_0x16d1fc){if(_0x7663fc['body'][a114_0xb9dd('0x31')]&&_0x7663fc[a114_0xb9dd('0x37')][a114_0xb9dd('0x31')]!=''){const _0x3a587a=process[a114_0xb9dd('0x49')]['IMAGE_FILES_FOLDER']+a114_0xb9dd('0x2a');const _0x4ffd44=_0x7663fc[a114_0xb9dd('0x37')][a114_0xb9dd('0x31')];let _0x5433c7='';const _0x3156f8=_0x4ffd44['replace'](/^data:image\/(png|jpeg|jpg);base64,/,'');if(_0x4ffd44[a114_0xb9dd('0x4a')](/^data:image\/png;base64,/,'')){_0x5433c7='png';}else if(_0x4ffd44[a114_0xb9dd('0x4a')](/^data:image\/(jpg|jpeg);base64,/,'')){_0x5433c7=a114_0xb9dd('0x4b');}const _0x3e9198=sequelize_utils_1[a114_0xb9dd('0xa')][a114_0xb9dd('0x28')](_0x16d1fc[a114_0xb9dd('0x27')]['id']);fsExtra[a114_0xb9dd('0x4c')](_0x3a587a);const _0x37ff5f=''+_0x3a587a+this['model'][a114_0xb9dd('0x2b')]+'_'+_0x3e9198+'.'+_0x5433c7;console[a114_0xb9dd('0x36')](a114_0xb9dd('0x4d'),_0x37ff5f);fsExtra[a114_0xb9dd('0x4e')](_0x37ff5f,_0x3156f8,a114_0xb9dd('0x4f'),function(_0x51ed95){console[a114_0xb9dd('0x36')](a114_0xb9dd('0x50'),_0x51ed95);});}}['findByUuid'](_0x477055,_0x203ce2,_0x44d136){if(!_0x477055[a114_0xb9dd('0xc')]){}this['model']['findOne']({'attributes':{'exclude':[a114_0xb9dd('0xe'),a114_0xb9dd('0x18'),a114_0xb9dd('0x19'),'created_at',a114_0xb9dd('0x1b'),a114_0xb9dd('0x1c')]},'where':{'uuid':_0x477055[a114_0xb9dd('0xf')]['uuid']}})['then'](_0x25e17f=>{let _0xf112dd=this['i18n']?sequelize_utils_1[a114_0xb9dd('0xa')][a114_0xb9dd('0x1f')](_0x25e17f,_0x477055['headers']['lang']):_0x25e17f;if(_0xf112dd){const _0x18411f=process[a114_0xb9dd('0x49')][a114_0xb9dd('0x29')]+'images/'+_0xf112dd[a114_0xb9dd('0x45')]+a114_0xb9dd('0x2c');let _0x353740=null;if(fsExtra[a114_0xb9dd('0x51')](_0x18411f)){_0x353740=base64Img[a114_0xb9dd('0x2e')](_0x18411f);_0xf112dd=JSON['parse'](JSON['stringify'](_0xf112dd));_0xf112dd[a114_0xb9dd('0x31')]=_0x353740;}}return _0x203ce2[a114_0xb9dd('0x42')]({'success':!![],'data':_0xf112dd});})[a114_0xb9dd('0x11')](_0x1dc356=>{return _0x203ce2['status'](0x1f4)[a114_0xb9dd('0x3b')]({'success':![],'data':_0x1dc356[a114_0xb9dd('0x12')]});});}['findUuidAndUpdate'](_0x1098a1,_0x339c7a,_0x115082){if(!_0x1098a1[a114_0xb9dd('0xc')]){return _0x339c7a[a114_0xb9dd('0x3a')](0x191)[a114_0xb9dd('0x3b')]({'success':![],'data':'authentication\x20failed'});}if(_0x1098a1['user']&&_0x1098a1['user'][a114_0xb9dd('0x3f')]>0x0){}console[a114_0xb9dd('0x36')](_0x1098a1['params']);const _0x1c06f8=_0x1098a1[a114_0xb9dd('0x37')]['uuid']&&_0x1098a1['body'][a114_0xb9dd('0x45')]!=''?_0x1098a1[a114_0xb9dd('0x37')]['uuid']:_0x1098a1[a114_0xb9dd('0xf')][a114_0xb9dd('0x45')];this[a114_0xb9dd('0x7')]['findOne']({'where':{'uuid':_0x1c06f8}})[a114_0xb9dd('0x10')](_0x5c7ea4=>{if(_0x5c7ea4==null)return _0x339c7a[a114_0xb9dd('0x42')]({'success':!![],'data':_0x5c7ea4});_0x5c7ea4[a114_0xb9dd('0x41')](_0x1098a1[a114_0xb9dd('0x37')],{'language_id':_0x1098a1['headers']['lang']})['then'](function(_0x42ce61){const _0x1b6d16=this[a114_0xb9dd('0x8')]?sequelize_utils_1[a114_0xb9dd('0xa')][a114_0xb9dd('0x1f')](_0x5c7ea4,_0x1098a1['headers']['lang']):_0x5c7ea4;this[a114_0xb9dd('0x39')](_0x1098a1,_0x1b6d16);return _0x339c7a[a114_0xb9dd('0x42')]({'success':!![],'data':_0x1b6d16});}[a114_0xb9dd('0x48')](this))[a114_0xb9dd('0x11')](_0x4efabe=>{return _0x339c7a['status'](0x1f4)[a114_0xb9dd('0x3b')]({'success':![],'data':_0x4efabe[a114_0xb9dd('0x12')]});});})[a114_0xb9dd('0x11')](_0x8fa695=>{return _0x339c7a[a114_0xb9dd('0x3a')](0x1f4)['send']({'success':![],'data':_0x8fa695[a114_0xb9dd('0x12')]});});}}exports[a114_0xb9dd('0xa')]=CrudUtils;