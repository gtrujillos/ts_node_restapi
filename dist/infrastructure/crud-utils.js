var a97_0x593f=['find','user','created_by_user_id','updated_by_user_id','deleted_by_user_id','updated_at','deleted_at','toJSONLocalizedOnly','headers','lang','default','json','catch','send','stack','findById','length','status','authentication\x20failed','params','then','findAll','uuid','toJSON','create','dataValues','created_at','findOneAndUpdate','body','findByPk','bind','updateOrCreate','log','findOne','update','findOrCreate','remove','destroy','__importDefault','__esModule','defineProperty','./sequelize-utils','model','i18n'];(function(_0x19209f,_0x16bcd6){var _0x322c21=function(_0x1d3759){while(--_0x1d3759){_0x19209f['push'](_0x19209f['shift']());}};_0x322c21(++_0x16bcd6);}(a97_0x593f,0x102));var a97_0x80b8=function(_0x4cd8d6,_0x3fad07){_0x4cd8d6=_0x4cd8d6-0x0;var _0xf34dd6=a97_0x593f[_0x4cd8d6];return _0xf34dd6;};'use strict';var __importDefault=this&&this[a97_0x80b8('0x0')]||function(_0x58fe20){return _0x58fe20&&_0x58fe20[a97_0x80b8('0x1')]?_0x58fe20:{'default':_0x58fe20};};Object[a97_0x80b8('0x2')](exports,a97_0x80b8('0x1'),{'value':!![]});const sequelize_utils_1=__importDefault(require(a97_0x80b8('0x3')));class CrudUtils{constructor(_0x3ab463,_0x30037c){this[a97_0x80b8('0x4')]=_0x3ab463;this[a97_0x80b8('0x5')]=_0x30037c;}[a97_0x80b8('0x6')](_0x2583ef,_0x4cc32a,_0x1091b5,_0x2a5f6d=![]){if(!_0x2583ef[a97_0x80b8('0x7')]||_0x2583ef[a97_0x80b8('0x7')]['length']==0x0){}return this['model']['findAll']({'attributes':{'exclude':_0x2a5f6d?[]:['id',a97_0x80b8('0x8'),a97_0x80b8('0x9'),a97_0x80b8('0xa'),'created_at',a97_0x80b8('0xb'),a97_0x80b8('0xc')]},'where':{}})['then'](_0x3afbdc=>{const _0x2756ec=this[a97_0x80b8('0x5')]?sequelize_utils_1['default'][a97_0x80b8('0xd')](_0x3afbdc,_0x2583ef[a97_0x80b8('0xe')][a97_0x80b8('0xf')]):sequelize_utils_1[a97_0x80b8('0x10')]['toJSON'](_0x3afbdc);if(_0x4cc32a){return _0x4cc32a[a97_0x80b8('0x11')]({'success':!![],'data':_0x2756ec});}else{return _0x2756ec;}})[a97_0x80b8('0x12')](_0x410616=>{if(_0x4cc32a){return _0x4cc32a['status'](0x1f4)[a97_0x80b8('0x13')]({'success':![],'data':_0x410616[a97_0x80b8('0x14')]});}else{return _0x410616[a97_0x80b8('0x14')];}});}[a97_0x80b8('0x15')](_0x59ba2b,_0x222c9e,_0x1bdcf4){if(!_0x59ba2b[a97_0x80b8('0x7')]||_0x59ba2b[a97_0x80b8('0x7')][a97_0x80b8('0x16')]==0x0){return _0x222c9e[a97_0x80b8('0x17')](0x191)[a97_0x80b8('0x13')]({'success':![],'data':a97_0x80b8('0x18')});}this[a97_0x80b8('0x4')]['findById'](_0x59ba2b[a97_0x80b8('0x19')]['id'])[a97_0x80b8('0x1a')](_0x57b325=>{const _0x344c71=this[a97_0x80b8('0x5')]?sequelize_utils_1[a97_0x80b8('0x10')][a97_0x80b8('0xd')](_0x57b325,_0x59ba2b[a97_0x80b8('0xe')][a97_0x80b8('0xf')]):_0x57b325;return _0x222c9e[a97_0x80b8('0x11')]({'success':!![],'data':_0x344c71});})[a97_0x80b8('0x12')](_0x2076e4=>{return _0x222c9e['status'](0x1f4)[a97_0x80b8('0x13')]({'success':![],'data':_0x2076e4['stack']});});}['findByUUId'](_0x579b24,_0x3e40b9,_0x61fcf4){if(!_0x579b24[a97_0x80b8('0x7')]||_0x579b24[a97_0x80b8('0x7')][a97_0x80b8('0x16')]==0x0){}return this['model'][a97_0x80b8('0x1b')]({'where':{'uuid':_0x579b24[a97_0x80b8('0x19')][a97_0x80b8('0x1c')]}})[a97_0x80b8('0x1a')](_0x5b6353=>{const _0xbbad1e=this['i18n']?sequelize_utils_1['default'][a97_0x80b8('0xd')](_0x5b6353,_0x579b24[a97_0x80b8('0xe')][a97_0x80b8('0xf')]):sequelize_utils_1[a97_0x80b8('0x10')][a97_0x80b8('0x1d')](_0x5b6353);return _0xbbad1e;})['catch'](_0x1cd591=>{return _0x1cd591[a97_0x80b8('0x14')];});}['save'](_0x4ff361,_0x3516f0,_0x5aa83d){if(!_0x4ff361[a97_0x80b8('0x7')]||_0x4ff361[a97_0x80b8('0x7')]['length']==0x0){}if(_0x4ff361[a97_0x80b8('0x7')]&&_0x4ff361[a97_0x80b8('0x7')][a97_0x80b8('0x16')]>0x0){_0x4ff361['body'][a97_0x80b8('0x8')]=_0x4ff361['user'][0x0]['id'];}return this[a97_0x80b8('0x4')][a97_0x80b8('0x1e')](_0x4ff361['body'],{'language_id':_0x4ff361[a97_0x80b8('0xe')][a97_0x80b8('0xf')]})[a97_0x80b8('0x1a')](_0x341806=>{const _0x1d3d9a=this[a97_0x80b8('0x5')]?sequelize_utils_1[a97_0x80b8('0x10')]['toJSONLocalizedOnly'](_0x341806,_0x4ff361[a97_0x80b8('0xe')][a97_0x80b8('0xf')]):_0x341806;delete _0x1d3d9a[a97_0x80b8('0x1f')]['id'];delete _0x1d3d9a[a97_0x80b8('0x1f')][a97_0x80b8('0x8')];delete _0x1d3d9a['dataValues'][a97_0x80b8('0x9')];delete _0x1d3d9a[a97_0x80b8('0x1f')][a97_0x80b8('0xa')];delete _0x1d3d9a[a97_0x80b8('0x1f')][a97_0x80b8('0x20')];delete _0x1d3d9a[a97_0x80b8('0x1f')][a97_0x80b8('0xb')];delete _0x1d3d9a[a97_0x80b8('0x1f')]['deleted_at'];if(_0x3516f0){return _0x3516f0[a97_0x80b8('0x11')]({'success':!![],'data':_0x1d3d9a});}else{return _0x1d3d9a;}})[a97_0x80b8('0x12')](_0x4bb184=>{if(_0x3516f0){return _0x3516f0[a97_0x80b8('0x17')](0x1f4)[a97_0x80b8('0x13')]({'success':![],'data':_0x4bb184[a97_0x80b8('0x14')]});}else{return _0x4bb184[a97_0x80b8('0x14')];}});}[a97_0x80b8('0x21')](_0x1d9fdf,_0x35e9bc,_0x5d3627){if(!_0x1d9fdf[a97_0x80b8('0x7')]||_0x1d9fdf[a97_0x80b8('0x7')][a97_0x80b8('0x16')]==0x0){}if(_0x1d9fdf[a97_0x80b8('0x7')]&&_0x1d9fdf[a97_0x80b8('0x7')]['length']>0x0){_0x1d9fdf[a97_0x80b8('0x22')][a97_0x80b8('0x8')]=_0x1d9fdf[a97_0x80b8('0x7')][0x0]['id'];}this[a97_0x80b8('0x4')][a97_0x80b8('0x23')](_0x1d9fdf[a97_0x80b8('0x22')]['id'])['then'](_0x5a69e4=>{if(_0x5a69e4==null)return _0x35e9bc[a97_0x80b8('0x11')]({'success':!![],'data':_0x5a69e4});_0x5a69e4['update'](_0x1d9fdf[a97_0x80b8('0x22')],{'language_id':_0x1d9fdf[a97_0x80b8('0xe')][a97_0x80b8('0xf')]})[a97_0x80b8('0x1a')](function(_0x2e2b74){const _0xc498c6=this[a97_0x80b8('0x5')]?sequelize_utils_1[a97_0x80b8('0x10')]['toJSONLocalizedOnly'](_0x5a69e4,_0x1d9fdf[a97_0x80b8('0xe')]['lang']):_0x5a69e4;return _0x35e9bc[a97_0x80b8('0x11')]({'success':!![],'data':_0xc498c6});}[a97_0x80b8('0x24')](this))['catch'](_0x37a86a=>{return _0x35e9bc[a97_0x80b8('0x17')](0x1f4)[a97_0x80b8('0x13')]({'success':![],'data':_0x37a86a['stack']});});})[a97_0x80b8('0x12')](_0x4fa8fe=>{return _0x35e9bc[a97_0x80b8('0x17')](0x1f4)[a97_0x80b8('0x13')]({'success':![],'data':_0x4fa8fe['stack']});});}[a97_0x80b8('0x25')](_0x3b779e,_0x2e1a4a,_0x954b6f,_0xac9c16=![]){if(!_0x3b779e[a97_0x80b8('0x7')]||_0x3b779e[a97_0x80b8('0x7')][a97_0x80b8('0x16')]==0x0){}if(_0x3b779e[a97_0x80b8('0x7')]&&_0x3b779e['user'][a97_0x80b8('0x16')]>0x0){_0x3b779e['body'][a97_0x80b8('0x8')]=_0x3b779e[a97_0x80b8('0x7')][0x0]['id'];}console[a97_0x80b8('0x26')](_0x3b779e[a97_0x80b8('0x19')]);return this[a97_0x80b8('0x4')][a97_0x80b8('0x27')]({'where':_0x3b779e[a97_0x80b8('0x19')]})[a97_0x80b8('0x1a')](function(_0x392d92){if(_0x392d92){return _0x392d92[a97_0x80b8('0x28')](_0x3b779e['body'])[a97_0x80b8('0x1a')](function(_0x5a34ac){const _0x39bf9d=_0x5a34ac[a97_0x80b8('0x1f')];if(_0xac9c16){delete _0x39bf9d['id'];}if(_0x2e1a4a){return _0x2e1a4a[a97_0x80b8('0x11')]({'success':!![],'data':_0x39bf9d});}else{return _0x39bf9d;}}[a97_0x80b8('0x24')](this));}else{return this[a97_0x80b8('0x4')][a97_0x80b8('0x1e')](_0x3b779e[a97_0x80b8('0x22')])['then'](function(_0x1c07b9){if(_0x2e1a4a){return _0x2e1a4a[a97_0x80b8('0x11')]({'success':!![],'data':_0x1c07b9['toJSON']()});}else{return _0x1c07b9;}});}}[a97_0x80b8('0x24')](this))[a97_0x80b8('0x12')](_0x29883b=>{if(_0x2e1a4a){return _0x2e1a4a[a97_0x80b8('0x17')](0x1f4)['send']({'success':![],'data':_0x29883b[a97_0x80b8('0x14')]});}else{return _0x29883b['stack'];}});}['findOrCreate'](_0x5c90bd,_0x862601,_0x51ec8b){if(!_0x5c90bd['user']||_0x5c90bd[a97_0x80b8('0x7')][a97_0x80b8('0x16')]==0x0){}if(_0x5c90bd[a97_0x80b8('0x7')]&&_0x5c90bd['user']['length']>0x0){_0x5c90bd[a97_0x80b8('0x22')][a97_0x80b8('0x8')]=_0x5c90bd[a97_0x80b8('0x7')][0x0]['id'];}return this['model'][a97_0x80b8('0x29')]({'where':{'uuid':_0x5c90bd[a97_0x80b8('0x22')][a97_0x80b8('0x1c')]},'defaults':_0x5c90bd[a97_0x80b8('0x22')]})[a97_0x80b8('0x1a')]((_0x1fae64,_0x185b22)=>{if(_0x185b22){}else{}return _0x862601[a97_0x80b8('0x11')]({'success':!![],'data':_0x1fae64});})[a97_0x80b8('0x12')](_0x51a70b=>{return _0x862601[a97_0x80b8('0x17')](0x1f4)[a97_0x80b8('0x13')]({'success':![],'data':_0x51a70b[a97_0x80b8('0x14')]});});}[a97_0x80b8('0x2a')](_0x534678,_0x121111,_0x13fe19){if(!_0x534678['user']||_0x534678[a97_0x80b8('0x7')]['length']==0x0){return _0x121111[a97_0x80b8('0x17')](0x191)[a97_0x80b8('0x13')]({'success':![],'data':a97_0x80b8('0x18')});}if(_0x534678[a97_0x80b8('0x7')]&&_0x534678[a97_0x80b8('0x7')][a97_0x80b8('0x16')]>0x0){_0x534678[a97_0x80b8('0x22')]['created_by_user_id']=_0x534678[a97_0x80b8('0x7')][0x0]['id'];}this[a97_0x80b8('0x4')][a97_0x80b8('0x15')](_0x534678[a97_0x80b8('0x19')]['id'])['then'](_0x3a3177=>{if(_0x3a3177==null)return _0x121111[a97_0x80b8('0x11')]({'success':!![],'data':_0x3a3177});_0x3a3177[a97_0x80b8('0x2b')]()[a97_0x80b8('0x1a')](function(_0x201ff1){const _0x442427=this[a97_0x80b8('0x5')]?sequelize_utils_1['default'][a97_0x80b8('0xd')](_0x3a3177,_0x534678['headers'][a97_0x80b8('0xf')]):_0x3a3177;return _0x121111['json']({'success':!![],'data':_0x442427});})[a97_0x80b8('0x12')](_0x1da3dd=>{return _0x121111[a97_0x80b8('0x17')](0x1f4)[a97_0x80b8('0x13')]({'success':![],'data':_0x1da3dd[a97_0x80b8('0x14')]});});})[a97_0x80b8('0x12')](_0x31bc1e=>{return _0x121111[a97_0x80b8('0x17')](0x1f4)[a97_0x80b8('0x13')]({'success':![],'data':_0x31bc1e[a97_0x80b8('0x14')]});});}}exports[a97_0x80b8('0x10')]=CrudUtils;