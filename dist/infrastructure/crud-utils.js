var a91_0x4912=['create','lang','dataValues','deleted_by_user_id','deleted_at','findOneAndUpdate','authentication\x20failed','update','remove','destroy','__importDefault','__esModule','defineProperty','model','i18n','find','user','length','findAll','created_by_user_id','updated_by_user_id','created_at','updated_at','then','default','headers','json','catch','status','findById','send','params','toJSONLocalizedOnly','stack','save','body'];(function(_0x5af1e8,_0x4ed25d){var _0x313c11=function(_0xa94f79){while(--_0xa94f79){_0x5af1e8['push'](_0x5af1e8['shift']());}};_0x313c11(++_0x4ed25d);}(a91_0x4912,0x14e));var a91_0x481a=function(_0x3e3a0c,_0x510da8){_0x3e3a0c=_0x3e3a0c-0x0;var _0xc1669c=a91_0x4912[_0x3e3a0c];return _0xc1669c;};'use strict';var __importDefault=this&&this[a91_0x481a('0x0')]||function(_0x378819){return _0x378819&&_0x378819[a91_0x481a('0x1')]?_0x378819:{'default':_0x378819};};Object[a91_0x481a('0x2')](exports,a91_0x481a('0x1'),{'value':!![]});const sequelize_utils_1=__importDefault(require('./sequelize-utils'));class CrudUtils{constructor(_0x417ac6,_0x5b3154){this[a91_0x481a('0x3')]=_0x417ac6;this[a91_0x481a('0x4')]=_0x5b3154;}[a91_0x481a('0x5')](_0x23047f,_0x1402a6,_0x76e87e){if(!_0x23047f[a91_0x481a('0x6')]||_0x23047f['user'][a91_0x481a('0x7')]==0x0){}this[a91_0x481a('0x3')][a91_0x481a('0x8')]({'attributes':{'exclude':['id',a91_0x481a('0x9'),a91_0x481a('0xa'),'deleted_by_user_id',a91_0x481a('0xb'),a91_0x481a('0xc'),'deleted_at']}})[a91_0x481a('0xd')](_0xb5e1b1=>{const _0x2635aa=this[a91_0x481a('0x4')]?sequelize_utils_1[a91_0x481a('0xe')]['toJSONLocalizedOnly'](_0xb5e1b1,_0x23047f[a91_0x481a('0xf')]['lang']):_0xb5e1b1;return _0x1402a6[a91_0x481a('0x10')]({'success':!![],'data':_0x2635aa});})[a91_0x481a('0x11')](_0x1f5d4a=>{return _0x1402a6[a91_0x481a('0x12')](0x1f4)['send']({'success':![],'data':_0x1f5d4a['stack']});});}[a91_0x481a('0x13')](_0x48aff3,_0x39d97c,_0x43c6f7){if(!_0x48aff3[a91_0x481a('0x6')]||_0x48aff3[a91_0x481a('0x6')][a91_0x481a('0x7')]==0x0){return _0x39d97c[a91_0x481a('0x12')](0x191)[a91_0x481a('0x14')]({'success':![],'data':'authentication\x20failed'});}this[a91_0x481a('0x3')][a91_0x481a('0x13')](_0x48aff3[a91_0x481a('0x15')]['id'])['then'](_0x8956d3=>{const _0xea6080=this[a91_0x481a('0x4')]?sequelize_utils_1[a91_0x481a('0xe')][a91_0x481a('0x16')](_0x8956d3,_0x48aff3[a91_0x481a('0xf')]['lang']):_0x8956d3;return _0x39d97c[a91_0x481a('0x10')]({'success':!![],'data':_0xea6080});})['catch'](_0x10008f=>{return _0x39d97c[a91_0x481a('0x12')](0x1f4)[a91_0x481a('0x14')]({'success':![],'data':_0x10008f[a91_0x481a('0x17')]});});}[a91_0x481a('0x18')](_0x36ea11,_0x48df3c,_0x15a1b4){if(!_0x36ea11[a91_0x481a('0x6')]||_0x36ea11[a91_0x481a('0x6')][a91_0x481a('0x7')]==0x0){}if(_0x36ea11[a91_0x481a('0x6')]&&_0x36ea11[a91_0x481a('0x6')][a91_0x481a('0x7')]>0x0){_0x36ea11[a91_0x481a('0x19')][a91_0x481a('0x9')]=_0x36ea11[a91_0x481a('0x6')][0x0]['id'];}this[a91_0x481a('0x3')][a91_0x481a('0x1a')](_0x36ea11[a91_0x481a('0x19')],{'language_id':_0x36ea11[a91_0x481a('0xf')][a91_0x481a('0x1b')]})['then'](_0x19e3eb=>{const _0x5b0a6b=this[a91_0x481a('0x4')]?sequelize_utils_1[a91_0x481a('0xe')]['toJSONLocalizedOnly'](_0x19e3eb,_0x36ea11['headers'][a91_0x481a('0x1b')]):_0x19e3eb;delete _0x5b0a6b[a91_0x481a('0x1c')]['id'];delete _0x5b0a6b['dataValues'][a91_0x481a('0x9')];delete _0x5b0a6b['dataValues'][a91_0x481a('0xa')];delete _0x5b0a6b[a91_0x481a('0x1c')][a91_0x481a('0x1d')];delete _0x5b0a6b['dataValues'][a91_0x481a('0xb')];delete _0x5b0a6b[a91_0x481a('0x1c')][a91_0x481a('0xc')];delete _0x5b0a6b[a91_0x481a('0x1c')][a91_0x481a('0x1e')];return _0x48df3c[a91_0x481a('0x10')]({'success':!![],'data':_0x5b0a6b});})[a91_0x481a('0x11')](_0x5e2caa=>{return _0x48df3c['status'](0x1f4)[a91_0x481a('0x14')]({'success':![],'data':_0x5e2caa['stack']});});}[a91_0x481a('0x1f')](_0x45165d,_0x33305d,_0x440921){if(!_0x45165d['user']||_0x45165d[a91_0x481a('0x6')][a91_0x481a('0x7')]==0x0){return _0x33305d[a91_0x481a('0x12')](0x191)[a91_0x481a('0x14')]({'success':![],'data':a91_0x481a('0x20')});}if(_0x45165d['user']&&_0x45165d[a91_0x481a('0x6')][a91_0x481a('0x7')]>0x0){_0x45165d['body'][a91_0x481a('0x9')]=_0x45165d['user'][0x0]['id'];}this[a91_0x481a('0x3')][a91_0x481a('0x13')](_0x45165d[a91_0x481a('0x15')]['id'])[a91_0x481a('0xd')](_0x2b32f0=>{if(_0x2b32f0==null)return _0x33305d['json']({'success':!![],'data':_0x2b32f0});_0x2b32f0[a91_0x481a('0x21')](_0x45165d[a91_0x481a('0x19')],{'language_id':_0x45165d[a91_0x481a('0xf')][a91_0x481a('0x1b')]})[a91_0x481a('0xd')](function(_0x36a6ee){const _0x157e1d=this[a91_0x481a('0x4')]?sequelize_utils_1[a91_0x481a('0xe')][a91_0x481a('0x16')](_0x2b32f0,_0x45165d[a91_0x481a('0xf')][a91_0x481a('0x1b')]):_0x2b32f0;return _0x33305d[a91_0x481a('0x10')]({'success':!![],'data':_0x157e1d});})[a91_0x481a('0x11')](_0x471ee4=>{return _0x33305d['status'](0x1f4)[a91_0x481a('0x14')]({'success':![],'data':_0x471ee4[a91_0x481a('0x17')]});});})[a91_0x481a('0x11')](_0x3b1225=>{return _0x33305d[a91_0x481a('0x12')](0x1f4)[a91_0x481a('0x14')]({'success':![],'data':_0x3b1225[a91_0x481a('0x17')]});});}[a91_0x481a('0x22')](_0x3a252e,_0x12ff92,_0x11beb0){if(!_0x3a252e['user']||_0x3a252e['user'][a91_0x481a('0x7')]==0x0){return _0x12ff92[a91_0x481a('0x12')](0x191)['send']({'success':![],'data':a91_0x481a('0x20')});}if(_0x3a252e['user']&&_0x3a252e['user'][a91_0x481a('0x7')]>0x0){_0x3a252e['body'][a91_0x481a('0x9')]=_0x3a252e[a91_0x481a('0x6')][0x0]['id'];}this['model'][a91_0x481a('0x13')](_0x3a252e[a91_0x481a('0x15')]['id'])[a91_0x481a('0xd')](_0x388f1f=>{if(_0x388f1f==null)return _0x12ff92[a91_0x481a('0x10')]({'success':!![],'data':_0x388f1f});_0x388f1f[a91_0x481a('0x23')]()[a91_0x481a('0xd')](function(_0x5bcf29){const _0x58ce3b=this[a91_0x481a('0x4')]?sequelize_utils_1[a91_0x481a('0xe')][a91_0x481a('0x16')](_0x388f1f,_0x3a252e['headers']['lang']):_0x388f1f;return _0x12ff92[a91_0x481a('0x10')]({'success':!![],'data':_0x58ce3b});})['catch'](_0x35d54e=>{return _0x12ff92[a91_0x481a('0x12')](0x1f4)[a91_0x481a('0x14')]({'success':![],'data':_0x35d54e[a91_0x481a('0x17')]});});})[a91_0x481a('0x11')](_0x27c9e3=>{return _0x12ff92['status'](0x1f4)[a91_0x481a('0x14')]({'success':![],'data':_0x27c9e3['stack']});});}}exports[a91_0x481a('0xe')]=CrudUtils;