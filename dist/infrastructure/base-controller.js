var a185_0x2099=['DESC','includeAll','then','errorResponse','authentication\x20failed','updated_by_user_id','deleted_by_user_id','password','is_private','user','decryptId','created_by_user_id','successResponse','catch','stack','__importDefault','__esModule','defineProperty','express','./crud-utils','default','Router','../infrastructure/response-utils','orderBy','model','i18n','shared','find','bind','findById','findByUuid','save','findOneAndUpdate','remove','count','featured','featuredLogged','featuredTotal','featuredLoggedTotal','details','crudUtils','include','length','findUuidAndUpdate','update','findOrCreate','updateOrCreate','params','public','updated_at'];(function(_0x5cdbeb,_0x2bba29){var _0x18d2c9=function(_0xf53e50){while(--_0xf53e50){_0x5cdbeb['push'](_0x5cdbeb['shift']());}};_0x18d2c9(++_0x2bba29);}(a185_0x2099,0x109));var a185_0x389d=function(_0x48e6e0,_0x244577){_0x48e6e0=_0x48e6e0-0x0;var _0x478f17=a185_0x2099[_0x48e6e0];return _0x478f17;};'use strict';var __importDefault=this&&this[a185_0x389d('0x0')]||function(_0x2e815e){return _0x2e815e&&_0x2e815e[a185_0x389d('0x1')]?_0x2e815e:{'default':_0x2e815e};};Object[a185_0x389d('0x2')](exports,a185_0x389d('0x1'),{'value':!![]});const express_1=__importDefault(require(a185_0x389d('0x3')));const crud_utils_1=__importDefault(require(a185_0x389d('0x4')));const crudOptions_1=__importDefault(require('../app/shared/models/crudOptions'));const sequelize_utils_1=__importDefault(require('./sequelize-utils'));const router=express_1[a185_0x389d('0x5')][a185_0x389d('0x6')]();const responseUtils=require(a185_0x389d('0x7'));class BaseController{constructor(_0x528994,_0x36735d,_0x5c33d0=![]){this['include']=[];this[a185_0x389d('0x8')]=[];this[a185_0x389d('0x9')]=_0x528994;this[a185_0x389d('0xa')]=_0x36735d;this['crudUtils']=new crud_utils_1[(a185_0x389d('0x5'))](_0x528994,_0x36735d);this[a185_0x389d('0xb')]=_0x5c33d0;this[a185_0x389d('0xc')]=this[a185_0x389d('0xc')][a185_0x389d('0xd')](this);this[a185_0x389d('0xe')]=this['findById']['bind'](this);this[a185_0x389d('0xf')]=this[a185_0x389d('0xf')]['bind'](this);this[a185_0x389d('0x10')]=this[a185_0x389d('0x10')][a185_0x389d('0xd')](this);this['findOneAndUpdate']=this[a185_0x389d('0x11')][a185_0x389d('0xd')](this);this[a185_0x389d('0x12')]=this[a185_0x389d('0x12')][a185_0x389d('0xd')](this);this[a185_0x389d('0x13')]=this[a185_0x389d('0x13')][a185_0x389d('0xd')](this);this[a185_0x389d('0x14')]=this['featured']['bind'](this);this[a185_0x389d('0x15')]=this['featuredLogged'][a185_0x389d('0xd')](this);this[a185_0x389d('0x16')]=this[a185_0x389d('0x16')][a185_0x389d('0xd')](this);this['featuredLoggedTotal']=this[a185_0x389d('0x17')][a185_0x389d('0xd')](this);this[a185_0x389d('0x18')]=this['details'][a185_0x389d('0xd')](this);}[a185_0x389d('0x13')](_0x2bc3fd,_0x29db2b,_0x4dfbb2,_0x36b407=new crudOptions_1['default']()){if(_0x36b407){_0x36b407['shared']=_0x36b407[a185_0x389d('0xb')]||this[a185_0x389d('0xb')];}return this[a185_0x389d('0x19')][a185_0x389d('0x13')](_0x2bc3fd,_0x29db2b,_0x4dfbb2,_0x36b407);}[a185_0x389d('0xc')](_0x3b46bb,_0x387f7a,_0x1b44ab,_0x364aa8=new crudOptions_1[(a185_0x389d('0x5'))]()){if(_0x364aa8){if(_0x364aa8[a185_0x389d('0x1a')]&&_0x364aa8[a185_0x389d('0x1a')][a185_0x389d('0x1b')]==0x0&&this[a185_0x389d('0x1a')]['length']>0x0){_0x364aa8[a185_0x389d('0x1a')]=this[a185_0x389d('0x1a')];}_0x364aa8[a185_0x389d('0x8')]=_0x364aa8[a185_0x389d('0x8')]!=null&&_0x364aa8['orderBy']['length']>0x0?_0x364aa8['orderBy']:this[a185_0x389d('0x8')];_0x364aa8[a185_0x389d('0xb')]=_0x364aa8['shared']||this['shared'];}return this[a185_0x389d('0x19')]['find'](_0x3b46bb,_0x387f7a,_0x1b44ab,_0x364aa8);}[a185_0x389d('0xe')](_0x5a28db,_0x20efc2,_0x1acb11){return this[a185_0x389d('0x19')]['findById'](_0x5a28db,_0x20efc2,_0x1acb11);}[a185_0x389d('0xf')](_0x26e631,_0x3e2a4b,_0x39644a){return this[a185_0x389d('0x19')]['findByUuid'](_0x26e631,_0x3e2a4b,_0x39644a);}[a185_0x389d('0x10')](_0x1536e5,_0xf1e422,_0x30b089){return this[a185_0x389d('0x19')]['save'](_0x1536e5,_0xf1e422,_0x30b089);}[a185_0x389d('0x11')](_0x47e68d,_0x335a41,_0x41dad9){return this['crudUtils'][a185_0x389d('0x11')](_0x47e68d,_0x335a41,_0x41dad9);}[a185_0x389d('0x1c')](_0x21f4d4,_0x349d18,_0x14d1d0){return this[a185_0x389d('0x19')]['findUuidAndUpdate'](_0x21f4d4,_0x349d18,_0x14d1d0);}[a185_0x389d('0x1d')](_0x26d05e,_0xa3a25b,_0x14bbee){return this[a185_0x389d('0x19')][a185_0x389d('0x11')](_0x26d05e,_0xa3a25b,_0x14bbee);}['findOrCreate'](_0x478007,_0x8f1fa6,_0x27b06e){return this[a185_0x389d('0x19')][a185_0x389d('0x1e')](_0x478007,_0x8f1fa6,_0x27b06e);}[a185_0x389d('0x1f')](_0x247eb7,_0x592862,_0x4021e1,_0x496733=![],_0x19316a=![]){return this[a185_0x389d('0x19')][a185_0x389d('0x1f')](_0x247eb7,_0x592862,_0x4021e1,_0x496733,_0x19316a);}[a185_0x389d('0x12')](_0x574fe9,_0x565dd2,_0x25ee11){return this[a185_0x389d('0x19')][a185_0x389d('0x12')](_0x574fe9,_0x565dd2,_0x25ee11);}[a185_0x389d('0x14')](_0x2e7e5b,_0xf539de,_0x298d38){_0x2e7e5b[a185_0x389d('0x20')]={'is_private':![]};const _0x469d9e=new crudOptions_1['default']();_0x469d9e[a185_0x389d('0x21')]=!![];_0x469d9e[a185_0x389d('0xb')]=!![];_0x469d9e[a185_0x389d('0x8')]=[[a185_0x389d('0x22'),a185_0x389d('0x23')]];return this[a185_0x389d('0xc')](_0x2e7e5b,_0xf539de,_0x298d38,_0x469d9e);}[a185_0x389d('0x15')](_0x1786d1,_0x59e99e,_0x371e6e){const _0xe2867f=new crudOptions_1[(a185_0x389d('0x5'))]();_0xe2867f[a185_0x389d('0x8')]=[[a185_0x389d('0x22'),a185_0x389d('0x23')]];return this[a185_0x389d('0xc')](_0x1786d1,_0x59e99e,_0x371e6e,_0xe2867f);}[a185_0x389d('0x17')](_0x551066,_0x1e6a63,_0xc81cbf){const _0x47d0b7=new crudOptions_1['default']();return this['count'](_0x551066,_0x1e6a63,_0xc81cbf,_0x47d0b7);}[a185_0x389d('0x16')](_0x3633d9,_0x1640a9,_0x4a2009){_0x3633d9['params']={'is_private':![]};const _0x5c53c6=new crudOptions_1[(a185_0x389d('0x5'))]();_0x5c53c6[a185_0x389d('0x21')]=!![];_0x5c53c6['shared']=!![];return this['count'](_0x3633d9,_0x1640a9,_0x4a2009,_0x5c53c6);}[a185_0x389d('0x18')](_0x2dea6a,_0x3e8158,_0x376f73){const _0x452905=new crudOptions_1['default']();_0x452905[a185_0x389d('0x21')]=!![];_0x452905['shared']=!![];_0x452905[a185_0x389d('0x24')]=!![];this[a185_0x389d('0x19')][a185_0x389d('0xe')](_0x2dea6a,null,_0x376f73,_0x452905)[a185_0x389d('0x25')](_0x7061d5=>{if(_0x7061d5==null){return responseUtils[a185_0x389d('0x26')](_0x2dea6a,_0x3e8158,a185_0x389d('0x27'),0x191);}delete _0x7061d5[a185_0x389d('0x28')];delete _0x7061d5[a185_0x389d('0x29')];delete _0x7061d5['created_at'];delete _0x7061d5[a185_0x389d('0x22')];delete _0x7061d5['deleted_at'];delete _0x7061d5[a185_0x389d('0x2a')];if(_0x7061d5[a185_0x389d('0x2b')]){if(_0x2dea6a[a185_0x389d('0x2c')]){if(_0x2dea6a['user']['id']==sequelize_utils_1['default'][a185_0x389d('0x2d')](_0x7061d5[a185_0x389d('0x2e')])){delete _0x7061d5[a185_0x389d('0x2e')];return responseUtils['successResponse'](_0x2dea6a,_0x3e8158,_0x7061d5,0xc8);}else{return responseUtils['errorResponse'](_0x2dea6a,_0x3e8158,a185_0x389d('0x27'),0x191);}}else{return responseUtils[a185_0x389d('0x26')](_0x2dea6a,_0x3e8158,'authentication\x20failed',0x191);}}else{delete _0x7061d5[a185_0x389d('0x2e')];return responseUtils[a185_0x389d('0x2f')](_0x2dea6a,_0x3e8158,_0x7061d5,0xc8);}})[a185_0x389d('0x30')](_0x168ea0=>{return responseUtils[a185_0x389d('0x26')](_0x3e8158,_0x168ea0[a185_0x389d('0x31')],0x1f4);});}}exports[a185_0x389d('0x5')]=BaseController;