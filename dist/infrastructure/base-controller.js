var a294_0x1704=['featuredLoggedTotal','details','shared','include','length','findByUuid','findUuidAndUpdate','update','findOrCreate','updateOrCreate','params','public','then','deleted_by_user_id','created_at','deleted_at','password','user','created_by_user_id','successResponse','errorResponse','authentication\x20failed','catch','stack','__importDefault','__esModule','express','./crud-utils','../app/shared/models/crudOptions','default','Router','../infrastructure/response-utils','orderBy','model','i18n','crudUtils','find','findById','bind','save','findOneAndUpdate','remove','count','featured','featuredLogged','featuredTotal'];(function(_0x3f05be,_0x5381cc){var _0x115c50=function(_0x4512e7){while(--_0x4512e7){_0x3f05be['push'](_0x3f05be['shift']());}};_0x115c50(++_0x5381cc);}(a294_0x1704,0xa2));var a294_0x3bc5=function(_0x230ab2,_0x585eb8){_0x230ab2=_0x230ab2-0x0;var _0x17e896=a294_0x1704[_0x230ab2];return _0x17e896;};'use strict';var __importDefault=this&&this[a294_0x3bc5('0x0')]||function(_0x3c43c7){return _0x3c43c7&&_0x3c43c7[a294_0x3bc5('0x1')]?_0x3c43c7:{'default':_0x3c43c7};};Object['defineProperty'](exports,a294_0x3bc5('0x1'),{'value':!![]});const express_1=__importDefault(require(a294_0x3bc5('0x2')));const crud_utils_1=__importDefault(require(a294_0x3bc5('0x3')));const crudOptions_1=__importDefault(require(a294_0x3bc5('0x4')));const sequelize_utils_1=__importDefault(require('./sequelize-utils'));const router=express_1[a294_0x3bc5('0x5')][a294_0x3bc5('0x6')]();const responseUtils=require(a294_0x3bc5('0x7'));class BaseController{constructor(_0x21fd03,_0x176698,_0x3ca14a=![]){this['include']=[];this[a294_0x3bc5('0x8')]=[];this[a294_0x3bc5('0x9')]=_0x21fd03;this[a294_0x3bc5('0xa')]=_0x176698;this[a294_0x3bc5('0xb')]=new crud_utils_1[(a294_0x3bc5('0x5'))](_0x21fd03,_0x176698);this['shared']=_0x3ca14a;this[a294_0x3bc5('0xc')]=this[a294_0x3bc5('0xc')]['bind'](this);this[a294_0x3bc5('0xd')]=this[a294_0x3bc5('0xd')][a294_0x3bc5('0xe')](this);this['findByUuid']=this['findByUuid'][a294_0x3bc5('0xe')](this);this[a294_0x3bc5('0xf')]=this[a294_0x3bc5('0xf')][a294_0x3bc5('0xe')](this);this[a294_0x3bc5('0x10')]=this[a294_0x3bc5('0x10')][a294_0x3bc5('0xe')](this);this[a294_0x3bc5('0x11')]=this[a294_0x3bc5('0x11')][a294_0x3bc5('0xe')](this);this[a294_0x3bc5('0x12')]=this[a294_0x3bc5('0x12')][a294_0x3bc5('0xe')](this);this[a294_0x3bc5('0x13')]=this[a294_0x3bc5('0x13')][a294_0x3bc5('0xe')](this);this[a294_0x3bc5('0x14')]=this[a294_0x3bc5('0x14')][a294_0x3bc5('0xe')](this);this[a294_0x3bc5('0x15')]=this[a294_0x3bc5('0x15')][a294_0x3bc5('0xe')](this);this['featuredLoggedTotal']=this[a294_0x3bc5('0x16')]['bind'](this);this['details']=this[a294_0x3bc5('0x17')][a294_0x3bc5('0xe')](this);}[a294_0x3bc5('0x12')](_0x31d6ab,_0xf7b66,_0xc810b1,_0x45f524=new crudOptions_1[(a294_0x3bc5('0x5'))]()){if(_0x45f524){_0x45f524[a294_0x3bc5('0x18')]=_0x45f524[a294_0x3bc5('0x18')]||this[a294_0x3bc5('0x18')];}return this[a294_0x3bc5('0xb')][a294_0x3bc5('0x12')](_0x31d6ab,_0xf7b66,_0xc810b1,_0x45f524);}[a294_0x3bc5('0xc')](_0x5d090d,_0x28a1b0,_0x26a80f,_0x419d6a=new crudOptions_1[(a294_0x3bc5('0x5'))]()){if(_0x419d6a){if(_0x419d6a['include']&&_0x419d6a[a294_0x3bc5('0x19')][a294_0x3bc5('0x1a')]==0x0&&this[a294_0x3bc5('0x19')][a294_0x3bc5('0x1a')]>0x0){_0x419d6a[a294_0x3bc5('0x19')]=this[a294_0x3bc5('0x19')];}_0x419d6a[a294_0x3bc5('0x8')]=_0x419d6a[a294_0x3bc5('0x8')]!=null&&_0x419d6a[a294_0x3bc5('0x8')][a294_0x3bc5('0x1a')]>0x0?_0x419d6a[a294_0x3bc5('0x8')]:this['orderBy'];_0x419d6a[a294_0x3bc5('0x18')]=_0x419d6a['shared']||this['shared'];}return this[a294_0x3bc5('0xb')][a294_0x3bc5('0xc')](_0x5d090d,_0x28a1b0,_0x26a80f,_0x419d6a);}[a294_0x3bc5('0xd')](_0x4a8cf2,_0x15a7ea,_0x10be7d){return this[a294_0x3bc5('0xb')][a294_0x3bc5('0xd')](_0x4a8cf2,_0x15a7ea,_0x10be7d);}[a294_0x3bc5('0x1b')](_0x342e6c,_0xf975d4,_0x2974a9){return this['crudUtils'][a294_0x3bc5('0x1b')](_0x342e6c,_0xf975d4,_0x2974a9);}[a294_0x3bc5('0xf')](_0xc95408,_0x39efd2,_0x2172ea){return this[a294_0x3bc5('0xb')][a294_0x3bc5('0xf')](_0xc95408,_0x39efd2,_0x2172ea);}[a294_0x3bc5('0x10')](_0x50403c,_0x5a9d41,_0x7cd790){return this[a294_0x3bc5('0xb')][a294_0x3bc5('0x10')](_0x50403c,_0x5a9d41,_0x7cd790);}[a294_0x3bc5('0x1c')](_0x32a14e,_0x553926,_0x1ac79e){return this[a294_0x3bc5('0xb')][a294_0x3bc5('0x1c')](_0x32a14e,_0x553926,_0x1ac79e);}[a294_0x3bc5('0x1d')](_0xeb4226,_0x196a52,_0xdf18af){return this[a294_0x3bc5('0xb')][a294_0x3bc5('0x10')](_0xeb4226,_0x196a52,_0xdf18af);}[a294_0x3bc5('0x1e')](_0x4178ce,_0x3e96d7,_0x3ea7cc){return this[a294_0x3bc5('0xb')][a294_0x3bc5('0x1e')](_0x4178ce,_0x3e96d7,_0x3ea7cc);}[a294_0x3bc5('0x1f')](_0x5905fc,_0x207e0a,_0x322e07,_0x3e5478=![],_0x2358d9=![]){return this[a294_0x3bc5('0xb')]['updateOrCreate'](_0x5905fc,_0x207e0a,_0x322e07,_0x3e5478,_0x2358d9);}[a294_0x3bc5('0x11')](_0x15f14e,_0x572895,_0x163349){return this[a294_0x3bc5('0xb')][a294_0x3bc5('0x11')](_0x15f14e,_0x572895,_0x163349);}[a294_0x3bc5('0x13')](_0x3fef73,_0x2774e4,_0xd590dd){_0x3fef73[a294_0x3bc5('0x20')]={'is_private':![]};const _0x1af15d=new crudOptions_1[(a294_0x3bc5('0x5'))]();_0x1af15d['public']=!![];_0x1af15d[a294_0x3bc5('0x18')]=!![];return this['find'](_0x3fef73,_0x2774e4,_0xd590dd,_0x1af15d);}[a294_0x3bc5('0x14')](_0x3a6885,_0x39976e,_0x353460){const _0x20f25d=new crudOptions_1[(a294_0x3bc5('0x5'))]();return this[a294_0x3bc5('0xc')](_0x3a6885,_0x39976e,_0x353460,_0x20f25d);}[a294_0x3bc5('0x16')](_0x2b555e,_0x266a7d,_0x2cdedd){const _0x41e29e=new crudOptions_1[(a294_0x3bc5('0x5'))]();return this[a294_0x3bc5('0x12')](_0x2b555e,_0x266a7d,_0x2cdedd,_0x41e29e);}[a294_0x3bc5('0x15')](_0x5211da,_0x33d58c,_0x5dc331){_0x5211da[a294_0x3bc5('0x20')]={'is_private':![]};const _0x2d63e1=new crudOptions_1['default']();_0x2d63e1[a294_0x3bc5('0x21')]=!![];_0x2d63e1[a294_0x3bc5('0x18')]=!![];return this['count'](_0x5211da,_0x33d58c,_0x5dc331,_0x2d63e1);}[a294_0x3bc5('0x17')](_0x169cdb,_0x404fe2,_0x4d9873){const _0x49843f=new crudOptions_1[(a294_0x3bc5('0x5'))]();_0x49843f[a294_0x3bc5('0x21')]=!![];_0x49843f[a294_0x3bc5('0x18')]=!![];_0x49843f['includeAll']=!![];this[a294_0x3bc5('0xb')][a294_0x3bc5('0xd')](_0x169cdb,null,_0x4d9873,_0x49843f)[a294_0x3bc5('0x22')](_0x443a04=>{if(_0x443a04==null){return responseUtils['errorResponse'](_0x169cdb,_0x404fe2,'authentication\x20failed',0x191);}delete _0x443a04['updated_by_user_id'];delete _0x443a04[a294_0x3bc5('0x23')];delete _0x443a04[a294_0x3bc5('0x24')];delete _0x443a04['updated_at'];delete _0x443a04[a294_0x3bc5('0x25')];delete _0x443a04[a294_0x3bc5('0x26')];if(_0x443a04['is_private']){if(_0x169cdb[a294_0x3bc5('0x27')]){if(_0x169cdb[a294_0x3bc5('0x27')]['id']==sequelize_utils_1[a294_0x3bc5('0x5')]['decryptId'](_0x443a04['created_by_user_id'])){delete _0x443a04[a294_0x3bc5('0x28')];return responseUtils[a294_0x3bc5('0x29')](_0x169cdb,_0x404fe2,_0x443a04,0xc8);}else{return responseUtils[a294_0x3bc5('0x2a')](_0x169cdb,_0x404fe2,'authentication\x20failed',0x191);}}else{return responseUtils[a294_0x3bc5('0x2a')](_0x169cdb,_0x404fe2,a294_0x3bc5('0x2b'),0x191);}}else{delete _0x443a04[a294_0x3bc5('0x28')];return responseUtils[a294_0x3bc5('0x29')](_0x169cdb,_0x404fe2,_0x443a04,0xc8);}})[a294_0x3bc5('0x2c')](_0x4d6fcd=>{return responseUtils[a294_0x3bc5('0x2a')](_0x404fe2,_0x4d6fcd[a294_0x3bc5('0x2d')],0x1f4);});}}exports[a294_0x3bc5('0x5')]=BaseController;