var a185_0x4bcd=['__importDefault','__esModule','defineProperty','express','./sequelize-utils','default','Router','../infrastructure/response-utils','include','orderBy','model','i18n','crudUtils','find','bind','findById','findByUuid','save','findOneAndUpdate','remove','count','featured','featuredLogged','featuredTotal','featuredLoggedTotal','details','shared','length','findUuidAndUpdate','updateOrCreate','params','updated_at','DESC','public','includeAll','errorResponse','authentication\x20failed','updated_by_user_id','created_at','password','is_private','user','decryptId','created_by_user_id','successResponse','catch','stack'];(function(_0x3fdb27,_0x2b6f46){var _0x28748d=function(_0x4cb83c){while(--_0x4cb83c){_0x3fdb27['push'](_0x3fdb27['shift']());}};_0x28748d(++_0x2b6f46);}(a185_0x4bcd,0x178));var a185_0x58ca=function(_0x93ffe2,_0xde2b7f){_0x93ffe2=_0x93ffe2-0x0;var _0x3082d3=a185_0x4bcd[_0x93ffe2];return _0x3082d3;};'use strict';var __importDefault=this&&this[a185_0x58ca('0x0')]||function(_0x4226fa){return _0x4226fa&&_0x4226fa[a185_0x58ca('0x1')]?_0x4226fa:{'default':_0x4226fa};};Object[a185_0x58ca('0x2')](exports,a185_0x58ca('0x1'),{'value':!![]});const express_1=__importDefault(require(a185_0x58ca('0x3')));const crud_utils_1=__importDefault(require('./crud-utils'));const crudOptions_1=__importDefault(require('../app/shared/models/crudOptions'));const sequelize_utils_1=__importDefault(require(a185_0x58ca('0x4')));const router=express_1[a185_0x58ca('0x5')][a185_0x58ca('0x6')]();const responseUtils=require(a185_0x58ca('0x7'));class BaseController{constructor(_0x29c6b5,_0x3c01ed,_0x56c144=![]){this[a185_0x58ca('0x8')]=[];this[a185_0x58ca('0x9')]=[];this[a185_0x58ca('0xa')]=_0x29c6b5;this[a185_0x58ca('0xb')]=_0x3c01ed;this[a185_0x58ca('0xc')]=new crud_utils_1['default'](_0x29c6b5,_0x3c01ed);this['shared']=_0x56c144;this[a185_0x58ca('0xd')]=this[a185_0x58ca('0xd')][a185_0x58ca('0xe')](this);this[a185_0x58ca('0xf')]=this[a185_0x58ca('0xf')][a185_0x58ca('0xe')](this);this[a185_0x58ca('0x10')]=this[a185_0x58ca('0x10')][a185_0x58ca('0xe')](this);this[a185_0x58ca('0x11')]=this[a185_0x58ca('0x11')]['bind'](this);this[a185_0x58ca('0x12')]=this['findOneAndUpdate']['bind'](this);this[a185_0x58ca('0x13')]=this[a185_0x58ca('0x13')]['bind'](this);this[a185_0x58ca('0x14')]=this[a185_0x58ca('0x14')][a185_0x58ca('0xe')](this);this[a185_0x58ca('0x15')]=this['featured']['bind'](this);this[a185_0x58ca('0x16')]=this[a185_0x58ca('0x16')][a185_0x58ca('0xe')](this);this[a185_0x58ca('0x17')]=this[a185_0x58ca('0x17')][a185_0x58ca('0xe')](this);this[a185_0x58ca('0x18')]=this[a185_0x58ca('0x18')][a185_0x58ca('0xe')](this);this[a185_0x58ca('0x19')]=this[a185_0x58ca('0x19')]['bind'](this);}[a185_0x58ca('0x14')](_0x452234,_0x3da81a,_0x2b3210,_0x35710e=new crudOptions_1['default']()){if(_0x35710e){_0x35710e[a185_0x58ca('0x1a')]=_0x35710e[a185_0x58ca('0x1a')]||this[a185_0x58ca('0x1a')];}return this[a185_0x58ca('0xc')][a185_0x58ca('0x14')](_0x452234,_0x3da81a,_0x2b3210,_0x35710e);}[a185_0x58ca('0xd')](_0x1cab53,_0x563ed9,_0x5c04e3,_0x5162dd=new crudOptions_1[(a185_0x58ca('0x5'))]()){if(_0x5162dd){if(_0x5162dd[a185_0x58ca('0x8')]&&_0x5162dd[a185_0x58ca('0x8')][a185_0x58ca('0x1b')]==0x0&&this[a185_0x58ca('0x8')]['length']>0x0){_0x5162dd[a185_0x58ca('0x8')]=this[a185_0x58ca('0x8')];}_0x5162dd[a185_0x58ca('0x9')]=_0x5162dd[a185_0x58ca('0x9')]!=null&&_0x5162dd[a185_0x58ca('0x9')]['length']>0x0?_0x5162dd['orderBy']:this['orderBy'];_0x5162dd[a185_0x58ca('0x1a')]=_0x5162dd[a185_0x58ca('0x1a')]||this['shared'];}return this[a185_0x58ca('0xc')]['find'](_0x1cab53,_0x563ed9,_0x5c04e3,_0x5162dd);}[a185_0x58ca('0xf')](_0x6f4f3,_0x5f0bea,_0x26dc96){return this[a185_0x58ca('0xc')][a185_0x58ca('0xf')](_0x6f4f3,_0x5f0bea,_0x26dc96);}[a185_0x58ca('0x10')](_0x13da15,_0x455d1a,_0x1a455a){return this[a185_0x58ca('0xc')][a185_0x58ca('0x10')](_0x13da15,_0x455d1a,_0x1a455a);}['save'](_0xe21235,_0x53c7b6,_0x638605){return this['crudUtils']['save'](_0xe21235,_0x53c7b6,_0x638605);}[a185_0x58ca('0x12')](_0x5eea16,_0x2f8124,_0x23e98f){return this[a185_0x58ca('0xc')][a185_0x58ca('0x12')](_0x5eea16,_0x2f8124,_0x23e98f);}['findUuidAndUpdate'](_0x48ec72,_0x21c2f0,_0x32404d){return this[a185_0x58ca('0xc')][a185_0x58ca('0x1c')](_0x48ec72,_0x21c2f0,_0x32404d);}['update'](_0xc26a5f,_0x39695d,_0x36ea96){return this['crudUtils'][a185_0x58ca('0x12')](_0xc26a5f,_0x39695d,_0x36ea96);}['findOrCreate'](_0x53dfde,_0x41b35a,_0x458246){return this['crudUtils']['findOrCreate'](_0x53dfde,_0x41b35a,_0x458246);}[a185_0x58ca('0x1d')](_0x1a5d12,_0x2dc4a1,_0x91c22b,_0x275b13=![],_0x1f7143=![]){return this[a185_0x58ca('0xc')][a185_0x58ca('0x1d')](_0x1a5d12,_0x2dc4a1,_0x91c22b,_0x275b13,_0x1f7143);}[a185_0x58ca('0x13')](_0x16fa12,_0x447446,_0x323470){return this['crudUtils'][a185_0x58ca('0x13')](_0x16fa12,_0x447446,_0x323470);}[a185_0x58ca('0x15')](_0x13c62a,_0x51e55c,_0x350bbc){_0x13c62a[a185_0x58ca('0x1e')]={'is_private':![]};const _0x23f11f=new crudOptions_1[(a185_0x58ca('0x5'))]();_0x23f11f['public']=!![];_0x23f11f[a185_0x58ca('0x1a')]=!![];_0x23f11f[a185_0x58ca('0x9')]=[[a185_0x58ca('0x1f'),a185_0x58ca('0x20')]];return this[a185_0x58ca('0xd')](_0x13c62a,_0x51e55c,_0x350bbc,_0x23f11f);}[a185_0x58ca('0x16')](_0x74a819,_0x28a6bc,_0x4c0d1b){const _0x6f116a=new crudOptions_1[(a185_0x58ca('0x5'))]();_0x6f116a['orderBy']=[[a185_0x58ca('0x1f'),'DESC']];return this[a185_0x58ca('0xd')](_0x74a819,_0x28a6bc,_0x4c0d1b,_0x6f116a);}[a185_0x58ca('0x18')](_0x20a46c,_0x139d71,_0x57eacf){const _0x569ab2=new crudOptions_1[(a185_0x58ca('0x5'))]();return this[a185_0x58ca('0x14')](_0x20a46c,_0x139d71,_0x57eacf,_0x569ab2);}['featuredTotal'](_0x590769,_0x33b476,_0x3b6e58){_0x590769['params']={'is_private':![]};const _0x2049ad=new crudOptions_1[(a185_0x58ca('0x5'))]();_0x2049ad[a185_0x58ca('0x21')]=!![];_0x2049ad[a185_0x58ca('0x1a')]=!![];return this['count'](_0x590769,_0x33b476,_0x3b6e58,_0x2049ad);}[a185_0x58ca('0x19')](_0x258c3e,_0x545118,_0x559201){const _0x37e9bf=new crudOptions_1[(a185_0x58ca('0x5'))]();_0x37e9bf[a185_0x58ca('0x21')]=!![];_0x37e9bf['shared']=!![];_0x37e9bf[a185_0x58ca('0x22')]=!![];this[a185_0x58ca('0xc')][a185_0x58ca('0xf')](_0x258c3e,null,_0x559201,_0x37e9bf)['then'](_0x55cd46=>{if(_0x55cd46==null){return responseUtils[a185_0x58ca('0x23')](_0x258c3e,_0x545118,a185_0x58ca('0x24'),0x191);}delete _0x55cd46[a185_0x58ca('0x25')];delete _0x55cd46['deleted_by_user_id'];delete _0x55cd46[a185_0x58ca('0x26')];delete _0x55cd46['updated_at'];delete _0x55cd46['deleted_at'];delete _0x55cd46[a185_0x58ca('0x27')];if(_0x55cd46[a185_0x58ca('0x28')]){if(_0x258c3e[a185_0x58ca('0x29')]){if(_0x258c3e[a185_0x58ca('0x29')]['id']==sequelize_utils_1[a185_0x58ca('0x5')][a185_0x58ca('0x2a')](_0x55cd46[a185_0x58ca('0x2b')])){delete _0x55cd46['created_by_user_id'];return responseUtils[a185_0x58ca('0x2c')](_0x258c3e,_0x545118,_0x55cd46,0xc8);}else{return responseUtils['errorResponse'](_0x258c3e,_0x545118,'authentication\x20failed',0x191);}}else{return responseUtils[a185_0x58ca('0x23')](_0x258c3e,_0x545118,a185_0x58ca('0x24'),0x191);}}else{delete _0x55cd46[a185_0x58ca('0x2b')];return responseUtils[a185_0x58ca('0x2c')](_0x258c3e,_0x545118,_0x55cd46,0xc8);}})[a185_0x58ca('0x2d')](_0xd3c5e8=>{return responseUtils[a185_0x58ca('0x23')](_0x545118,_0xd3c5e8[a185_0x58ca('0x2e')],0x1f4);});}}exports['default']=BaseController;