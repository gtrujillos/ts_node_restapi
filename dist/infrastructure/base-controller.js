var a185_0xbf21=['includeAll','then','errorResponse','deleted_by_user_id','created_at','deleted_at','password','is_private','user','decryptId','created_by_user_id','successResponse','authentication\x20failed','catch','stack','__esModule','express','../app/shared/models/crudOptions','./sequelize-utils','default','../infrastructure/response-utils','include','orderBy','i18n','crudUtils','shared','find','bind','findById','findByUuid','save','findOneAndUpdate','remove','count','featured','featuredLogged','featuredTotal','featuredLoggedTotal','details','length','findUuidAndUpdate','findOrCreate','updateOrCreate','params','public','updated_at','DESC'];(function(_0x554af6,_0x27e8c9){var _0xd1ddcb=function(_0x575967){while(--_0x575967){_0x554af6['push'](_0x554af6['shift']());}};_0xd1ddcb(++_0x27e8c9);}(a185_0xbf21,0x158));var a185_0x1444=function(_0x2f184b,_0x150adb){_0x2f184b=_0x2f184b-0x0;var _0x66a54d=a185_0xbf21[_0x2f184b];return _0x66a54d;};'use strict';var __importDefault=this&&this['__importDefault']||function(_0x38a41c){return _0x38a41c&&_0x38a41c[a185_0x1444('0x0')]?_0x38a41c:{'default':_0x38a41c};};Object['defineProperty'](exports,'__esModule',{'value':!![]});const express_1=__importDefault(require(a185_0x1444('0x1')));const crud_utils_1=__importDefault(require('./crud-utils'));const crudOptions_1=__importDefault(require(a185_0x1444('0x2')));const sequelize_utils_1=__importDefault(require(a185_0x1444('0x3')));const router=express_1[a185_0x1444('0x4')]['Router']();const responseUtils=require(a185_0x1444('0x5'));class BaseController{constructor(_0x6effc9,_0x3fd8c9,_0x38f2c8=![]){this[a185_0x1444('0x6')]=[];this[a185_0x1444('0x7')]=[];this['model']=_0x6effc9;this[a185_0x1444('0x8')]=_0x3fd8c9;this[a185_0x1444('0x9')]=new crud_utils_1[(a185_0x1444('0x4'))](_0x6effc9,_0x3fd8c9);this[a185_0x1444('0xa')]=_0x38f2c8;this[a185_0x1444('0xb')]=this['find'][a185_0x1444('0xc')](this);this[a185_0x1444('0xd')]=this[a185_0x1444('0xd')]['bind'](this);this[a185_0x1444('0xe')]=this[a185_0x1444('0xe')][a185_0x1444('0xc')](this);this[a185_0x1444('0xf')]=this[a185_0x1444('0xf')][a185_0x1444('0xc')](this);this[a185_0x1444('0x10')]=this[a185_0x1444('0x10')]['bind'](this);this[a185_0x1444('0x11')]=this['remove'][a185_0x1444('0xc')](this);this[a185_0x1444('0x12')]=this['count'][a185_0x1444('0xc')](this);this[a185_0x1444('0x13')]=this[a185_0x1444('0x13')][a185_0x1444('0xc')](this);this['featuredLogged']=this[a185_0x1444('0x14')][a185_0x1444('0xc')](this);this['featuredTotal']=this[a185_0x1444('0x15')]['bind'](this);this[a185_0x1444('0x16')]=this['featuredLoggedTotal']['bind'](this);this['details']=this[a185_0x1444('0x17')][a185_0x1444('0xc')](this);}[a185_0x1444('0x12')](_0x4f6296,_0x26dd93,_0x1a9b05,_0x100ee9=new crudOptions_1['default']()){if(_0x100ee9){_0x100ee9[a185_0x1444('0xa')]=_0x100ee9[a185_0x1444('0xa')]||this['shared'];}return this[a185_0x1444('0x9')][a185_0x1444('0x12')](_0x4f6296,_0x26dd93,_0x1a9b05,_0x100ee9);}['find'](_0x541f51,_0x3d736f,_0x2dc4c6,_0xcbf61c=new crudOptions_1[(a185_0x1444('0x4'))]()){if(_0xcbf61c){if(_0xcbf61c[a185_0x1444('0x6')]&&_0xcbf61c[a185_0x1444('0x6')][a185_0x1444('0x18')]==0x0&&this[a185_0x1444('0x6')][a185_0x1444('0x18')]>0x0){_0xcbf61c['include']=this['include'];}_0xcbf61c['orderBy']=_0xcbf61c['orderBy']!=null&&_0xcbf61c[a185_0x1444('0x7')][a185_0x1444('0x18')]>0x0?_0xcbf61c[a185_0x1444('0x7')]:this['orderBy'];_0xcbf61c['shared']=_0xcbf61c['shared']||this[a185_0x1444('0xa')];}return this[a185_0x1444('0x9')][a185_0x1444('0xb')](_0x541f51,_0x3d736f,_0x2dc4c6,_0xcbf61c);}[a185_0x1444('0xd')](_0x2dcdf4,_0x495e99,_0x5c290d){return this[a185_0x1444('0x9')][a185_0x1444('0xd')](_0x2dcdf4,_0x495e99,_0x5c290d);}['findByUuid'](_0x5c58f6,_0x29a3ec,_0x37810e){return this[a185_0x1444('0x9')]['findByUuid'](_0x5c58f6,_0x29a3ec,_0x37810e);}[a185_0x1444('0xf')](_0x4e55d4,_0x56c79d,_0x3e666a){return this['crudUtils'][a185_0x1444('0xf')](_0x4e55d4,_0x56c79d,_0x3e666a);}[a185_0x1444('0x10')](_0x53d4b7,_0x43abc0,_0x5d94c3){return this['crudUtils'][a185_0x1444('0x10')](_0x53d4b7,_0x43abc0,_0x5d94c3);}[a185_0x1444('0x19')](_0x39f510,_0x394d44,_0x1ea864){return this[a185_0x1444('0x9')][a185_0x1444('0x19')](_0x39f510,_0x394d44,_0x1ea864);}['update'](_0x36c13e,_0x44ee53,_0x3d2c65){return this[a185_0x1444('0x9')][a185_0x1444('0x10')](_0x36c13e,_0x44ee53,_0x3d2c65);}[a185_0x1444('0x1a')](_0x1151e1,_0x1adc15,_0x47ccdc){return this[a185_0x1444('0x9')][a185_0x1444('0x1a')](_0x1151e1,_0x1adc15,_0x47ccdc);}['updateOrCreate'](_0x142dbc,_0x3ac404,_0x53c3f7,_0x5c87f4=![],_0x165ac7=![]){return this[a185_0x1444('0x9')][a185_0x1444('0x1b')](_0x142dbc,_0x3ac404,_0x53c3f7,_0x5c87f4,_0x165ac7);}[a185_0x1444('0x11')](_0x353e0a,_0x40ae8f,_0x40ae1d){return this['crudUtils'][a185_0x1444('0x11')](_0x353e0a,_0x40ae8f,_0x40ae1d);}[a185_0x1444('0x13')](_0x52e4ed,_0x387cba,_0x4dbd36){_0x52e4ed[a185_0x1444('0x1c')]={'is_private':![]};const _0x146d2f=new crudOptions_1[(a185_0x1444('0x4'))]();_0x146d2f[a185_0x1444('0x1d')]=!![];_0x146d2f[a185_0x1444('0xa')]=!![];_0x146d2f[a185_0x1444('0x7')]=[[a185_0x1444('0x1e'),a185_0x1444('0x1f')]];return this['find'](_0x52e4ed,_0x387cba,_0x4dbd36,_0x146d2f);}[a185_0x1444('0x14')](_0x1f4d3c,_0x50d35b,_0x38e919){const _0x243fe3=new crudOptions_1['default']();_0x243fe3[a185_0x1444('0x7')]=[[a185_0x1444('0x1e'),a185_0x1444('0x1f')]];return this['find'](_0x1f4d3c,_0x50d35b,_0x38e919,_0x243fe3);}['featuredLoggedTotal'](_0x1ced82,_0x594d1e,_0x36d314){const _0x464a43=new crudOptions_1[(a185_0x1444('0x4'))]();return this[a185_0x1444('0x12')](_0x1ced82,_0x594d1e,_0x36d314,_0x464a43);}[a185_0x1444('0x15')](_0x302e0d,_0x2f51a9,_0x22f534){_0x302e0d['params']={'is_private':![]};const _0x2d6645=new crudOptions_1[(a185_0x1444('0x4'))]();_0x2d6645[a185_0x1444('0x1d')]=!![];_0x2d6645['shared']=!![];return this[a185_0x1444('0x12')](_0x302e0d,_0x2f51a9,_0x22f534,_0x2d6645);}[a185_0x1444('0x17')](_0x4fb17f,_0x2537de,_0x3a4779){const _0x18bfb2=new crudOptions_1[(a185_0x1444('0x4'))]();_0x18bfb2[a185_0x1444('0x1d')]=!![];_0x18bfb2[a185_0x1444('0xa')]=!![];_0x18bfb2[a185_0x1444('0x20')]=!![];this[a185_0x1444('0x9')][a185_0x1444('0xd')](_0x4fb17f,null,_0x3a4779,_0x18bfb2)[a185_0x1444('0x21')](_0x4feb95=>{if(_0x4feb95==null){return responseUtils[a185_0x1444('0x22')](_0x4fb17f,_0x2537de,'authentication\x20failed',0x191);}delete _0x4feb95['updated_by_user_id'];delete _0x4feb95[a185_0x1444('0x23')];delete _0x4feb95[a185_0x1444('0x24')];delete _0x4feb95[a185_0x1444('0x1e')];delete _0x4feb95[a185_0x1444('0x25')];delete _0x4feb95[a185_0x1444('0x26')];if(_0x4feb95[a185_0x1444('0x27')]){if(_0x4fb17f['user']){if(_0x4fb17f[a185_0x1444('0x28')]['id']==sequelize_utils_1[a185_0x1444('0x4')][a185_0x1444('0x29')](_0x4feb95[a185_0x1444('0x2a')])){delete _0x4feb95[a185_0x1444('0x2a')];return responseUtils[a185_0x1444('0x2b')](_0x4fb17f,_0x2537de,_0x4feb95,0xc8);}else{return responseUtils[a185_0x1444('0x22')](_0x4fb17f,_0x2537de,a185_0x1444('0x2c'),0x191);}}else{return responseUtils[a185_0x1444('0x22')](_0x4fb17f,_0x2537de,a185_0x1444('0x2c'),0x191);}}else{delete _0x4feb95['created_by_user_id'];return responseUtils[a185_0x1444('0x2b')](_0x4fb17f,_0x2537de,_0x4feb95,0xc8);}})[a185_0x1444('0x2d')](_0x1d32a6=>{return responseUtils['errorResponse'](_0x2537de,_0x1d32a6[a185_0x1444('0x2e')],0x1f4);});}}exports['default']=BaseController;