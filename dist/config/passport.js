var a196_0x5ecf=['nextTick','local-login','Strategy','passport-jwt','ExtractJwt','jwtFromRequest','fromAuthHeaderAsBearerToken','secretOrKey','then','length','dataValues','use','password'];(function(_0x326ceb,_0x561d8f){var _0x32ce3d=function(_0x42c224){while(--_0x42c224){_0x326ceb['push'](_0x326ceb['shift']());}};_0x32ce3d(++_0x561d8f);}(a196_0x5ecf,0xd2));var a196_0x3f7d=function(_0x519418,_0x13be4c){_0x519418=_0x519418-0x0;var _0x535300=a196_0x5ecf[_0x519418];return _0x535300;};let LocalStrategy=require('passport-local')[a196_0x3f7d('0x0')];let passportJWT=require(a196_0x3f7d('0x1'));let configJwt=require('../config/jwt.js');module['exports']=function(_0x979710,_0x21c0b7){_0x979710['serializeUser'](function(_0x447910,_0x606a22){_0x606a22(null,_0x447910['id']);});const _0xef3249=passportJWT[a196_0x3f7d('0x2')];const _0x44992e=passportJWT[a196_0x3f7d('0x0')];const _0x11fb1e={'jwtFromRequest':'','secretOrKey':''};_0x11fb1e[a196_0x3f7d('0x3')]=_0xef3249[a196_0x3f7d('0x4')]();_0x11fb1e[a196_0x3f7d('0x5')]=configJwt['secret'];const _0x22a544=new _0x44992e(_0x11fb1e,function(_0xde020f,_0xbe9a0d){_0x21c0b7['findAll']({'where':{'id':_0xde020f['id']}})[a196_0x3f7d('0x6')](_0x777c61=>{if(!_0x777c61){return _0xbe9a0d(null,null);}let _0x351f81=null;if(_0x777c61&&_0x777c61[a196_0x3f7d('0x7')]>0x0){_0x351f81=_0x777c61[0x0][a196_0x3f7d('0x8')];}return _0xbe9a0d(null,_0x351f81);})['catch'](_0xffa9d5=>{return _0xbe9a0d(_0xffa9d5,null);});});_0x979710[a196_0x3f7d('0x9')](_0x22a544);_0x979710[a196_0x3f7d('0x9')]('local-signup',new LocalStrategy({'usernameField':'email','passwordField':a196_0x3f7d('0xa'),'passReqToCallback':!![]},function(_0x1d8845,_0x2efb2d,_0x43a92c,_0x240200){process[a196_0x3f7d('0xb')](function(){});}));_0x979710[a196_0x3f7d('0x9')](a196_0x3f7d('0xc'),new LocalStrategy({'usernameField':'email','passwordField':a196_0x3f7d('0xa'),'passReqToCallback':!![]},function(_0x511171,_0xa67697,_0x397dfe,_0x38720a){}));};