var a86_0x2bc4=['local-login','password','passport-local','passport-jwt','exports','ExtractJwt','Strategy','token','secretOrKey','secret','then','catch','use','local-signup','email','nextTick'];(function(_0xe6e780,_0x40f4bb){var _0x1a41a7=function(_0x44dfb0){while(--_0x44dfb0){_0xe6e780['push'](_0xe6e780['shift']());}};_0x1a41a7(++_0x40f4bb);}(a86_0x2bc4,0x72));var a86_0x22f9=function(_0x1498e3,_0x2ff3c1){_0x1498e3=_0x1498e3-0x0;var _0x3693ab=a86_0x2bc4[_0x1498e3];return _0x3693ab;};let LocalStrategy=require(a86_0x22f9('0x0'))['Strategy'];let passportJWT=require(a86_0x22f9('0x1'));let configJwt=require('../config/jwt.js');module[a86_0x22f9('0x2')]=function(_0x2997ff,_0x404926){_0x2997ff['serializeUser'](function(_0x29467d,_0xb81ac6){_0xb81ac6(null,_0x29467d['id']);});const _0x1d6611=passportJWT[a86_0x22f9('0x3')];const _0x3e2a39=passportJWT[a86_0x22f9('0x4')];const _0x5044a9={'jwtFromRequest':'','secretOrKey':''};_0x5044a9['jwtFromRequest']=_0x1d6611['fromHeader'](a86_0x22f9('0x5'));_0x5044a9[a86_0x22f9('0x6')]=configJwt[a86_0x22f9('0x7')];const _0x3d6daa=new _0x3e2a39(_0x5044a9,function(_0x2f7b66,_0x2fb2cd){_0x404926['findAll']({'where':{'uuid':_0x2f7b66['uuid']}})[a86_0x22f9('0x8')](_0xcb0eb4=>{if(!_0xcb0eb4){return _0x2fb2cd(null,null);}return _0x2fb2cd(null,_0xcb0eb4);})[a86_0x22f9('0x9')](_0x22af17=>{return _0x2fb2cd(_0x22af17,null);});});_0x2997ff[a86_0x22f9('0xa')](_0x3d6daa);_0x2997ff['use'](a86_0x22f9('0xb'),new LocalStrategy({'usernameField':a86_0x22f9('0xc'),'passwordField':'password','passReqToCallback':!![]},function(_0x5e744b,_0x437821,_0x3c030e,_0x54d3cd){process[a86_0x22f9('0xd')](function(){});}));_0x2997ff['use'](a86_0x22f9('0xe'),new LocalStrategy({'usernameField':a86_0x22f9('0xc'),'passwordField':a86_0x22f9('0xf'),'passReqToCallback':!![]},function(_0x208641,_0x43f613,_0x2266d0,_0x6489ab){}));};