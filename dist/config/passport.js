var a196_0x1a6e=['catch','nextTick','use','local-login','email','Strategy','passport-jwt','../config/jwt.js','exports','ExtractJwt','jwtFromRequest','secretOrKey','secret','then','length','dataValues'];(function(_0x250b95,_0x1abeb9){var _0x33099f=function(_0x52aaeb){while(--_0x52aaeb){_0x250b95['push'](_0x250b95['shift']());}};_0x33099f(++_0x1abeb9);}(a196_0x1a6e,0x135));var a196_0x3197=function(_0x1102f7,_0x55e968){_0x1102f7=_0x1102f7-0x0;var _0x1ffb53=a196_0x1a6e[_0x1102f7];return _0x1ffb53;};let LocalStrategy=require('passport-local')[a196_0x3197('0x0')];let passportJWT=require(a196_0x3197('0x1'));let configJwt=require(a196_0x3197('0x2'));module[a196_0x3197('0x3')]=function(_0x3f2924,_0x28d5fa){_0x3f2924['serializeUser'](function(_0x4c81cf,_0x423019){_0x423019(null,_0x4c81cf['id']);});const _0x2b12c0=passportJWT[a196_0x3197('0x4')];const _0x429d1b=passportJWT['Strategy'];const _0x481124={'jwtFromRequest':'','secretOrKey':''};_0x481124[a196_0x3197('0x5')]=_0x2b12c0['fromAuthHeaderAsBearerToken']();_0x481124[a196_0x3197('0x6')]=configJwt[a196_0x3197('0x7')];const _0x234540=new _0x429d1b(_0x481124,function(_0x47a99f,_0x5828b1){_0x28d5fa['findAll']({'where':{'id':_0x47a99f['id']}})[a196_0x3197('0x8')](_0x25a4db=>{if(!_0x25a4db){return _0x5828b1(null,null);}let _0x10029d=null;if(_0x25a4db&&_0x25a4db[a196_0x3197('0x9')]>0x0){_0x10029d=_0x25a4db[0x0][a196_0x3197('0xa')];}return _0x5828b1(null,_0x10029d);})[a196_0x3197('0xb')](_0x2e5971=>{return _0x5828b1(_0x2e5971,null);});});_0x3f2924['use'](_0x234540);_0x3f2924['use']('local-signup',new LocalStrategy({'usernameField':'email','passwordField':'password','passReqToCallback':!![]},function(_0x1962bd,_0x4eaf6a,_0x5ae0de,_0x61cea5){process[a196_0x3197('0xc')](function(){});}));_0x3f2924[a196_0x3197('0xd')](a196_0x3197('0xe'),new LocalStrategy({'usernameField':a196_0x3197('0xf'),'passwordField':'password','passReqToCallback':!![]},function(_0x13415e,_0x206fec,_0x865956,_0x1e916a){}));};