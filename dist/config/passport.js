var a178_0x328c=['email','nextTick','password','__importDefault','__esModule','defineProperty','passport-local','Strategy','passport-jwt','exports','ExtractJwt','fromAuthHeaderAsBearerToken','secretOrKey','findAll','then','length','dataValues','use','local-signup'];(function(_0x268c7c,_0x50f292){var _0x32e7c8=function(_0x4777ef){while(--_0x4777ef){_0x268c7c['push'](_0x268c7c['shift']());}};_0x32e7c8(++_0x50f292);}(a178_0x328c,0x1a5));var a178_0xa65c=function(_0x3a1b3e,_0x33c3ae){_0x3a1b3e=_0x3a1b3e-0x0;var _0xe9541d=a178_0x328c[_0x3a1b3e];return _0xe9541d;};'use strict';// config/passport.js
var __importDefault=this&&this[a178_0xa65c('0x0')]||function(_0x1a4f8c){return _0x1a4f8c&&_0x1a4f8c[a178_0xa65c('0x1')]?_0x1a4f8c:{'default':_0x1a4f8c};};Object[a178_0xa65c('0x2')](exports,a178_0xa65c('0x1'),{'value':!![]});const jwtConfig_1=__importDefault(require('./jwtConfig'));const LocalStrategy=require(a178_0xa65c('0x3'))[a178_0xa65c('0x4')];const passportJWT=require(a178_0xa65c('0x5'));module[a178_0xa65c('0x6')]=function(_0x5b6c55,_0x3e9772){_0x5b6c55['serializeUser'](function(_0x54011b,_0x2ae6d9){_0x2ae6d9(null,_0x54011b['id']);});const _0x4fb371=passportJWT[a178_0xa65c('0x7')];const _0x4a8dbc=passportJWT[a178_0xa65c('0x4')];const _0x4d20d8={'jwtFromRequest':'','secretOrKey':''};_0x4d20d8['jwtFromRequest']=_0x4fb371[a178_0xa65c('0x8')]();_0x4d20d8[a178_0xa65c('0x9')]=jwtConfig_1['default']['secret'];const _0x4b7f42=new _0x4a8dbc(_0x4d20d8,function(_0x3cabcb,_0x1d5c43){_0x3e9772[a178_0xa65c('0xa')]({'where':{'id':_0x3cabcb['id']}})[a178_0xa65c('0xb')](_0x55f36f=>{if(!_0x55f36f){return _0x1d5c43(null,null);}let _0x229a78=null;if(_0x55f36f&&_0x55f36f[a178_0xa65c('0xc')]>0x0){_0x229a78=_0x55f36f[0x0][a178_0xa65c('0xd')];}return _0x1d5c43(null,_0x229a78);})['catch'](_0x4546c5=>{return _0x1d5c43(_0x4546c5,null);});});_0x5b6c55[a178_0xa65c('0xe')](_0x4b7f42);_0x5b6c55[a178_0xa65c('0xe')](a178_0xa65c('0xf'),new LocalStrategy({'usernameField':a178_0xa65c('0x10'),'passwordField':'password','passReqToCallback':!![]},function(_0x37e67e,_0xf2bad8,_0x3f1ce3,_0x22f459){process[a178_0xa65c('0x11')](function(){});}));_0x5b6c55['use']('local-login',new LocalStrategy({'usernameField':a178_0xa65c('0x10'),'passwordField':a178_0xa65c('0x12'),'passReqToCallback':!![]},function(_0x11da17,_0x1f6cac,_0x5a735b,_0x57010a){}));};