var a90_0x5bc5=['findAll','then','catch','use','local-signup','email','password','nextTick','local-login','passport-local','Strategy','passport-jwt','serializeUser','jwtFromRequest','fromHeader','token','secretOrKey','secret'];(function(_0x33013d,_0x877543){var _0x16ded1=function(_0x1846c6){while(--_0x1846c6){_0x33013d['push'](_0x33013d['shift']());}};_0x16ded1(++_0x877543);}(a90_0x5bc5,0xbd));var a90_0x35bc=function(_0x364726,_0x26b445){_0x364726=_0x364726-0x0;var _0x34249c=a90_0x5bc5[_0x364726];return _0x34249c;};let LocalStrategy=require(a90_0x35bc('0x0'))[a90_0x35bc('0x1')];let passportJWT=require(a90_0x35bc('0x2'));let configJwt=require('../config/jwt.js');module['exports']=function(_0x2db6d3,_0x599e8a){_0x2db6d3[a90_0x35bc('0x3')](function(_0x2acba5,_0xf5b53){_0xf5b53(null,_0x2acba5['id']);});const _0x3a15aa=passportJWT['ExtractJwt'];const _0x350584=passportJWT[a90_0x35bc('0x1')];const _0x4ee594={'jwtFromRequest':'','secretOrKey':''};_0x4ee594[a90_0x35bc('0x4')]=_0x3a15aa[a90_0x35bc('0x5')](a90_0x35bc('0x6'));_0x4ee594[a90_0x35bc('0x7')]=configJwt[a90_0x35bc('0x8')];const _0x1827c1=new _0x350584(_0x4ee594,function(_0x3ce711,_0x24c09f){_0x599e8a[a90_0x35bc('0x9')]({'where':{'uuid':_0x3ce711['uuid']}})[a90_0x35bc('0xa')](_0x5a59ed=>{if(!_0x5a59ed){return _0x24c09f(null,null);}return _0x24c09f(null,_0x5a59ed);})[a90_0x35bc('0xb')](_0x2c4a9d=>{return _0x24c09f(_0x2c4a9d,null);});});_0x2db6d3[a90_0x35bc('0xc')](_0x1827c1);_0x2db6d3[a90_0x35bc('0xc')](a90_0x35bc('0xd'),new LocalStrategy({'usernameField':a90_0x35bc('0xe'),'passwordField':a90_0x35bc('0xf'),'passReqToCallback':!![]},function(_0x196cca,_0xa7c0dd,_0x39e9e7,_0x30ac48){process[a90_0x35bc('0x10')](function(){});}));_0x2db6d3[a90_0x35bc('0xc')](a90_0x35bc('0x11'),new LocalStrategy({'usernameField':'email','passwordField':'password','passReqToCallback':!![]},function(_0x403fa3,_0x50cea8,_0x45a743,_0x111418){}));};