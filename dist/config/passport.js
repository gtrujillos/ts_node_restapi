var a178_0x2539=['use','local-signup','email','password','nextTick','__importDefault','__esModule','defineProperty','./jwtConfig','Strategy','passport-jwt','jwtFromRequest','fromAuthHeaderAsBearerToken','secretOrKey','default','secret','findAll','catch'];(function(_0x401120,_0x542148){var _0x14f87f=function(_0x4c23f7){while(--_0x4c23f7){_0x401120['push'](_0x401120['shift']());}};_0x14f87f(++_0x542148);}(a178_0x2539,0x17f));var a178_0x1bfb=function(_0x4dc798,_0x5e231a){_0x4dc798=_0x4dc798-0x0;var _0x2de5cd=a178_0x2539[_0x4dc798];return _0x2de5cd;};'use strict';// config/passport.js
var __importDefault=this&&this[a178_0x1bfb('0x0')]||function(_0x57f576){return _0x57f576&&_0x57f576[a178_0x1bfb('0x1')]?_0x57f576:{'default':_0x57f576};};Object[a178_0x1bfb('0x2')](exports,a178_0x1bfb('0x1'),{'value':!![]});const jwtConfig_1=__importDefault(require(a178_0x1bfb('0x3')));const LocalStrategy=require('passport-local')[a178_0x1bfb('0x4')];const passportJWT=require(a178_0x1bfb('0x5'));module['exports']=function(_0x201a7d,_0x2c700a){_0x201a7d['serializeUser'](function(_0x31a741,_0x4b6f5f){_0x4b6f5f(null,_0x31a741['id']);});const _0x1d79e8=passportJWT['ExtractJwt'];const _0x4d23c6=passportJWT[a178_0x1bfb('0x4')];const _0x5d3ea5={'jwtFromRequest':'','secretOrKey':''};_0x5d3ea5[a178_0x1bfb('0x6')]=_0x1d79e8[a178_0x1bfb('0x7')]();_0x5d3ea5[a178_0x1bfb('0x8')]=jwtConfig_1[a178_0x1bfb('0x9')][a178_0x1bfb('0xa')];const _0x192cf9=new _0x4d23c6(_0x5d3ea5,function(_0x10c157,_0x12ce49){_0x2c700a[a178_0x1bfb('0xb')]({'where':{'id':_0x10c157['id']}})['then'](_0x2303a8=>{if(!_0x2303a8){return _0x12ce49(null,null);}let _0x258ed2=null;if(_0x2303a8&&_0x2303a8['length']>0x0){_0x258ed2=_0x2303a8[0x0]['dataValues'];}return _0x12ce49(null,_0x258ed2);})[a178_0x1bfb('0xc')](_0x4d4599=>{return _0x12ce49(_0x4d4599,null);});});_0x201a7d['use'](_0x192cf9);_0x201a7d[a178_0x1bfb('0xd')](a178_0x1bfb('0xe'),new LocalStrategy({'usernameField':a178_0x1bfb('0xf'),'passwordField':a178_0x1bfb('0x10'),'passReqToCallback':!![]},function(_0xcc7e17,_0xea25dc,_0x52e5df,_0x2dc265){process[a178_0x1bfb('0x11')](function(){});}));_0x201a7d['use']('local-login',new LocalStrategy({'usernameField':a178_0x1bfb('0xf'),'passwordField':a178_0x1bfb('0x10'),'passReqToCallback':!![]},function(_0x3f5636,_0x3fd838,_0x21f3b6,_0x1c6a83){}));};