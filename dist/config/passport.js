var a178_0x51fb=['passport-jwt','exports','serializeUser','ExtractJwt','Strategy','fromAuthHeaderAsBearerToken','secretOrKey','default','secret','findAll','then','length','local-signup','email','nextTick','use','local-login','password','__importDefault','__esModule','passport-local'];(function(_0xe7f327,_0x4cccec){var _0x5939b6=function(_0x42f05c){while(--_0x42f05c){_0xe7f327['push'](_0xe7f327['shift']());}};_0x5939b6(++_0x4cccec);}(a178_0x51fb,0x1a1));var a178_0x52a1=function(_0x50b579,_0x1a4950){_0x50b579=_0x50b579-0x0;var _0x2267d5=a178_0x51fb[_0x50b579];return _0x2267d5;};'use strict';// config/passport.js
var __importDefault=this&&this[a178_0x52a1('0x0')]||function(_0x5a8bed){return _0x5a8bed&&_0x5a8bed[a178_0x52a1('0x1')]?_0x5a8bed:{'default':_0x5a8bed};};Object['defineProperty'](exports,'__esModule',{'value':!![]});const jwtConfig_1=__importDefault(require('./jwtConfig'));const LocalStrategy=require(a178_0x52a1('0x2'))['Strategy'];const passportJWT=require(a178_0x52a1('0x3'));module[a178_0x52a1('0x4')]=function(_0x2c0555,_0x20f732){_0x2c0555[a178_0x52a1('0x5')](function(_0x324703,_0x3cfecb){_0x3cfecb(null,_0x324703['id']);});const _0x434308=passportJWT[a178_0x52a1('0x6')];const _0x20f92f=passportJWT[a178_0x52a1('0x7')];const _0x57724b={'jwtFromRequest':'','secretOrKey':''};_0x57724b['jwtFromRequest']=_0x434308[a178_0x52a1('0x8')]();_0x57724b[a178_0x52a1('0x9')]=jwtConfig_1[a178_0x52a1('0xa')][a178_0x52a1('0xb')];const _0x34cff3=new _0x20f92f(_0x57724b,function(_0x3c0dd2,_0x302b20){_0x20f732[a178_0x52a1('0xc')]({'where':{'id':_0x3c0dd2['id']}})[a178_0x52a1('0xd')](_0x503fd4=>{if(!_0x503fd4){return _0x302b20(null,null);}let _0x3dea7b=null;if(_0x503fd4&&_0x503fd4[a178_0x52a1('0xe')]>0x0){_0x3dea7b=_0x503fd4[0x0]['dataValues'];}return _0x302b20(null,_0x3dea7b);})['catch'](_0x29f0d5=>{return _0x302b20(_0x29f0d5,null);});});_0x2c0555['use'](_0x34cff3);_0x2c0555['use'](a178_0x52a1('0xf'),new LocalStrategy({'usernameField':a178_0x52a1('0x10'),'passwordField':'password','passReqToCallback':!![]},function(_0x2b5117,_0x1637b4,_0x1ddc9a,_0x394360){process[a178_0x52a1('0x11')](function(){});}));_0x2c0555[a178_0x52a1('0x12')](a178_0x52a1('0x13'),new LocalStrategy({'usernameField':a178_0x52a1('0x10'),'passwordField':a178_0x52a1('0x14'),'passReqToCallback':!![]},function(_0x24ffbc,_0x189a5c,_0x56db05,_0x4cf5b4){}));};