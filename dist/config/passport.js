var a90_0x97d6=['then','use','local-signup','email','password','nextTick','local-login','Strategy','../config/jwt.js','exports','ExtractJwt','jwtFromRequest','secretOrKey','secret','uuid'];(function(_0x471aa7,_0x2efaba){var _0x27a0c3=function(_0x3a1981){while(--_0x3a1981){_0x471aa7['push'](_0x471aa7['shift']());}};_0x27a0c3(++_0x2efaba);}(a90_0x97d6,0x18d));var a90_0x33b1=function(_0x569c2d,_0x47141b){_0x569c2d=_0x569c2d-0x0;var _0x489b1a=a90_0x97d6[_0x569c2d];return _0x489b1a;};let LocalStrategy=require('passport-local')[a90_0x33b1('0x0')];let passportJWT=require('passport-jwt');let configJwt=require(a90_0x33b1('0x1'));module[a90_0x33b1('0x2')]=function(_0x1cd197,_0xa5acf4){_0x1cd197['serializeUser'](function(_0x42531a,_0x7ed758){_0x7ed758(null,_0x42531a['id']);});const _0x5690bb=passportJWT[a90_0x33b1('0x3')];const _0x115d00=passportJWT[a90_0x33b1('0x0')];const _0x42c134={'jwtFromRequest':'','secretOrKey':''};_0x42c134[a90_0x33b1('0x4')]=_0x5690bb['fromHeader']('token');_0x42c134[a90_0x33b1('0x5')]=configJwt[a90_0x33b1('0x6')];const _0x116ad2=new _0x115d00(_0x42c134,function(_0x4081f7,_0x2c7f4d){_0xa5acf4['findAll']({'where':{'uuid':_0x4081f7[a90_0x33b1('0x7')]}})[a90_0x33b1('0x8')](_0x5653de=>{if(!_0x5653de){return _0x2c7f4d(null,null);}return _0x2c7f4d(null,_0x5653de);})['catch'](_0x543073=>{return _0x2c7f4d(_0x543073,null);});});_0x1cd197[a90_0x33b1('0x9')](_0x116ad2);_0x1cd197['use'](a90_0x33b1('0xa'),new LocalStrategy({'usernameField':a90_0x33b1('0xb'),'passwordField':a90_0x33b1('0xc'),'passReqToCallback':!![]},function(_0x39f1da,_0xafa575,_0x5b4ed8,_0x3fe3e2){process[a90_0x33b1('0xd')](function(){});}));_0x1cd197[a90_0x33b1('0x9')](a90_0x33b1('0xe'),new LocalStrategy({'usernameField':'email','passwordField':a90_0x33b1('0xc'),'passReqToCallback':!![]},function(_0x51e8d1,_0x3c6a82,_0x31f4e6,_0x4f4522){}));};