var a172_0x456d=['gte','ASC','IMAGE_FILES_FOLDER','images/','name','user_id','base64Sync','image_data','json','find','__esModule','defineProperty','../../infrastructure/controller-utils','moment','sequelize','fs-extra','getByUser','getByVehicle','bind','params','vehicle_id','default','decryptId','start_date','lte','end_date'];(function(_0x59ec8d,_0x488bd5){var _0x24a827=function(_0x21d582){while(--_0x21d582){_0x59ec8d['push'](_0x59ec8d['shift']());}};_0x24a827(++_0x488bd5);}(a172_0x456d,0xa6));var a172_0x4192=function(_0x57da90,_0x30da34){_0x57da90=_0x57da90-0x0;var _0x1cf527=a172_0x456d[_0x57da90];return _0x1cf527;};'use strict';var __importDefault=this&&this['__importDefault']||function(_0x5825c8){return _0x5825c8&&_0x5825c8[a172_0x4192('0x0')]?_0x5825c8:{'default':_0x5825c8};};Object[a172_0x4192('0x1')](exports,'__esModule',{'value':!![]});const controller_utils_1=__importDefault(require(a172_0x4192('0x2')));const sequelize_utils_1=__importDefault(require('../../infrastructure/sequelize-utils'));const moment=require(a172_0x4192('0x3'));const sequelize_1=require(a172_0x4192('0x4'));const fsExtra=require(a172_0x4192('0x5'));const base64Img=require('base64-img');class RouteSchedulesController extends controller_utils_1['default']{constructor(_0x2055c4){super(_0x2055c4,null);this[a172_0x4192('0x6')]=this[a172_0x4192('0x6')]['bind'](this);this[a172_0x4192('0x7')]=this[a172_0x4192('0x7')][a172_0x4192('0x8')](this);}[a172_0x4192('0x7')](_0x29353f,_0x3c7189,_0x552da4){_0x29353f[a172_0x4192('0x9')][a172_0x4192('0xa')]=sequelize_utils_1[a172_0x4192('0xb')][a172_0x4192('0xc')](_0x29353f[a172_0x4192('0x9')]['vehicle_id']);_0x29353f[a172_0x4192('0x9')][a172_0x4192('0xd')]={[sequelize_1['Op'][a172_0x4192('0xe')]]:moment()['toDate']()};_0x29353f[a172_0x4192('0x9')][a172_0x4192('0xf')]={[sequelize_1['Op'][a172_0x4192('0x10')]]:moment()['toDate']()};return this['find'](_0x29353f,null,_0x552da4,![],null,[[a172_0x4192('0xd'),a172_0x4192('0x11')]],!![])['then'](_0x5c1eb7=>{if(_0x5c1eb7){_0x5c1eb7['forEach'](_0x3bec2b=>{const _0x4573aa=process['env'][a172_0x4192('0x12')]+a172_0x4192('0x13')+sequelize_utils_1[a172_0x4192('0xb')]['models']['usersModel'][a172_0x4192('0x14')]+'_'+_0x3bec2b[a172_0x4192('0x15')]+'.jpg';let _0x303d76=null;if(fsExtra['existsSync'](_0x4573aa)){_0x303d76=base64Img[a172_0x4192('0x16')](_0x4573aa);_0x3bec2b[a172_0x4192('0x17')]=_0x303d76;}});}return _0x3c7189[a172_0x4192('0x18')]({'success':!![],'data':_0x5c1eb7});});}[a172_0x4192('0x6')](_0x35658c,_0x2cac07,_0x5eb50e){_0x35658c[a172_0x4192('0x9')][a172_0x4192('0x15')]=sequelize_utils_1[a172_0x4192('0xb')][a172_0x4192('0xc')](_0x35658c[a172_0x4192('0x9')][a172_0x4192('0x15')]);return this[a172_0x4192('0x19')](_0x35658c,_0x2cac07,_0x5eb50e,![],null,null,!![]);}}exports[a172_0x4192('0xb')]=RouteSchedulesController;