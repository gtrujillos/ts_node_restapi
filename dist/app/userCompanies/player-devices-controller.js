var a165_0x1532=['../../infrastructure/sequelize-utils','default','devicesController','playersController','register','reportStatus','bind','getStatus','updateOrCreate','body','device_uuid','network_info','firmware_info','then','player_id','playlist','json','playing_item','find','params','user_uuid','usersModel','models','playerDevicesModel','__importDefault','__esModule','defineProperty'];(function(_0x48ddeb,_0x4f02d0){var _0x3a87ca=function(_0x21d5d0){while(--_0x21d5d0){_0x48ddeb['push'](_0x48ddeb['shift']());}};_0x3a87ca(++_0x4f02d0);}(a165_0x1532,0x126));var a165_0x4373=function(_0x4d26ae,_0x17a82d){_0x4d26ae=_0x4d26ae-0x0;var _0x5b9066=a165_0x1532[_0x4d26ae];return _0x5b9066;};'use strict';var __importDefault=this&&this[a165_0x4373('0x0')]||function(_0x2b732f){return _0x2b732f&&_0x2b732f[a165_0x4373('0x1')]?_0x2b732f:{'default':_0x2b732f};};Object[a165_0x4373('0x2')](exports,a165_0x4373('0x1'),{'value':!![]});const controller_utils_1=__importDefault(require('../../infrastructure/controller-utils'));const sequelize_utils_1=__importDefault(require(a165_0x4373('0x3')));const responseUtils=require('../../infrastructure/response-utils');class PlayerDevicesController extends controller_utils_1[a165_0x4373('0x4')]{constructor(_0x3d8c42,_0x4c8957,_0x294887){super(_0x3d8c42,null);this[a165_0x4373('0x5')]=_0x4c8957;this[a165_0x4373('0x6')]=_0x294887;this[a165_0x4373('0x7')]=this[a165_0x4373('0x7')]['bind'](this);this[a165_0x4373('0x8')]=this[a165_0x4373('0x8')][a165_0x4373('0x9')](this);this[a165_0x4373('0xa')]=this['getStatus'][a165_0x4373('0x9')](this);}[a165_0x4373('0x7')](_0x10250c,_0xafd90b,_0x48db7b){return this[a165_0x4373('0x5')][a165_0x4373('0xb')]({'params':{'uuid':_0x10250c[a165_0x4373('0xc')][a165_0x4373('0xd')]},'body':{'uuid':_0x10250c[a165_0x4373('0xc')]['device_uuid'],'network_info':_0x10250c[a165_0x4373('0xc')][a165_0x4373('0xe')],'firmware_info':_0x10250c[a165_0x4373('0xc')][a165_0x4373('0xf')]}},null,_0x48db7b,!![])[a165_0x4373('0x10')](_0x3f3508=>{return this[a165_0x4373('0xb')]({'params':{'device_id':_0x3f3508['id'],'player_id':_0x10250c[a165_0x4373('0xc')]['player_id']},'body':{'device_id':_0x3f3508['id'],'player_id':_0x10250c[a165_0x4373('0xc')][a165_0x4373('0x11')],'status':_0x10250c[a165_0x4373('0xc')]['status'],'playlist':_0x10250c['body'][a165_0x4373('0x12')],'reported_at':new Date()}},null,_0x48db7b)[a165_0x4373('0x10')](_0x5a4f61=>{delete _0x3f3508['id'];return _0xafd90b[a165_0x4373('0x13')]({'success':!![],'data':_0x3f3508});});});}[a165_0x4373('0x8')](_0x43db2f,_0x78bcb0,_0x2f89ba){return this[a165_0x4373('0x5')][a165_0x4373('0xb')]({'params':{'uuid':_0x43db2f[a165_0x4373('0xc')]['device_uuid']},'body':{'uuid':_0x43db2f[a165_0x4373('0xc')]['device_uuid']}},null,_0x2f89ba,!![])['then'](_0x43673d=>{return this[a165_0x4373('0xb')]({'params':{'device_id':_0x43673d['id'],'player_id':_0x43db2f['body'][a165_0x4373('0x11')]},'body':{'device_id':_0x43673d['id'],'player_id':_0x43db2f['body'][a165_0x4373('0x11')],'playing_item':_0x43db2f[a165_0x4373('0xc')][a165_0x4373('0x14')],'status':_0x43db2f[a165_0x4373('0xc')]['status'],'reported_at':new Date()}},null,_0x2f89ba)[a165_0x4373('0x10')](_0xfface3=>{delete _0x43673d['id'];return _0x78bcb0[a165_0x4373('0x13')]({'success':!![],'data':_0xfface3});});});}['getStatus'](_0x36d63b,_0x47ee66,_0x539475){return this[a165_0x4373('0x6')][a165_0x4373('0x15')]({'params':{'$user.uuid$':_0x36d63b[a165_0x4373('0x16')][a165_0x4373('0x17')]}},null,_0x539475,!![],[sequelize_utils_1[a165_0x4373('0x4')]['models'][a165_0x4373('0x18')],sequelize_utils_1['default'][a165_0x4373('0x19')][a165_0x4373('0x1a')]])['then'](_0x172464=>{console['log'](_0x172464);return _0x47ee66[a165_0x4373('0x13')]({'success':!![],'data':_0x172464});});}}exports[a165_0x4373('0x4')]=PlayerDevicesController;