var a191_0x14be=['../../infrastructure/controller-utils','default','vehicleController','report','getList','Plate','then','DateHour','save','json','find','vehiclesModel','created_at','__esModule','defineProperty'];(function(_0x37b118,_0x512a50){var _0x163dc1=function(_0x16c793){while(--_0x16c793){_0x37b118['push'](_0x37b118['shift']());}};_0x163dc1(++_0x512a50);}(a191_0x14be,0x94));var a191_0x3f88=function(_0x979bca,_0x13d568){_0x979bca=_0x979bca-0x0;var _0x3a5a08=a191_0x14be[_0x979bca];return _0x3a5a08;};'use strict';var __importDefault=this&&this['__importDefault']||function(_0x1858b9){return _0x1858b9&&_0x1858b9[a191_0x3f88('0x0')]?_0x1858b9:{'default':_0x1858b9};};Object[a191_0x3f88('0x1')](exports,a191_0x3f88('0x0'),{'value':!![]});const controller_utils_1=__importDefault(require(a191_0x3f88('0x2')));const sequelize_utils_1=__importDefault(require('../../infrastructure/sequelize-utils'));const responseUtils=require('../../infrastructure/response-utils');class VehiclesCountController extends controller_utils_1[a191_0x3f88('0x3')]{constructor(_0x13428a,_0x10cabb){super(_0x13428a,null);this[a191_0x3f88('0x4')]=_0x10cabb;this[a191_0x3f88('0x5')]=this[a191_0x3f88('0x5')]['bind'](this);this['getList']=this[a191_0x3f88('0x6')]['bind'](this);}['report'](_0x3b26c7,_0x31282a,_0x39ad16){const _0x5766b0=_0x3b26c7['body']['infoplate'];return this[a191_0x3f88('0x4')]['updateOrCreate']({'params':{'plate':_0x5766b0[a191_0x3f88('0x7')]},'body':{'plate':_0x5766b0['Plate']}},null,_0x39ad16,!![])[a191_0x3f88('0x8')](_0x5a2353=>{_0x3b26c7['body']={'vehicle_id':_0x5a2353['id'],'reported_at':_0x5766b0[a191_0x3f88('0x9')]};return this[a191_0x3f88('0xa')](_0x3b26c7,_0x31282a,_0x39ad16)[a191_0x3f88('0x8')](_0x48a371=>{if(_0x31282a){return _0x31282a[a191_0x3f88('0xb')]({'success':!![],'data':_0x48a371});}else{return _0x48a371;}});});}[a191_0x3f88('0x6')](_0x4315f6,_0x9b6048,_0x24dd10){return this[a191_0x3f88('0xc')](_0x4315f6,_0x9b6048,_0x24dd10,!![],[sequelize_utils_1[a191_0x3f88('0x3')]['models'][a191_0x3f88('0xd')]],[[a191_0x3f88('0xe'),'DESC']])[a191_0x3f88('0x8')](_0x490bc6=>{});}}exports[a191_0x3f88('0x3')]=VehiclesCountController;