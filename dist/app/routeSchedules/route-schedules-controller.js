var a130_0x203d=['then','env','IMAGE_FILES_FOLDER','default','models','usersModel','user_id','.jpg','existsSync','base64Sync','json','__importDefault','__esModule','defineProperty','../../infrastructure/sequelize-utils','moment','sequelize','fs-extra','getByUser','getByVehicle','bind','params','vehicle_id','decryptId','start_date','toDate','find','ASC'];(function(_0xf301ac,_0x368c38){var _0x1851a9=function(_0x2fb0da){while(--_0x2fb0da){_0xf301ac['push'](_0xf301ac['shift']());}};_0x1851a9(++_0x368c38);}(a130_0x203d,0x1af));var a130_0x5b31=function(_0xd3737b,_0x23e699){_0xd3737b=_0xd3737b-0x0;var _0x34ccf9=a130_0x203d[_0xd3737b];return _0x34ccf9;};'use strict';var __importDefault=this&&this[a130_0x5b31('0x0')]||function(_0x5ebd9a){return _0x5ebd9a&&_0x5ebd9a[a130_0x5b31('0x1')]?_0x5ebd9a:{'default':_0x5ebd9a};};Object[a130_0x5b31('0x2')](exports,a130_0x5b31('0x1'),{'value':!![]});const controller_utils_1=__importDefault(require('../../infrastructure/controller-utils'));const sequelize_utils_1=__importDefault(require(a130_0x5b31('0x3')));const moment=require(a130_0x5b31('0x4'));const sequelize_1=require(a130_0x5b31('0x5'));const fsExtra=require(a130_0x5b31('0x6'));const base64Img=require('base64-img');class RouteSchedulesController extends controller_utils_1['default']{constructor(_0x2e5538){super(_0x2e5538,null);this[a130_0x5b31('0x7')]=this[a130_0x5b31('0x7')]['bind'](this);this[a130_0x5b31('0x8')]=this['getByVehicle'][a130_0x5b31('0x9')](this);}['getByVehicle'](_0x293521,_0x3e9a27,_0x21f484){_0x293521[a130_0x5b31('0xa')][a130_0x5b31('0xb')]=sequelize_utils_1['default'][a130_0x5b31('0xc')](_0x293521[a130_0x5b31('0xa')][a130_0x5b31('0xb')]);_0x293521[a130_0x5b31('0xa')][a130_0x5b31('0xd')]={[sequelize_1['Op']['gte']]:moment()[a130_0x5b31('0xe')]()};return this[a130_0x5b31('0xf')](_0x293521,null,_0x21f484,![],null,[[a130_0x5b31('0xd'),a130_0x5b31('0x10')]],!![])[a130_0x5b31('0x11')](_0xe9a673=>{if(_0xe9a673){_0xe9a673['forEach'](_0x358c3f=>{const _0x554297=process[a130_0x5b31('0x12')][a130_0x5b31('0x13')]+'images/'+sequelize_utils_1[a130_0x5b31('0x14')][a130_0x5b31('0x15')][a130_0x5b31('0x16')]['name']+'_'+_0x358c3f[a130_0x5b31('0x17')]+a130_0x5b31('0x18');let _0x4ff7f9=null;if(fsExtra[a130_0x5b31('0x19')](_0x554297)){_0x4ff7f9=base64Img[a130_0x5b31('0x1a')](_0x554297);_0x358c3f['image_data']=_0x4ff7f9;}});}return _0x3e9a27[a130_0x5b31('0x1b')]({'success':!![],'data':_0xe9a673});});}[a130_0x5b31('0x7')](_0x3d137d,_0x299be8,_0x3e4e6b){_0x3d137d['params']['user_id']=sequelize_utils_1['default'][a130_0x5b31('0xc')](_0x3d137d['params']['user_id']);return this[a130_0x5b31('0xf')](_0x3d137d,_0x299be8,_0x3e4e6b,![],null,null,!![]);}}exports[a130_0x5b31('0x14')]=RouteSchedulesController;