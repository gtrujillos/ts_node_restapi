var a118_0x1255=['default','getByUser','getByVehicle','params','vehicle_id','decryptId','start_date','lte','toDate','gte','find','then','env','FILES_FOLDER','images/','models','name','user_id','.jpg','base64Sync','json','defineProperty','../../infrastructure/base-controller','moment','sequelize','fs-extra'];(function(_0x9d43f2,_0x21890c){var _0x709019=function(_0x420bf5){while(--_0x420bf5){_0x9d43f2['push'](_0x9d43f2['shift']());}};_0x709019(++_0x21890c);}(a118_0x1255,0x167));var a118_0x589d=function(_0x5e2931,_0x302740){_0x5e2931=_0x5e2931-0x0;var _0x31731c=a118_0x1255[_0x5e2931];return _0x31731c;};'use strict';var __importDefault=this&&this['__importDefault']||function(_0x74e260){return _0x74e260&&_0x74e260['__esModule']?_0x74e260:{'default':_0x74e260};};Object[a118_0x589d('0x0')](exports,'__esModule',{'value':!![]});const base_controller_1=__importDefault(require(a118_0x589d('0x1')));const sequelize_utils_1=__importDefault(require('../../infrastructure/sequelize-utils'));const moment=require(a118_0x589d('0x2'));const sequelize_1=require(a118_0x589d('0x3'));const fsExtra=require(a118_0x589d('0x4'));const base64Img=require('base64-img');class RouteSchedulesController extends base_controller_1[a118_0x589d('0x5')]{constructor(_0x59740e){super(_0x59740e,null);this[a118_0x589d('0x6')]=this['getByUser']['bind'](this);this[a118_0x589d('0x7')]=this[a118_0x589d('0x7')]['bind'](this);}[a118_0x589d('0x7')](_0x3d9356,_0x345310,_0x866407){_0x3d9356[a118_0x589d('0x8')][a118_0x589d('0x9')]=sequelize_utils_1[a118_0x589d('0x5')][a118_0x589d('0xa')](_0x3d9356['params'][a118_0x589d('0x9')]);_0x3d9356['params'][a118_0x589d('0xb')]={[sequelize_1['Op'][a118_0x589d('0xc')]]:moment()[a118_0x589d('0xd')]()};_0x3d9356['params']['end_date']={[sequelize_1['Op'][a118_0x589d('0xe')]]:moment()[a118_0x589d('0xd')]()};return this[a118_0x589d('0xf')](_0x3d9356,null,_0x866407)[a118_0x589d('0x10')](_0x4d7902=>{if(_0x4d7902){_0x4d7902['forEach'](_0x3ddeb3=>{const _0x239e3c=process[a118_0x589d('0x11')][a118_0x589d('0x12')]+a118_0x589d('0x13')+sequelize_utils_1[a118_0x589d('0x5')][a118_0x589d('0x14')]['usersModel'][a118_0x589d('0x15')]+'_'+_0x3ddeb3[a118_0x589d('0x16')]+a118_0x589d('0x17');let _0x950237=null;if(fsExtra['existsSync'](_0x239e3c)){_0x950237=base64Img[a118_0x589d('0x18')](_0x239e3c);_0x3ddeb3['image_data']=_0x950237;}});}return _0x345310[a118_0x589d('0x19')]({'success':!![],'data':_0x4d7902});});}[a118_0x589d('0x6')](_0x13643e,_0x4a045f,_0x16bac8){_0x13643e[a118_0x589d('0x8')][a118_0x589d('0x16')]=sequelize_utils_1[a118_0x589d('0x5')]['decryptId'](_0x13643e[a118_0x589d('0x8')][a118_0x589d('0x16')]);return this['find'](_0x13643e,_0x4a045f,_0x16bac8);}}exports[a118_0x589d('0x5')]=RouteSchedulesController;