var a118_0x1dd2=['moment','fs-extra','default','getByUser','bind','getByVehicle','params','vehicle_id','decryptId','lte','toDate','end_date','gte','find','then','env','images/','usersModel','user_id','.jpg','base64Sync','image_data','json','__importDefault','__esModule','../../infrastructure/base-controller','../../infrastructure/sequelize-utils'];(function(_0x43eb01,_0x2f5150){var _0x2e168e=function(_0x1dd189){while(--_0x1dd189){_0x43eb01['push'](_0x43eb01['shift']());}};_0x2e168e(++_0x2f5150);}(a118_0x1dd2,0x1ac));var a118_0x3046=function(_0x38a3ae,_0x232440){_0x38a3ae=_0x38a3ae-0x0;var _0x678de7=a118_0x1dd2[_0x38a3ae];return _0x678de7;};'use strict';var __importDefault=this&&this[a118_0x3046('0x0')]||function(_0x7e688a){return _0x7e688a&&_0x7e688a[a118_0x3046('0x1')]?_0x7e688a:{'default':_0x7e688a};};Object['defineProperty'](exports,a118_0x3046('0x1'),{'value':!![]});const base_controller_1=__importDefault(require(a118_0x3046('0x2')));const sequelize_utils_1=__importDefault(require(a118_0x3046('0x3')));const moment=require(a118_0x3046('0x4'));const sequelize_1=require('sequelize');const fsExtra=require(a118_0x3046('0x5'));const base64Img=require('base64-img');class RouteSchedulesController extends base_controller_1[a118_0x3046('0x6')]{constructor(_0x1ef591){super(_0x1ef591,null);this['getByUser']=this[a118_0x3046('0x7')][a118_0x3046('0x8')](this);this[a118_0x3046('0x9')]=this[a118_0x3046('0x9')][a118_0x3046('0x8')](this);}['getByVehicle'](_0x29ced0,_0x3ab133,_0x3a9877){_0x29ced0[a118_0x3046('0xa')][a118_0x3046('0xb')]=sequelize_utils_1[a118_0x3046('0x6')][a118_0x3046('0xc')](_0x29ced0['params']['vehicle_id']);_0x29ced0['params']['start_date']={[sequelize_1['Op'][a118_0x3046('0xd')]]:moment()[a118_0x3046('0xe')]()};_0x29ced0[a118_0x3046('0xa')][a118_0x3046('0xf')]={[sequelize_1['Op'][a118_0x3046('0x10')]]:moment()[a118_0x3046('0xe')]()};return this[a118_0x3046('0x11')](_0x29ced0,null,_0x3a9877)[a118_0x3046('0x12')](_0x127910=>{if(_0x127910){_0x127910['forEach'](_0x44f3a4=>{const _0x32ae1e=process[a118_0x3046('0x13')]['FILES_FOLDER']+a118_0x3046('0x14')+sequelize_utils_1[a118_0x3046('0x6')]['models'][a118_0x3046('0x15')]['name']+'_'+_0x44f3a4[a118_0x3046('0x16')]+a118_0x3046('0x17');let _0x276f32=null;if(fsExtra['existsSync'](_0x32ae1e)){_0x276f32=base64Img[a118_0x3046('0x18')](_0x32ae1e);_0x44f3a4[a118_0x3046('0x19')]=_0x276f32;}});}return _0x3ab133[a118_0x3046('0x1a')]({'success':!![],'data':_0x127910});});}['getByUser'](_0x2ecffd,_0x201ebd,_0x22ec65){_0x2ecffd[a118_0x3046('0xa')][a118_0x3046('0x16')]=sequelize_utils_1[a118_0x3046('0x6')][a118_0x3046('0xc')](_0x2ecffd[a118_0x3046('0xa')][a118_0x3046('0x16')]);return this[a118_0x3046('0x11')](_0x2ecffd,_0x201ebd,_0x22ec65);}}exports['default']=RouteSchedulesController;