var a118_0xf9ac=['then','forEach','FILES_FOLDER','models','usersModel','.jpg','existsSync','base64Sync','image_data','json','user_id','find','__importDefault','__esModule','defineProperty','../../infrastructure/sequelize-utils','moment','sequelize','fs-extra','base64-img','default','getByUser','bind','getByVehicle','vehicle_id','decryptId','params','start_date','lte','toDate','end_date'];(function(_0x3cc510,_0xeae581){var _0xeb6f31=function(_0xc1da01){while(--_0xc1da01){_0x3cc510['push'](_0x3cc510['shift']());}};_0xeb6f31(++_0xeae581);}(a118_0xf9ac,0x88));var a118_0x4633=function(_0x119f0e,_0x642a8e){_0x119f0e=_0x119f0e-0x0;var _0x4c5344=a118_0xf9ac[_0x119f0e];return _0x4c5344;};'use strict';var __importDefault=this&&this[a118_0x4633('0x0')]||function(_0x1f1e0a){return _0x1f1e0a&&_0x1f1e0a[a118_0x4633('0x1')]?_0x1f1e0a:{'default':_0x1f1e0a};};Object[a118_0x4633('0x2')](exports,a118_0x4633('0x1'),{'value':!![]});const base_controller_1=__importDefault(require('../../infrastructure/base-controller'));const sequelize_utils_1=__importDefault(require(a118_0x4633('0x3')));const moment=require(a118_0x4633('0x4'));const sequelize_1=require(a118_0x4633('0x5'));const fsExtra=require(a118_0x4633('0x6'));const base64Img=require(a118_0x4633('0x7'));class RouteSchedulesController extends base_controller_1[a118_0x4633('0x8')]{constructor(_0x375f51){super(_0x375f51,null);this[a118_0x4633('0x9')]=this['getByUser'][a118_0x4633('0xa')](this);this[a118_0x4633('0xb')]=this['getByVehicle']['bind'](this);}[a118_0x4633('0xb')](_0x5b89ca,_0x62bfaa,_0x1c1fb1){_0x5b89ca['params'][a118_0x4633('0xc')]=sequelize_utils_1[a118_0x4633('0x8')][a118_0x4633('0xd')](_0x5b89ca[a118_0x4633('0xe')]['vehicle_id']);_0x5b89ca[a118_0x4633('0xe')][a118_0x4633('0xf')]={[sequelize_1['Op'][a118_0x4633('0x10')]]:moment()[a118_0x4633('0x11')]()};_0x5b89ca[a118_0x4633('0xe')][a118_0x4633('0x12')]={[sequelize_1['Op']['gte']]:moment()[a118_0x4633('0x11')]()};return this['find'](_0x5b89ca,null,_0x1c1fb1)[a118_0x4633('0x13')](_0x4f33f6=>{if(_0x4f33f6){_0x4f33f6[a118_0x4633('0x14')](_0x4698bc=>{const _0x44adf1=process['env'][a118_0x4633('0x15')]+'images/'+sequelize_utils_1[a118_0x4633('0x8')][a118_0x4633('0x16')][a118_0x4633('0x17')]['name']+'_'+_0x4698bc['user_id']+a118_0x4633('0x18');let _0x4b6b42=null;if(fsExtra[a118_0x4633('0x19')](_0x44adf1)){_0x4b6b42=base64Img[a118_0x4633('0x1a')](_0x44adf1);_0x4698bc[a118_0x4633('0x1b')]=_0x4b6b42;}});}return _0x62bfaa[a118_0x4633('0x1c')]({'success':!![],'data':_0x4f33f6});});}[a118_0x4633('0x9')](_0x25a899,_0x13b81b,_0x326f2b){_0x25a899[a118_0x4633('0xe')][a118_0x4633('0x1d')]=sequelize_utils_1[a118_0x4633('0x8')][a118_0x4633('0xd')](_0x25a899[a118_0x4633('0xe')][a118_0x4633('0x1d')]);return this[a118_0x4633('0x1e')](_0x25a899,_0x13b81b,_0x326f2b);}}exports['default']=RouteSchedulesController;