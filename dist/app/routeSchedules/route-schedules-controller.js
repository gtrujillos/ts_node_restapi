var a130_0x5d79=['vehicle_id','gte','find','ASC','then','forEach','env','IMAGE_FILES_FOLDER','models','usersModel','name','user_id','.jpg','existsSync','base64Sync','image_data','json','decryptId','__importDefault','__esModule','../../infrastructure/controller-utils','../../infrastructure/sequelize-utils','moment','sequelize','fs-extra','base64-img','default','getByUser','bind','getByVehicle','params'];(function(_0x56a3b6,_0x39fe14){var _0x4deea8=function(_0x2f3a28){while(--_0x2f3a28){_0x56a3b6['push'](_0x56a3b6['shift']());}};_0x4deea8(++_0x39fe14);}(a130_0x5d79,0xeb));var a130_0x3ebc=function(_0x5e6afd,_0x5a3228){_0x5e6afd=_0x5e6afd-0x0;var _0x5a7b68=a130_0x5d79[_0x5e6afd];return _0x5a7b68;};'use strict';var __importDefault=this&&this[a130_0x3ebc('0x0')]||function(_0xe8c9d0){return _0xe8c9d0&&_0xe8c9d0[a130_0x3ebc('0x1')]?_0xe8c9d0:{'default':_0xe8c9d0};};Object['defineProperty'](exports,a130_0x3ebc('0x1'),{'value':!![]});const controller_utils_1=__importDefault(require(a130_0x3ebc('0x2')));const sequelize_utils_1=__importDefault(require(a130_0x3ebc('0x3')));const moment=require(a130_0x3ebc('0x4'));const sequelize_1=require(a130_0x3ebc('0x5'));const fsExtra=require(a130_0x3ebc('0x6'));const base64Img=require(a130_0x3ebc('0x7'));class RouteSchedulesController extends controller_utils_1[a130_0x3ebc('0x8')]{constructor(_0x146666){super(_0x146666,null);this[a130_0x3ebc('0x9')]=this['getByUser'][a130_0x3ebc('0xa')](this);this[a130_0x3ebc('0xb')]=this['getByVehicle'][a130_0x3ebc('0xa')](this);}[a130_0x3ebc('0xb')](_0x1911f0,_0x2299e0,_0x20bd3b){_0x1911f0[a130_0x3ebc('0xc')][a130_0x3ebc('0xd')]=sequelize_utils_1[a130_0x3ebc('0x8')]['decryptId'](_0x1911f0[a130_0x3ebc('0xc')]['vehicle_id']);_0x1911f0[a130_0x3ebc('0xc')]['start_date']={[sequelize_1['Op'][a130_0x3ebc('0xe')]]:moment()['toDate']()};return this[a130_0x3ebc('0xf')](_0x1911f0,null,_0x20bd3b,![],null,[['start_date',a130_0x3ebc('0x10')]],!![])[a130_0x3ebc('0x11')](_0x24d24b=>{if(_0x24d24b){_0x24d24b[a130_0x3ebc('0x12')](_0x1cad7b=>{const _0x20c81b=process[a130_0x3ebc('0x13')][a130_0x3ebc('0x14')]+'images/'+sequelize_utils_1[a130_0x3ebc('0x8')][a130_0x3ebc('0x15')][a130_0x3ebc('0x16')][a130_0x3ebc('0x17')]+'_'+_0x1cad7b[a130_0x3ebc('0x18')]+a130_0x3ebc('0x19');let _0x6479be=null;if(fsExtra[a130_0x3ebc('0x1a')](_0x20c81b)){_0x6479be=base64Img[a130_0x3ebc('0x1b')](_0x20c81b);_0x1cad7b[a130_0x3ebc('0x1c')]=_0x6479be;}});}return _0x2299e0[a130_0x3ebc('0x1d')]({'success':!![],'data':_0x24d24b});});}[a130_0x3ebc('0x9')](_0x4d3c37,_0x387e23,_0x4d849d){_0x4d3c37[a130_0x3ebc('0xc')][a130_0x3ebc('0x18')]=sequelize_utils_1[a130_0x3ebc('0x8')][a130_0x3ebc('0x1e')](_0x4d3c37[a130_0x3ebc('0xc')][a130_0x3ebc('0x18')]);return this[a130_0x3ebc('0xf')](_0x4d3c37,_0x387e23,_0x4d849d,![],null,null,!![]);}}exports[a130_0x3ebc('0x8')]=RouteSchedulesController;