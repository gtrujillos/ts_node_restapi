var a130_0x1f98=['start_date','ASC','then','env','IMAGE_FILES_FOLDER','images/','usersModel','user_id','base64Sync','image_data','json','__importDefault','defineProperty','__esModule','../../infrastructure/sequelize-utils','sequelize','fs-extra','default','getByUser','bind','getByVehicle','params','vehicle_id','decryptId','lte','toDate','gte','find'];(function(_0x46544c,_0x41b64b){var _0x2acfa3=function(_0x819444){while(--_0x819444){_0x46544c['push'](_0x46544c['shift']());}};_0x2acfa3(++_0x41b64b);}(a130_0x1f98,0x97));var a130_0x33db=function(_0x4c7aac,_0x4e1ebb){_0x4c7aac=_0x4c7aac-0x0;var _0x269889=a130_0x1f98[_0x4c7aac];return _0x269889;};'use strict';var __importDefault=this&&this[a130_0x33db('0x0')]||function(_0x5e5678){return _0x5e5678&&_0x5e5678['__esModule']?_0x5e5678:{'default':_0x5e5678};};Object[a130_0x33db('0x1')](exports,a130_0x33db('0x2'),{'value':!![]});const controller_utils_1=__importDefault(require('../../infrastructure/controller-utils'));const sequelize_utils_1=__importDefault(require(a130_0x33db('0x3')));const moment=require('moment');const sequelize_1=require(a130_0x33db('0x4'));const fsExtra=require(a130_0x33db('0x5'));const base64Img=require('base64-img');class RouteSchedulesController extends controller_utils_1[a130_0x33db('0x6')]{constructor(_0x128d9e){super(_0x128d9e,null);this[a130_0x33db('0x7')]=this[a130_0x33db('0x7')][a130_0x33db('0x8')](this);this[a130_0x33db('0x9')]=this[a130_0x33db('0x9')][a130_0x33db('0x8')](this);}[a130_0x33db('0x9')](_0x4fecc3,_0x3dfd49,_0x3c4a73){_0x4fecc3[a130_0x33db('0xa')][a130_0x33db('0xb')]=sequelize_utils_1['default'][a130_0x33db('0xc')](_0x4fecc3[a130_0x33db('0xa')]['vehicle_id']);_0x4fecc3['params']['start_date']={[sequelize_1['Op'][a130_0x33db('0xd')]]:moment()[a130_0x33db('0xe')]()};_0x4fecc3['params']['end_date']={[sequelize_1['Op'][a130_0x33db('0xf')]]:moment()[a130_0x33db('0xe')]()};return this[a130_0x33db('0x10')](_0x4fecc3,null,_0x3c4a73,![],null,[[a130_0x33db('0x11'),a130_0x33db('0x12')]],!![])[a130_0x33db('0x13')](_0x50603f=>{if(_0x50603f){_0x50603f['forEach'](_0x395fde=>{const _0x21238=process[a130_0x33db('0x14')][a130_0x33db('0x15')]+a130_0x33db('0x16')+sequelize_utils_1[a130_0x33db('0x6')]['models'][a130_0x33db('0x17')]['name']+'_'+_0x395fde[a130_0x33db('0x18')]+'.jpg';let _0x526499=null;if(fsExtra['existsSync'](_0x21238)){_0x526499=base64Img[a130_0x33db('0x19')](_0x21238);_0x395fde[a130_0x33db('0x1a')]=_0x526499;}});}return _0x3dfd49[a130_0x33db('0x1b')]({'success':!![],'data':_0x50603f});});}[a130_0x33db('0x7')](_0x14ba5c,_0x177720,_0x31da24){_0x14ba5c[a130_0x33db('0xa')][a130_0x33db('0x18')]=sequelize_utils_1[a130_0x33db('0x6')][a130_0x33db('0xc')](_0x14ba5c[a130_0x33db('0xa')][a130_0x33db('0x18')]);return this[a130_0x33db('0x10')](_0x14ba5c,_0x177720,_0x31da24,![],null,null,!![]);}}exports[a130_0x33db('0x6')]=RouteSchedulesController;