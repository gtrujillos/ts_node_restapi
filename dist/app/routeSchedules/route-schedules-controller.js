var a130_0x301f=['moment','sequelize','fs-extra','default','getByUser','bind','getByVehicle','params','decryptId','vehicle_id','gte','find','ASC','then','forEach','env','IMAGE_FILES_FOLDER','images/','name','.jpg','existsSync','base64Sync','json','user_id','__importDefault','__esModule','defineProperty','../../infrastructure/controller-utils'];(function(_0x38eba6,_0x2b475c){var _0x419817=function(_0x65a3a1){while(--_0x65a3a1){_0x38eba6['push'](_0x38eba6['shift']());}};_0x419817(++_0x2b475c);}(a130_0x301f,0x1d8));var a130_0x40eb=function(_0x177236,_0x152e8c){_0x177236=_0x177236-0x0;var _0x2761b0=a130_0x301f[_0x177236];return _0x2761b0;};'use strict';var __importDefault=this&&this[a130_0x40eb('0x0')]||function(_0x3deacf){return _0x3deacf&&_0x3deacf[a130_0x40eb('0x1')]?_0x3deacf:{'default':_0x3deacf};};Object[a130_0x40eb('0x2')](exports,a130_0x40eb('0x1'),{'value':!![]});const controller_utils_1=__importDefault(require(a130_0x40eb('0x3')));const sequelize_utils_1=__importDefault(require('../../infrastructure/sequelize-utils'));const moment=require(a130_0x40eb('0x4'));const sequelize_1=require(a130_0x40eb('0x5'));const fsExtra=require(a130_0x40eb('0x6'));const base64Img=require('base64-img');class RouteSchedulesController extends controller_utils_1[a130_0x40eb('0x7')]{constructor(_0x49755e){super(_0x49755e,null);this['getByUser']=this[a130_0x40eb('0x8')][a130_0x40eb('0x9')](this);this[a130_0x40eb('0xa')]=this[a130_0x40eb('0xa')][a130_0x40eb('0x9')](this);}[a130_0x40eb('0xa')](_0x356170,_0x4af7d7,_0x34d46a){_0x356170[a130_0x40eb('0xb')]['vehicle_id']=sequelize_utils_1[a130_0x40eb('0x7')][a130_0x40eb('0xc')](_0x356170[a130_0x40eb('0xb')][a130_0x40eb('0xd')]);_0x356170[a130_0x40eb('0xb')]['start_date']={[sequelize_1['Op'][a130_0x40eb('0xe')]]:moment()['toDate']()};return this[a130_0x40eb('0xf')](_0x356170,null,_0x34d46a,![],null,[['start_date',a130_0x40eb('0x10')]],!![])[a130_0x40eb('0x11')](_0x5103f9=>{if(_0x5103f9){_0x5103f9[a130_0x40eb('0x12')](_0x1bf64e=>{const _0xfae127=process[a130_0x40eb('0x13')][a130_0x40eb('0x14')]+a130_0x40eb('0x15')+sequelize_utils_1[a130_0x40eb('0x7')]['models']['usersModel'][a130_0x40eb('0x16')]+'_'+_0x1bf64e['user_id']+a130_0x40eb('0x17');let _0xd0458d=null;if(fsExtra[a130_0x40eb('0x18')](_0xfae127)){_0xd0458d=base64Img[a130_0x40eb('0x19')](_0xfae127);_0x1bf64e['image_data']=_0xd0458d;}});}return _0x4af7d7[a130_0x40eb('0x1a')]({'success':!![],'data':_0x5103f9});});}[a130_0x40eb('0x8')](_0x28bdfc,_0x43bc61,_0x5c3688){_0x28bdfc[a130_0x40eb('0xb')][a130_0x40eb('0x1b')]=sequelize_utils_1[a130_0x40eb('0x7')][a130_0x40eb('0xc')](_0x28bdfc['params']['user_id']);return this[a130_0x40eb('0xf')](_0x28bdfc,_0x43bc61,_0x5c3688,![],null,null,!![]);}}exports[a130_0x40eb('0x7')]=RouteSchedulesController;