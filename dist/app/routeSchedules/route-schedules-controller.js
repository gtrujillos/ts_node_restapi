var a169_0x207d=['../../infrastructure/sequelize-utils','moment','sequelize','getByUser','bind','getByVehicle','vehicle_id','decryptId','params','start_date','lte','toDate','gte','find','env','IMAGE_FILES_FOLDER','images/','default','models','usersModel','name','.jpg','base64Sync','json','user_id','defineProperty','__esModule','../../infrastructure/base-controller'];(function(_0x5a88a9,_0x532d77){var _0x5c1789=function(_0x43290d){while(--_0x43290d){_0x5a88a9['push'](_0x5a88a9['shift']());}};_0x5c1789(++_0x532d77);}(a169_0x207d,0xdd));var a169_0x2788=function(_0x4e520b,_0x3874fc){_0x4e520b=_0x4e520b-0x0;var _0x44f75e=a169_0x207d[_0x4e520b];return _0x44f75e;};'use strict';var __importDefault=this&&this['__importDefault']||function(_0x2d1049){return _0x2d1049&&_0x2d1049['__esModule']?_0x2d1049:{'default':_0x2d1049};};Object[a169_0x2788('0x0')](exports,a169_0x2788('0x1'),{'value':!![]});const base_controller_1=__importDefault(require(a169_0x2788('0x2')));const sequelize_utils_1=__importDefault(require(a169_0x2788('0x3')));const moment=require(a169_0x2788('0x4'));const sequelize_1=require(a169_0x2788('0x5'));const fsExtra=require('fs-extra');const base64Img=require('base64-img');class RouteSchedulesController extends base_controller_1['default']{constructor(_0x1f0a0f){super(_0x1f0a0f,null);this[a169_0x2788('0x6')]=this[a169_0x2788('0x6')][a169_0x2788('0x7')](this);this['getByVehicle']=this[a169_0x2788('0x8')][a169_0x2788('0x7')](this);}[a169_0x2788('0x8')](_0x162f30,_0x4375b,_0x41e90c){_0x162f30['params'][a169_0x2788('0x9')]=sequelize_utils_1['default'][a169_0x2788('0xa')](_0x162f30[a169_0x2788('0xb')]['vehicle_id']);_0x162f30[a169_0x2788('0xb')][a169_0x2788('0xc')]={[sequelize_1['Op'][a169_0x2788('0xd')]]:moment()[a169_0x2788('0xe')]()};_0x162f30[a169_0x2788('0xb')]['end_date']={[sequelize_1['Op'][a169_0x2788('0xf')]]:moment()[a169_0x2788('0xe')]()};return this[a169_0x2788('0x10')](_0x162f30,null,_0x41e90c)['then'](_0x1abc19=>{if(_0x1abc19){_0x1abc19['forEach'](_0x256691=>{const _0x1c79be=process[a169_0x2788('0x11')][a169_0x2788('0x12')]+a169_0x2788('0x13')+sequelize_utils_1[a169_0x2788('0x14')][a169_0x2788('0x15')][a169_0x2788('0x16')][a169_0x2788('0x17')]+'_'+_0x256691['user_id']+a169_0x2788('0x18');let _0x4d637d=null;if(fsExtra['existsSync'](_0x1c79be)){_0x4d637d=base64Img[a169_0x2788('0x19')](_0x1c79be);_0x256691['image_data']=_0x4d637d;}});}return _0x4375b[a169_0x2788('0x1a')]({'success':!![],'data':_0x1abc19});});}['getByUser'](_0xd668c3,_0x26907b,_0x13bd6c){_0xd668c3['params'][a169_0x2788('0x1b')]=sequelize_utils_1['default'][a169_0x2788('0xa')](_0xd668c3[a169_0x2788('0xb')][a169_0x2788('0x1b')]);return this[a169_0x2788('0x10')](_0xd668c3,_0x26907b,_0x13bd6c);}}exports[a169_0x2788('0x14')]=RouteSchedulesController;