var a57_0x5edb=['../../infrastructure/controller-utils','../../infrastructure/sequelize-utils','../../infrastructure/response-utils','default','devicesController','register','bind','reportStatus','getStatus','updateOrCreate','body','device_uuid','network_info','firmware_info','then','player_id','playlist','json','status','playersController','params','models','usersModel','playerDevicesModel','__esModule','defineProperty'];(function(_0x3562b5,_0x22dabc){var _0x54d52d=function(_0x27bd3d){while(--_0x27bd3d){_0x3562b5['push'](_0x3562b5['shift']());}};_0x54d52d(++_0x22dabc);}(a57_0x5edb,0x80));var a57_0xdd7a=function(_0xf34179,_0x5b6b9b){_0xf34179=_0xf34179-0x0;var _0x554d0e=a57_0x5edb[_0xf34179];return _0x554d0e;};'use strict';var __importDefault=this&&this['__importDefault']||function(_0x459587){return _0x459587&&_0x459587[a57_0xdd7a('0x0')]?_0x459587:{'default':_0x459587};};Object[a57_0xdd7a('0x1')](exports,'__esModule',{'value':!![]});const controller_utils_1=__importDefault(require(a57_0xdd7a('0x2')));const sequelize_utils_1=__importDefault(require(a57_0xdd7a('0x3')));const responseUtils=require(a57_0xdd7a('0x4'));class PlayerDevicesController extends controller_utils_1[a57_0xdd7a('0x5')]{constructor(_0x3820ac,_0x2c5775,_0x293579){super(_0x3820ac,null);this[a57_0xdd7a('0x6')]=_0x2c5775;this['playersController']=_0x293579;this[a57_0xdd7a('0x7')]=this[a57_0xdd7a('0x7')][a57_0xdd7a('0x8')](this);this[a57_0xdd7a('0x9')]=this[a57_0xdd7a('0x9')][a57_0xdd7a('0x8')](this);this[a57_0xdd7a('0xa')]=this[a57_0xdd7a('0xa')][a57_0xdd7a('0x8')](this);}['register'](_0x520710,_0x249874,_0x217cbc){return this[a57_0xdd7a('0x6')][a57_0xdd7a('0xb')]({'params':{'uuid':_0x520710[a57_0xdd7a('0xc')]['device_uuid']},'body':{'uuid':_0x520710[a57_0xdd7a('0xc')][a57_0xdd7a('0xd')],'network_info':_0x520710[a57_0xdd7a('0xc')][a57_0xdd7a('0xe')],'firmware_info':_0x520710[a57_0xdd7a('0xc')][a57_0xdd7a('0xf')]}},null,_0x217cbc,!![])[a57_0xdd7a('0x10')](_0x21ec49=>{return this[a57_0xdd7a('0xb')]({'params':{'device_id':_0x21ec49['id'],'player_id':_0x520710[a57_0xdd7a('0xc')][a57_0xdd7a('0x11')]},'body':{'device_id':_0x21ec49['id'],'player_id':_0x520710[a57_0xdd7a('0xc')][a57_0xdd7a('0x11')],'status':_0x520710[a57_0xdd7a('0xc')]['status'],'playlist':_0x520710[a57_0xdd7a('0xc')][a57_0xdd7a('0x12')],'reported_at':new Date()}},null,_0x217cbc)['then'](_0x3c9c25=>{delete _0x21ec49['id'];return _0x249874[a57_0xdd7a('0x13')]({'success':!![],'data':_0x21ec49});});});}[a57_0xdd7a('0x9')](_0x35cfba,_0x205c67,_0x388396){return this[a57_0xdd7a('0x6')][a57_0xdd7a('0xb')]({'params':{'uuid':_0x35cfba[a57_0xdd7a('0xc')][a57_0xdd7a('0xd')]},'body':{'uuid':_0x35cfba[a57_0xdd7a('0xc')][a57_0xdd7a('0xd')]}},null,_0x388396,!![])['then'](_0x3c6d52=>{return this[a57_0xdd7a('0xb')]({'params':{'device_id':_0x3c6d52['id'],'player_id':_0x35cfba[a57_0xdd7a('0xc')]['player_id']},'body':{'device_id':_0x3c6d52['id'],'player_id':_0x35cfba[a57_0xdd7a('0xc')]['player_id'],'playing_item':_0x35cfba[a57_0xdd7a('0xc')]['playing_item'],'status':_0x35cfba[a57_0xdd7a('0xc')][a57_0xdd7a('0x14')],'reported_at':new Date()}},null,_0x388396)[a57_0xdd7a('0x10')](_0x143242=>{delete _0x3c6d52['id'];return _0x205c67[a57_0xdd7a('0x13')]({'success':!![],'data':_0x143242});});});}[a57_0xdd7a('0xa')](_0x4450e7,_0x33fce0,_0x447ca2){return this[a57_0xdd7a('0x15')]['find']({'params':{'$user.uuid$':_0x4450e7[a57_0xdd7a('0x16')]['user_uuid']}},null,_0x447ca2,!![],[sequelize_utils_1[a57_0xdd7a('0x5')][a57_0xdd7a('0x17')][a57_0xdd7a('0x18')],sequelize_utils_1[a57_0xdd7a('0x5')][a57_0xdd7a('0x17')][a57_0xdd7a('0x19')]])['then'](_0x45e53f=>{console['log'](_0x45e53f);return _0x33fce0['json']({'success':!![],'data':_0x45e53f});});}}exports['default']=PlayerDevicesController;