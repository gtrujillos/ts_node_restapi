var a142_0x4e5e=['defineProperty','../../infrastructure/base-controller','../../infrastructure/response-utils','default','devicesController','playersController','register','bind','reportStatus','getStatus','updateOrCreate','device_uuid','body','network_info','firmware_info','then','player_id','status','uuid','json','playing_item','find','params','user_uuid','log','__importDefault','__esModule'];(function(_0x440d7c,_0x4f6fae){var _0x71370=function(_0x12adbb){while(--_0x12adbb){_0x440d7c['push'](_0x440d7c['shift']());}};_0x71370(++_0x4f6fae);}(a142_0x4e5e,0x1e4));var a142_0x4074=function(_0x5c81a6,_0xc6b431){_0x5c81a6=_0x5c81a6-0x0;var _0xb8e95=a142_0x4e5e[_0x5c81a6];return _0xb8e95;};'use strict';var __importDefault=this&&this[a142_0x4074('0x0')]||function(_0x210229){return _0x210229&&_0x210229[a142_0x4074('0x1')]?_0x210229:{'default':_0x210229};};Object[a142_0x4074('0x2')](exports,a142_0x4074('0x1'),{'value':!![]});const base_controller_1=__importDefault(require(a142_0x4074('0x3')));const responseUtils=require(a142_0x4074('0x4'));class PlayerDevicesController extends base_controller_1[a142_0x4074('0x5')]{constructor(_0x42cfdc,_0x17165e,_0x2470c0){super(_0x42cfdc,null);this[a142_0x4074('0x6')]=_0x17165e;this[a142_0x4074('0x7')]=_0x2470c0;this[a142_0x4074('0x8')]=this[a142_0x4074('0x8')][a142_0x4074('0x9')](this);this[a142_0x4074('0xa')]=this[a142_0x4074('0xa')][a142_0x4074('0x9')](this);this[a142_0x4074('0xb')]=this[a142_0x4074('0xb')][a142_0x4074('0x9')](this);}[a142_0x4074('0x8')](_0x5f145a,_0x2949d5,_0x55b2dc){return this[a142_0x4074('0x6')][a142_0x4074('0xc')]({'params':{'uuid':_0x5f145a['body'][a142_0x4074('0xd')]},'body':{'uuid':_0x5f145a[a142_0x4074('0xe')]['device_uuid'],'network_info':_0x5f145a[a142_0x4074('0xe')][a142_0x4074('0xf')],'firmware_info':_0x5f145a['body'][a142_0x4074('0x10')]}},null,_0x55b2dc,!![],!![])[a142_0x4074('0x11')](_0x200006=>{return this[a142_0x4074('0xc')]({'params':{'device_id':_0x200006['id'],'player_id':_0x5f145a['body'][a142_0x4074('0x12')]},'body':{'device_id':_0x200006['id'],'player_id':_0x5f145a['body'][a142_0x4074('0x12')],'status':_0x5f145a[a142_0x4074('0xe')][a142_0x4074('0x13')],'playlist':_0x5f145a[a142_0x4074('0xe')]['playlist'],'reported_at':new Date()}},null,_0x55b2dc,![],!![])[a142_0x4074('0x11')](_0x525ad8=>{const _0x19924b={'uuid':_0x525ad8[a142_0x4074('0x14')]};return _0x2949d5[a142_0x4074('0x15')]({'success':!![],'data':_0x19924b});});});}[a142_0x4074('0xa')](_0x210da1,_0x32f9ef,_0x35eb1b){return this[a142_0x4074('0x6')][a142_0x4074('0xc')]({'params':{'uuid':_0x210da1[a142_0x4074('0xe')][a142_0x4074('0xd')]},'body':{'uuid':_0x210da1['body'][a142_0x4074('0xd')]}},null,_0x35eb1b,!![],!![])['then'](_0x2bc563=>{return this[a142_0x4074('0xc')]({'params':{'device_id':_0x2bc563['id'],'player_id':_0x210da1[a142_0x4074('0xe')][a142_0x4074('0x12')]},'body':{'device_id':_0x2bc563['id'],'player_id':_0x210da1[a142_0x4074('0xe')][a142_0x4074('0x12')],'playing_item':_0x210da1[a142_0x4074('0xe')][a142_0x4074('0x16')],'status':_0x210da1[a142_0x4074('0xe')]['status'],'reported_at':new Date()}},null,_0x35eb1b,![],!![])[a142_0x4074('0x11')](_0x15240d=>{const _0x5028cd={'uuid':_0x15240d[a142_0x4074('0x14')]};return _0x32f9ef[a142_0x4074('0x15')]({'success':!![],'data':_0x5028cd});});});}[a142_0x4074('0xb')](_0x5616e6,_0x45b455,_0x5247be){return this['playersController'][a142_0x4074('0x17')]({'params':{'$user.uuid$':_0x5616e6[a142_0x4074('0x18')][a142_0x4074('0x19')]}},null,_0x5247be)[a142_0x4074('0x11')](_0x54c958=>{console[a142_0x4074('0x1a')](_0x54c958);return _0x45b455[a142_0x4074('0x15')]({'success':!![],'data':_0x54c958});});}}exports[a142_0x4074('0x5')]=PlayerDevicesController;