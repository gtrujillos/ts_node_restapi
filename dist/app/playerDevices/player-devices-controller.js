var a88_0x4889=['json','params','user_uuid','log','__importDefault','__esModule','defineProperty','../../infrastructure/base-controller','default','devicesController','playersController','register','bind','getStatus','updateOrCreate','body','device_uuid','network_info','firmware_info','then','player_id','status','playlist','reportStatus','uuid'];(function(_0x13749c,_0x2a4365){var _0x19d56b=function(_0x344cd0){while(--_0x344cd0){_0x13749c['push'](_0x13749c['shift']());}};_0x19d56b(++_0x2a4365);}(a88_0x4889,0xfe));var a88_0xa95c=function(_0x15c838,_0x2f80a7){_0x15c838=_0x15c838-0x0;var _0xf0df59=a88_0x4889[_0x15c838];return _0xf0df59;};'use strict';var __importDefault=this&&this[a88_0xa95c('0x0')]||function(_0x3aeffd){return _0x3aeffd&&_0x3aeffd[a88_0xa95c('0x1')]?_0x3aeffd:{'default':_0x3aeffd};};Object[a88_0xa95c('0x2')](exports,'__esModule',{'value':!![]});const base_controller_1=__importDefault(require(a88_0xa95c('0x3')));const responseUtils=require('../../infrastructure/response-utils');class PlayerDevicesController extends base_controller_1[a88_0xa95c('0x4')]{constructor(_0x25f72c,_0x46664c,_0x361464){super(_0x25f72c,null);this[a88_0xa95c('0x5')]=_0x46664c;this[a88_0xa95c('0x6')]=_0x361464;this[a88_0xa95c('0x7')]=this[a88_0xa95c('0x7')][a88_0xa95c('0x8')](this);this['reportStatus']=this['reportStatus']['bind'](this);this['getStatus']=this[a88_0xa95c('0x9')][a88_0xa95c('0x8')](this);}[a88_0xa95c('0x7')](_0x472236,_0x3a31e8,_0x52bb5a){return this['devicesController'][a88_0xa95c('0xa')]({'params':{'uuid':_0x472236[a88_0xa95c('0xb')]['device_uuid']},'body':{'uuid':_0x472236[a88_0xa95c('0xb')][a88_0xa95c('0xc')],'network_info':_0x472236[a88_0xa95c('0xb')][a88_0xa95c('0xd')],'firmware_info':_0x472236[a88_0xa95c('0xb')][a88_0xa95c('0xe')]}},null,_0x52bb5a,!![],!![])[a88_0xa95c('0xf')](_0x14e7db=>{return this[a88_0xa95c('0xa')]({'params':{'device_id':_0x14e7db['id'],'player_id':_0x472236[a88_0xa95c('0xb')]['player_id']},'body':{'device_id':_0x14e7db['id'],'player_id':_0x472236[a88_0xa95c('0xb')][a88_0xa95c('0x10')],'status':_0x472236[a88_0xa95c('0xb')][a88_0xa95c('0x11')],'playlist':_0x472236[a88_0xa95c('0xb')][a88_0xa95c('0x12')],'reported_at':new Date()}},null,_0x52bb5a,![],!![])[a88_0xa95c('0xf')](_0x54ba37=>{const _0x38a73e={'uuid':_0x54ba37['uuid']};return _0x3a31e8['json']({'success':!![],'data':_0x38a73e});});});}[a88_0xa95c('0x13')](_0xa0ac51,_0x295898,_0x5ee0f1){return this[a88_0xa95c('0x5')][a88_0xa95c('0xa')]({'params':{'uuid':_0xa0ac51[a88_0xa95c('0xb')][a88_0xa95c('0xc')]},'body':{'uuid':_0xa0ac51['body'][a88_0xa95c('0xc')]}},null,_0x5ee0f1,!![],!![])[a88_0xa95c('0xf')](_0x37769c=>{return this[a88_0xa95c('0xa')]({'params':{'device_id':_0x37769c['id'],'player_id':_0xa0ac51[a88_0xa95c('0xb')]['player_id']},'body':{'device_id':_0x37769c['id'],'player_id':_0xa0ac51[a88_0xa95c('0xb')][a88_0xa95c('0x10')],'playing_item':_0xa0ac51[a88_0xa95c('0xb')]['playing_item'],'status':_0xa0ac51[a88_0xa95c('0xb')][a88_0xa95c('0x11')],'reported_at':new Date()}},null,_0x5ee0f1,![],!![])[a88_0xa95c('0xf')](_0x2426c4=>{const _0x291794={'uuid':_0x2426c4[a88_0xa95c('0x14')]};return _0x295898[a88_0xa95c('0x15')]({'success':!![],'data':_0x291794});});});}[a88_0xa95c('0x9')](_0x25d78a,_0x5085e7,_0x427f31){return this['playersController']['find']({'params':{'$user.uuid$':_0x25d78a[a88_0xa95c('0x16')][a88_0xa95c('0x17')]}},null,_0x427f31)[a88_0xa95c('0xf')](_0x94fd0a=>{console[a88_0xa95c('0x18')](_0x94fd0a);return _0x5085e7[a88_0xa95c('0x15')]({'success':!![],'data':_0x94fd0a});});}}exports[a88_0xa95c('0x4')]=PlayerDevicesController;