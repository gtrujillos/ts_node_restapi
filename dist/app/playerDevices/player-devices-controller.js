var a88_0xd154=['then','uuid','json','find','params','user_uuid','log','__importDefault','defineProperty','__esModule','../../infrastructure/base-controller','../../infrastructure/response-utils','default','register','bind','getStatus','devicesController','updateOrCreate','body','device_uuid','network_info','firmware_info','player_id','status','playlist'];(function(_0x2f2bf7,_0x2133b1){var _0x26e6ec=function(_0x24d214){while(--_0x24d214){_0x2f2bf7['push'](_0x2f2bf7['shift']());}};_0x26e6ec(++_0x2133b1);}(a88_0xd154,0x9d));var a88_0x4196=function(_0x208080,_0x406010){_0x208080=_0x208080-0x0;var _0x5e4209=a88_0xd154[_0x208080];return _0x5e4209;};'use strict';var __importDefault=this&&this[a88_0x4196('0x0')]||function(_0x1a066b){return _0x1a066b&&_0x1a066b['__esModule']?_0x1a066b:{'default':_0x1a066b};};Object[a88_0x4196('0x1')](exports,a88_0x4196('0x2'),{'value':!![]});const base_controller_1=__importDefault(require(a88_0x4196('0x3')));const responseUtils=require(a88_0x4196('0x4'));class PlayerDevicesController extends base_controller_1[a88_0x4196('0x5')]{constructor(_0x21d7be,_0x3be703,_0x76dfc5){super(_0x21d7be,null);this['devicesController']=_0x3be703;this['playersController']=_0x76dfc5;this[a88_0x4196('0x6')]=this[a88_0x4196('0x6')][a88_0x4196('0x7')](this);this['reportStatus']=this['reportStatus'][a88_0x4196('0x7')](this);this[a88_0x4196('0x8')]=this[a88_0x4196('0x8')][a88_0x4196('0x7')](this);}[a88_0x4196('0x6')](_0x1f6d52,_0x11679f,_0x13e74b){return this[a88_0x4196('0x9')][a88_0x4196('0xa')]({'params':{'uuid':_0x1f6d52[a88_0x4196('0xb')]['device_uuid']},'body':{'uuid':_0x1f6d52['body'][a88_0x4196('0xc')],'network_info':_0x1f6d52[a88_0x4196('0xb')][a88_0x4196('0xd')],'firmware_info':_0x1f6d52[a88_0x4196('0xb')][a88_0x4196('0xe')]}},null,_0x13e74b,!![],!![])['then'](_0x1d38c9=>{return this[a88_0x4196('0xa')]({'params':{'device_id':_0x1d38c9['id'],'player_id':_0x1f6d52[a88_0x4196('0xb')]['player_id']},'body':{'device_id':_0x1d38c9['id'],'player_id':_0x1f6d52[a88_0x4196('0xb')][a88_0x4196('0xf')],'status':_0x1f6d52[a88_0x4196('0xb')][a88_0x4196('0x10')],'playlist':_0x1f6d52[a88_0x4196('0xb')][a88_0x4196('0x11')],'reported_at':new Date()}},null,_0x13e74b,![],!![])[a88_0x4196('0x12')](_0x5a0b71=>{const _0x49b1a3={'uuid':_0x5a0b71[a88_0x4196('0x13')]};return _0x11679f[a88_0x4196('0x14')]({'success':!![],'data':_0x49b1a3});});});}['reportStatus'](_0x22368d,_0x48a422,_0x167d83){return this['devicesController'][a88_0x4196('0xa')]({'params':{'uuid':_0x22368d[a88_0x4196('0xb')][a88_0x4196('0xc')]},'body':{'uuid':_0x22368d[a88_0x4196('0xb')]['device_uuid']}},null,_0x167d83,!![],!![])['then'](_0x3b951c=>{return this[a88_0x4196('0xa')]({'params':{'device_id':_0x3b951c['id'],'player_id':_0x22368d[a88_0x4196('0xb')][a88_0x4196('0xf')]},'body':{'device_id':_0x3b951c['id'],'player_id':_0x22368d[a88_0x4196('0xb')][a88_0x4196('0xf')],'playing_item':_0x22368d[a88_0x4196('0xb')]['playing_item'],'status':_0x22368d[a88_0x4196('0xb')]['status'],'reported_at':new Date()}},null,_0x167d83,![],!![])[a88_0x4196('0x12')](_0x355a47=>{const _0x45eef6={'uuid':_0x355a47[a88_0x4196('0x13')]};return _0x48a422['json']({'success':!![],'data':_0x45eef6});});});}['getStatus'](_0x4229c9,_0x45af3b,_0x4407df){return this['playersController'][a88_0x4196('0x15')]({'params':{'$user.uuid$':_0x4229c9[a88_0x4196('0x16')][a88_0x4196('0x17')]}},null,_0x4407df)[a88_0x4196('0x12')](_0x5b54ce=>{console[a88_0x4196('0x18')](_0x5b54ce);return _0x45af3b[a88_0x4196('0x14')]({'success':!![],'data':_0x5b54ce});});}}exports[a88_0x4196('0x5')]=PlayerDevicesController;