var a118_0x2e6b=['reportStatus','bind','getStatus','updateOrCreate','body','device_uuid','network_info','firmware_info','then','player_id','playlist','uuid','json','playing_item','find','user_uuid','models','usersModel','__importDefault','__esModule','defineProperty','../../infrastructure/controller-utils','../../infrastructure/response-utils','default','devicesController','playersController','register'];(function(_0x3ea5fc,_0x278fbc){var _0x5bdf11=function(_0x44d4c9){while(--_0x44d4c9){_0x3ea5fc['push'](_0x3ea5fc['shift']());}};_0x5bdf11(++_0x278fbc);}(a118_0x2e6b,0x1c2));var a118_0x4e85=function(_0x44a0af,_0x3f0553){_0x44a0af=_0x44a0af-0x0;var _0x100acd=a118_0x2e6b[_0x44a0af];return _0x100acd;};'use strict';var __importDefault=this&&this[a118_0x4e85('0x0')]||function(_0x19701b){return _0x19701b&&_0x19701b[a118_0x4e85('0x1')]?_0x19701b:{'default':_0x19701b};};Object[a118_0x4e85('0x2')](exports,'__esModule',{'value':!![]});const controller_utils_1=__importDefault(require(a118_0x4e85('0x3')));const sequelize_utils_1=__importDefault(require('../../infrastructure/sequelize-utils'));const responseUtils=require(a118_0x4e85('0x4'));class PlayerDevicesController extends controller_utils_1[a118_0x4e85('0x5')]{constructor(_0x408a4a,_0x132f96,_0x10e53b){super(_0x408a4a,null);this[a118_0x4e85('0x6')]=_0x132f96;this[a118_0x4e85('0x7')]=_0x10e53b;this['register']=this[a118_0x4e85('0x8')]['bind'](this);this[a118_0x4e85('0x9')]=this[a118_0x4e85('0x9')][a118_0x4e85('0xa')](this);this['getStatus']=this[a118_0x4e85('0xb')][a118_0x4e85('0xa')](this);}[a118_0x4e85('0x8')](_0x1dd640,_0x52442b,_0x194c24){return this['devicesController'][a118_0x4e85('0xc')]({'params':{'uuid':_0x1dd640[a118_0x4e85('0xd')][a118_0x4e85('0xe')]},'body':{'uuid':_0x1dd640['body']['device_uuid'],'network_info':_0x1dd640[a118_0x4e85('0xd')][a118_0x4e85('0xf')],'firmware_info':_0x1dd640[a118_0x4e85('0xd')][a118_0x4e85('0x10')]}},null,_0x194c24,!![],!![])[a118_0x4e85('0x11')](_0x4c14ad=>{return this[a118_0x4e85('0xc')]({'params':{'device_id':_0x4c14ad['id'],'player_id':_0x1dd640[a118_0x4e85('0xd')][a118_0x4e85('0x12')]},'body':{'device_id':_0x4c14ad['id'],'player_id':_0x1dd640[a118_0x4e85('0xd')][a118_0x4e85('0x12')],'status':_0x1dd640[a118_0x4e85('0xd')]['status'],'playlist':_0x1dd640[a118_0x4e85('0xd')][a118_0x4e85('0x13')],'reported_at':new Date()}},null,_0x194c24,![],!![])['then'](_0x447303=>{const _0x141398={'uuid':_0x447303[a118_0x4e85('0x14')]};return _0x52442b[a118_0x4e85('0x15')]({'success':!![],'data':_0x141398});});});}[a118_0x4e85('0x9')](_0x52e864,_0x68265a,_0x4d5233){return this[a118_0x4e85('0x6')][a118_0x4e85('0xc')]({'params':{'uuid':_0x52e864[a118_0x4e85('0xd')][a118_0x4e85('0xe')]},'body':{'uuid':_0x52e864[a118_0x4e85('0xd')][a118_0x4e85('0xe')]}},null,_0x4d5233,!![],!![])[a118_0x4e85('0x11')](_0x13e1e0=>{return this[a118_0x4e85('0xc')]({'params':{'device_id':_0x13e1e0['id'],'player_id':_0x52e864[a118_0x4e85('0xd')]['player_id']},'body':{'device_id':_0x13e1e0['id'],'player_id':_0x52e864[a118_0x4e85('0xd')][a118_0x4e85('0x12')],'playing_item':_0x52e864['body'][a118_0x4e85('0x16')],'status':_0x52e864[a118_0x4e85('0xd')]['status'],'reported_at':new Date()}},null,_0x4d5233,![],!![])['then'](_0x19cded=>{const _0x447453={'uuid':_0x19cded[a118_0x4e85('0x14')]};return _0x68265a[a118_0x4e85('0x15')]({'success':!![],'data':_0x447453});});});}[a118_0x4e85('0xb')](_0x4326a8,_0x8ffb78,_0x3737ab){return this[a118_0x4e85('0x7')][a118_0x4e85('0x17')]({'params':{'$user.uuid$':_0x4326a8['params'][a118_0x4e85('0x18')]}},null,_0x3737ab,!![],[sequelize_utils_1[a118_0x4e85('0x5')][a118_0x4e85('0x19')][a118_0x4e85('0x1a')],sequelize_utils_1['default'][a118_0x4e85('0x19')]['playerDevicesModel']])[a118_0x4e85('0x11')](_0x3e2fca=>{console['log'](_0x3e2fca);return _0x8ffb78[a118_0x4e85('0x15')]({'success':!![],'data':_0x3e2fca});});}}exports[a118_0x4e85('0x5')]=PlayerDevicesController;