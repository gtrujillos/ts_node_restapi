var a142_0x4f2b=['reportStatus','updateOrCreate','body','device_uuid','firmware_info','then','player_id','playlist','playing_item','status','uuid','json','getStatus','find','params','user_uuid','__importDefault','defineProperty','__esModule','../../infrastructure/base-controller','../../infrastructure/response-utils','default','devicesController','playersController','register','bind'];(function(_0x346343,_0x50d9e9){var _0x33dc70=function(_0x45772b){while(--_0x45772b){_0x346343['push'](_0x346343['shift']());}};_0x33dc70(++_0x50d9e9);}(a142_0x4f2b,0xe0));var a142_0x104c=function(_0x92a9a8,_0x108e33){_0x92a9a8=_0x92a9a8-0x0;var _0x1f1bdb=a142_0x4f2b[_0x92a9a8];return _0x1f1bdb;};'use strict';var __importDefault=this&&this[a142_0x104c('0x0')]||function(_0x4cf255){return _0x4cf255&&_0x4cf255['__esModule']?_0x4cf255:{'default':_0x4cf255};};Object[a142_0x104c('0x1')](exports,a142_0x104c('0x2'),{'value':!![]});const base_controller_1=__importDefault(require(a142_0x104c('0x3')));const responseUtils=require(a142_0x104c('0x4'));class PlayerDevicesController extends base_controller_1[a142_0x104c('0x5')]{constructor(_0x554168,_0x528eda,_0x57ee64){super(_0x554168,null);this[a142_0x104c('0x6')]=_0x528eda;this[a142_0x104c('0x7')]=_0x57ee64;this[a142_0x104c('0x8')]=this['register'][a142_0x104c('0x9')](this);this[a142_0x104c('0xa')]=this[a142_0x104c('0xa')]['bind'](this);this['getStatus']=this['getStatus'][a142_0x104c('0x9')](this);}[a142_0x104c('0x8')](_0x5c2fcc,_0x49a0a6,_0x928cda){return this[a142_0x104c('0x6')][a142_0x104c('0xb')]({'params':{'uuid':_0x5c2fcc[a142_0x104c('0xc')][a142_0x104c('0xd')]},'body':{'uuid':_0x5c2fcc[a142_0x104c('0xc')][a142_0x104c('0xd')],'network_info':_0x5c2fcc['body']['network_info'],'firmware_info':_0x5c2fcc[a142_0x104c('0xc')][a142_0x104c('0xe')]}},null,_0x928cda,!![],!![])[a142_0x104c('0xf')](_0x5f269c=>{return this[a142_0x104c('0xb')]({'params':{'device_id':_0x5f269c['id'],'player_id':_0x5c2fcc['body'][a142_0x104c('0x10')]},'body':{'device_id':_0x5f269c['id'],'player_id':_0x5c2fcc[a142_0x104c('0xc')][a142_0x104c('0x10')],'status':_0x5c2fcc['body']['status'],'playlist':_0x5c2fcc['body'][a142_0x104c('0x11')],'reported_at':new Date()}},null,_0x928cda,![],!![])[a142_0x104c('0xf')](_0x714ff=>{const _0x273b03={'uuid':_0x714ff['uuid']};return _0x49a0a6['json']({'success':!![],'data':_0x273b03});});});}[a142_0x104c('0xa')](_0x2abbbc,_0x121218,_0x4a3740){return this[a142_0x104c('0x6')]['updateOrCreate']({'params':{'uuid':_0x2abbbc['body'][a142_0x104c('0xd')]},'body':{'uuid':_0x2abbbc[a142_0x104c('0xc')]['device_uuid']}},null,_0x4a3740,!![],!![])['then'](_0x3ae472=>{return this[a142_0x104c('0xb')]({'params':{'device_id':_0x3ae472['id'],'player_id':_0x2abbbc[a142_0x104c('0xc')][a142_0x104c('0x10')]},'body':{'device_id':_0x3ae472['id'],'player_id':_0x2abbbc[a142_0x104c('0xc')][a142_0x104c('0x10')],'playing_item':_0x2abbbc[a142_0x104c('0xc')][a142_0x104c('0x12')],'status':_0x2abbbc[a142_0x104c('0xc')][a142_0x104c('0x13')],'reported_at':new Date()}},null,_0x4a3740,![],!![])[a142_0x104c('0xf')](_0x57d9f9=>{const _0x5256c1={'uuid':_0x57d9f9[a142_0x104c('0x14')]};return _0x121218[a142_0x104c('0x15')]({'success':!![],'data':_0x5256c1});});});}[a142_0x104c('0x16')](_0x54fdfc,_0x20990f,_0x322fda){return this[a142_0x104c('0x7')][a142_0x104c('0x17')]({'params':{'$user.uuid$':_0x54fdfc[a142_0x104c('0x18')][a142_0x104c('0x19')]}},null,_0x322fda)[a142_0x104c('0xf')](_0x3e344f=>{console['log'](_0x3e344f);return _0x20990f[a142_0x104c('0x15')]({'success':!![],'data':_0x3e344f});});}}exports[a142_0x104c('0x5')]=PlayerDevicesController;