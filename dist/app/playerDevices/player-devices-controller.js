var a57_0x12fa=['body','device_uuid','network_info','firmware_info','then','status','json','player_id','__importDefault','defineProperty','__esModule','../../infrastructure/controller-utils','../../infrastructure/response-utils','default','devicesController','playersController','register','bind','reportStatus','updateOrCreate'];(function(_0x11912c,_0x3434dd){var _0xfe0ae=function(_0x5b3f8c){while(--_0x5b3f8c){_0x11912c['push'](_0x11912c['shift']());}};_0xfe0ae(++_0x3434dd);}(a57_0x12fa,0x80));var a57_0x134f=function(_0x5aa7f9,_0x4bc76b){_0x5aa7f9=_0x5aa7f9-0x0;var _0x5f3e02=a57_0x12fa[_0x5aa7f9];return _0x5f3e02;};'use strict';var __importDefault=this&&this[a57_0x134f('0x0')]||function(_0xb9ac71){return _0xb9ac71&&_0xb9ac71['__esModule']?_0xb9ac71:{'default':_0xb9ac71};};Object[a57_0x134f('0x1')](exports,a57_0x134f('0x2'),{'value':!![]});const controller_utils_1=__importDefault(require(a57_0x134f('0x3')));const responseUtils=require(a57_0x134f('0x4'));class PlayerDevicesController extends controller_utils_1[a57_0x134f('0x5')]{constructor(_0x12e468,_0x4e8557,_0x358179){super(_0x12e468,null);this[a57_0x134f('0x6')]=_0x4e8557;this[a57_0x134f('0x7')]=_0x358179;this[a57_0x134f('0x8')]=this[a57_0x134f('0x8')][a57_0x134f('0x9')](this);this[a57_0x134f('0xa')]=this['reportStatus'][a57_0x134f('0x9')](this);}[a57_0x134f('0x8')](_0x248680,_0x4e0106,_0x19ec65){return this[a57_0x134f('0x6')][a57_0x134f('0xb')]({'params':{'uuid':_0x248680[a57_0x134f('0xc')]['device_uuid']},'body':{'uuid':_0x248680[a57_0x134f('0xc')][a57_0x134f('0xd')],'network_info':_0x248680[a57_0x134f('0xc')][a57_0x134f('0xe')],'firmware_info':_0x248680['body'][a57_0x134f('0xf')]}},null,_0x19ec65,!![])[a57_0x134f('0x10')](_0x57e7d2=>{return this[a57_0x134f('0xb')]({'params':{'device_id':_0x57e7d2['id'],'player_id':_0x248680[a57_0x134f('0xc')]['player_id']},'body':{'device_id':_0x57e7d2['id'],'player_id':_0x248680[a57_0x134f('0xc')]['player_id'],'status':_0x248680[a57_0x134f('0xc')][a57_0x134f('0x11')],'reported_at':new Date()}},null,_0x19ec65)[a57_0x134f('0x10')](_0x51d001=>{delete _0x57e7d2['id'];return _0x4e0106[a57_0x134f('0x12')]({'success':!![],'data':_0x57e7d2});});});}[a57_0x134f('0xa')](_0x30be45,_0x17e7c8,_0x2e9b61){return this['devicesController'][a57_0x134f('0xb')]({'params':{'uuid':_0x30be45[a57_0x134f('0xc')][a57_0x134f('0xd')]},'body':{'uuid':_0x30be45[a57_0x134f('0xc')][a57_0x134f('0xd')]}},null,_0x2e9b61,!![])[a57_0x134f('0x10')](_0x2b332a=>{return this[a57_0x134f('0xb')]({'params':{'device_id':_0x2b332a['id'],'player_id':_0x30be45[a57_0x134f('0xc')][a57_0x134f('0x13')]},'body':{'device_id':_0x2b332a['id'],'player_id':_0x30be45[a57_0x134f('0xc')]['player_id'],'reported_at':new Date()}},null,_0x2e9b61)[a57_0x134f('0x10')](_0x1257da=>{delete _0x2b332a['id'];return _0x17e7c8['json']({'success':!![],'data':_0x2b332a});});});}}exports[a57_0x134f('0x5')]=PlayerDevicesController;