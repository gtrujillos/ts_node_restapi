var a57_0x6cbd=['default','playersController','register','bind','reportStatus','getStatus','devicesController','updateOrCreate','body','device_uuid','network_info','firmware_info','then','player_id','status','playlist','json','playing_item','find','params','models','usersModel','playerDevicesModel','__importDefault','defineProperty','__esModule','../../infrastructure/controller-utils','../../infrastructure/sequelize-utils'];(function(_0xf12ac3,_0x3970a6){var _0x6f7704=function(_0x5abddf){while(--_0x5abddf){_0xf12ac3['push'](_0xf12ac3['shift']());}};_0x6f7704(++_0x3970a6);}(a57_0x6cbd,0x113));var a57_0x2e25=function(_0x2b659f,_0x47b320){_0x2b659f=_0x2b659f-0x0;var _0x2a8b27=a57_0x6cbd[_0x2b659f];return _0x2a8b27;};'use strict';var __importDefault=this&&this[a57_0x2e25('0x0')]||function(_0x1e6be0){return _0x1e6be0&&_0x1e6be0['__esModule']?_0x1e6be0:{'default':_0x1e6be0};};Object[a57_0x2e25('0x1')](exports,a57_0x2e25('0x2'),{'value':!![]});const controller_utils_1=__importDefault(require(a57_0x2e25('0x3')));const sequelize_utils_1=__importDefault(require(a57_0x2e25('0x4')));const responseUtils=require('../../infrastructure/response-utils');class PlayerDevicesController extends controller_utils_1[a57_0x2e25('0x5')]{constructor(_0x249bec,_0x168cdc,_0x11f0d8){super(_0x249bec,null);this['devicesController']=_0x168cdc;this[a57_0x2e25('0x6')]=_0x11f0d8;this[a57_0x2e25('0x7')]=this['register'][a57_0x2e25('0x8')](this);this[a57_0x2e25('0x9')]=this[a57_0x2e25('0x9')][a57_0x2e25('0x8')](this);this[a57_0x2e25('0xa')]=this[a57_0x2e25('0xa')]['bind'](this);}[a57_0x2e25('0x7')](_0x14b11e,_0x4c6f17,_0x1e9af6){return this[a57_0x2e25('0xb')][a57_0x2e25('0xc')]({'params':{'uuid':_0x14b11e[a57_0x2e25('0xd')][a57_0x2e25('0xe')]},'body':{'uuid':_0x14b11e[a57_0x2e25('0xd')][a57_0x2e25('0xe')],'network_info':_0x14b11e['body'][a57_0x2e25('0xf')],'firmware_info':_0x14b11e[a57_0x2e25('0xd')][a57_0x2e25('0x10')]}},null,_0x1e9af6,!![])[a57_0x2e25('0x11')](_0x55aa28=>{return this[a57_0x2e25('0xc')]({'params':{'device_id':_0x55aa28['id'],'player_id':_0x14b11e[a57_0x2e25('0xd')][a57_0x2e25('0x12')]},'body':{'device_id':_0x55aa28['id'],'player_id':_0x14b11e[a57_0x2e25('0xd')][a57_0x2e25('0x12')],'status':_0x14b11e[a57_0x2e25('0xd')][a57_0x2e25('0x13')],'playlist':_0x14b11e[a57_0x2e25('0xd')][a57_0x2e25('0x14')],'reported_at':new Date()}},null,_0x1e9af6)[a57_0x2e25('0x11')](_0x25b8e1=>{delete _0x55aa28['id'];return _0x4c6f17[a57_0x2e25('0x15')]({'success':!![],'data':_0x55aa28});});});}[a57_0x2e25('0x9')](_0x28ab3a,_0x7dafb5,_0x4824a3){return this[a57_0x2e25('0xb')][a57_0x2e25('0xc')]({'params':{'uuid':_0x28ab3a[a57_0x2e25('0xd')]['device_uuid']},'body':{'uuid':_0x28ab3a[a57_0x2e25('0xd')][a57_0x2e25('0xe')]}},null,_0x4824a3,!![])[a57_0x2e25('0x11')](_0x472d30=>{return this[a57_0x2e25('0xc')]({'params':{'device_id':_0x472d30['id'],'player_id':_0x28ab3a[a57_0x2e25('0xd')][a57_0x2e25('0x12')]},'body':{'device_id':_0x472d30['id'],'player_id':_0x28ab3a[a57_0x2e25('0xd')][a57_0x2e25('0x12')],'playing_item':_0x28ab3a[a57_0x2e25('0xd')][a57_0x2e25('0x16')],'status':_0x28ab3a[a57_0x2e25('0xd')][a57_0x2e25('0x13')],'reported_at':new Date()}},null,_0x4824a3)[a57_0x2e25('0x11')](_0x331e5a=>{delete _0x472d30['id'];return _0x7dafb5[a57_0x2e25('0x15')]({'success':!![],'data':_0x331e5a});});});}[a57_0x2e25('0xa')](_0x133fea,_0x1dd629,_0x5efaeb){return this[a57_0x2e25('0x6')][a57_0x2e25('0x17')]({'params':{'$user.uuid$':_0x133fea[a57_0x2e25('0x18')]['user_uuid']}},null,_0x5efaeb,!![],[sequelize_utils_1['default'][a57_0x2e25('0x19')][a57_0x2e25('0x1a')],sequelize_utils_1[a57_0x2e25('0x5')]['models'][a57_0x2e25('0x1b')]])['then'](_0x3cc8ff=>{console['log'](_0x3cc8ff);return _0x1dd629[a57_0x2e25('0x15')]({'success':!![],'data':_0x3cc8ff});});}}exports['default']=PlayerDevicesController;