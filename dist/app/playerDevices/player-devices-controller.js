var a57_0x434e=['firmware_info','then','player_id','status','json','find','params','user_uuid','models','usersModel','log','__importDefault','__esModule','../../infrastructure/response-utils','default','devicesController','playersController','register','bind','reportStatus','getStatus','updateOrCreate','body','device_uuid'];(function(_0x1e190c,_0x4c7638){var _0x53e57e=function(_0xe6068e){while(--_0xe6068e){_0x1e190c['push'](_0x1e190c['shift']());}};_0x53e57e(++_0x4c7638);}(a57_0x434e,0x1a3));var a57_0x1b1f=function(_0x50b579,_0x1a4950){_0x50b579=_0x50b579-0x0;var _0x2267d5=a57_0x434e[_0x50b579];return _0x2267d5;};'use strict';var __importDefault=this&&this[a57_0x1b1f('0x0')]||function(_0x18bddf){return _0x18bddf&&_0x18bddf[a57_0x1b1f('0x1')]?_0x18bddf:{'default':_0x18bddf};};Object['defineProperty'](exports,a57_0x1b1f('0x1'),{'value':!![]});const controller_utils_1=__importDefault(require('../../infrastructure/controller-utils'));const sequelize_utils_1=__importDefault(require('../../infrastructure/sequelize-utils'));const responseUtils=require(a57_0x1b1f('0x2'));class PlayerDevicesController extends controller_utils_1[a57_0x1b1f('0x3')]{constructor(_0x17dca4,_0x59dc87,_0xa7a274){super(_0x17dca4,null);this[a57_0x1b1f('0x4')]=_0x59dc87;this[a57_0x1b1f('0x5')]=_0xa7a274;this[a57_0x1b1f('0x6')]=this['register'][a57_0x1b1f('0x7')](this);this[a57_0x1b1f('0x8')]=this[a57_0x1b1f('0x8')][a57_0x1b1f('0x7')](this);this[a57_0x1b1f('0x9')]=this['getStatus'][a57_0x1b1f('0x7')](this);}[a57_0x1b1f('0x6')](_0x206572,_0x1e8e5e,_0x174aaa){return this['devicesController'][a57_0x1b1f('0xa')]({'params':{'uuid':_0x206572[a57_0x1b1f('0xb')][a57_0x1b1f('0xc')]},'body':{'uuid':_0x206572[a57_0x1b1f('0xb')][a57_0x1b1f('0xc')],'network_info':_0x206572[a57_0x1b1f('0xb')]['network_info'],'firmware_info':_0x206572[a57_0x1b1f('0xb')][a57_0x1b1f('0xd')]}},null,_0x174aaa,!![])[a57_0x1b1f('0xe')](_0xbf2d04=>{return this['updateOrCreate']({'params':{'device_id':_0xbf2d04['id'],'player_id':_0x206572[a57_0x1b1f('0xb')][a57_0x1b1f('0xf')]},'body':{'device_id':_0xbf2d04['id'],'player_id':_0x206572['body'][a57_0x1b1f('0xf')],'status':_0x206572[a57_0x1b1f('0xb')][a57_0x1b1f('0x10')],'playlist':_0x206572[a57_0x1b1f('0xb')]['playlist'],'reported_at':new Date()}},null,_0x174aaa)[a57_0x1b1f('0xe')](_0x2bfcc2=>{delete _0xbf2d04['id'];return _0x1e8e5e[a57_0x1b1f('0x11')]({'success':!![],'data':_0xbf2d04});});});}[a57_0x1b1f('0x8')](_0x3ade25,_0x38f89c,_0x3905af){return this[a57_0x1b1f('0x4')][a57_0x1b1f('0xa')]({'params':{'uuid':_0x3ade25[a57_0x1b1f('0xb')][a57_0x1b1f('0xc')]},'body':{'uuid':_0x3ade25[a57_0x1b1f('0xb')][a57_0x1b1f('0xc')]}},null,_0x3905af,!![])[a57_0x1b1f('0xe')](_0x452bc3=>{return this[a57_0x1b1f('0xa')]({'params':{'device_id':_0x452bc3['id'],'player_id':_0x3ade25[a57_0x1b1f('0xb')][a57_0x1b1f('0xf')]},'body':{'device_id':_0x452bc3['id'],'player_id':_0x3ade25[a57_0x1b1f('0xb')][a57_0x1b1f('0xf')],'playing_item':_0x3ade25[a57_0x1b1f('0xb')]['playing_item'],'status':_0x3ade25['body']['status'],'reported_at':new Date()}},null,_0x3905af)[a57_0x1b1f('0xe')](_0x4027ba=>{delete _0x452bc3['id'];return _0x38f89c[a57_0x1b1f('0x11')]({'success':!![],'data':_0x4027ba});});});}[a57_0x1b1f('0x9')](_0x35dd6d,_0x3b9299,_0x195727){return this[a57_0x1b1f('0x5')][a57_0x1b1f('0x12')]({'params':{'$user.uuid$':_0x35dd6d[a57_0x1b1f('0x13')][a57_0x1b1f('0x14')]}},null,_0x195727,!![],[sequelize_utils_1[a57_0x1b1f('0x3')][a57_0x1b1f('0x15')][a57_0x1b1f('0x16')],sequelize_utils_1[a57_0x1b1f('0x3')][a57_0x1b1f('0x15')]['playerDevicesModel']])[a57_0x1b1f('0xe')](_0x4202cd=>{console[a57_0x1b1f('0x17')](_0x4202cd);return _0x3b9299[a57_0x1b1f('0x11')]({'success':!![],'data':_0x4202cd});});}}exports['default']=PlayerDevicesController;