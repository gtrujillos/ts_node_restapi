var a118_0x5533=['firmware_info','then','player_id','status','playlist','uuid','json','find','params','user_uuid','default','models','usersModel','playerDevicesModel','log','__importDefault','defineProperty','__esModule','../../infrastructure/controller-utils','../../infrastructure/sequelize-utils','devicesController','playersController','register','reportStatus','getStatus','bind','updateOrCreate','device_uuid','body'];(function(_0x25f6e2,_0x4998f0){var _0x1862ca=function(_0x373a3d){while(--_0x373a3d){_0x25f6e2['push'](_0x25f6e2['shift']());}};_0x1862ca(++_0x4998f0);}(a118_0x5533,0x14e));var a118_0x5da4=function(_0x3e2481,_0x3836d3){_0x3e2481=_0x3e2481-0x0;var _0x4164af=a118_0x5533[_0x3e2481];return _0x4164af;};'use strict';var __importDefault=this&&this[a118_0x5da4('0x0')]||function(_0x5af6f){return _0x5af6f&&_0x5af6f['__esModule']?_0x5af6f:{'default':_0x5af6f};};Object[a118_0x5da4('0x1')](exports,a118_0x5da4('0x2'),{'value':!![]});const controller_utils_1=__importDefault(require(a118_0x5da4('0x3')));const sequelize_utils_1=__importDefault(require(a118_0x5da4('0x4')));const responseUtils=require('../../infrastructure/response-utils');class PlayerDevicesController extends controller_utils_1['default']{constructor(_0x10560a,_0x420c4e,_0x4cc7af){super(_0x10560a,null);this[a118_0x5da4('0x5')]=_0x420c4e;this[a118_0x5da4('0x6')]=_0x4cc7af;this['register']=this[a118_0x5da4('0x7')]['bind'](this);this[a118_0x5da4('0x8')]=this[a118_0x5da4('0x8')]['bind'](this);this[a118_0x5da4('0x9')]=this[a118_0x5da4('0x9')][a118_0x5da4('0xa')](this);}[a118_0x5da4('0x7')](_0x17f221,_0x65d2a6,_0x333594){return this['devicesController'][a118_0x5da4('0xb')]({'params':{'uuid':_0x17f221['body'][a118_0x5da4('0xc')]},'body':{'uuid':_0x17f221[a118_0x5da4('0xd')]['device_uuid'],'network_info':_0x17f221[a118_0x5da4('0xd')]['network_info'],'firmware_info':_0x17f221[a118_0x5da4('0xd')][a118_0x5da4('0xe')]}},null,_0x333594,!![],!![])[a118_0x5da4('0xf')](_0x244710=>{return this[a118_0x5da4('0xb')]({'params':{'device_id':_0x244710['id'],'player_id':_0x17f221[a118_0x5da4('0xd')][a118_0x5da4('0x10')]},'body':{'device_id':_0x244710['id'],'player_id':_0x17f221[a118_0x5da4('0xd')][a118_0x5da4('0x10')],'status':_0x17f221['body'][a118_0x5da4('0x11')],'playlist':_0x17f221[a118_0x5da4('0xd')][a118_0x5da4('0x12')],'reported_at':new Date()}},null,_0x333594,![],!![])[a118_0x5da4('0xf')](_0x1c0036=>{const _0x118f5a={'uuid':_0x1c0036[a118_0x5da4('0x13')]};return _0x65d2a6[a118_0x5da4('0x14')]({'success':!![],'data':_0x118f5a});});});}[a118_0x5da4('0x8')](_0x3324fc,_0xa9633a,_0x39fcc5){return this[a118_0x5da4('0x5')][a118_0x5da4('0xb')]({'params':{'uuid':_0x3324fc[a118_0x5da4('0xd')][a118_0x5da4('0xc')]},'body':{'uuid':_0x3324fc[a118_0x5da4('0xd')][a118_0x5da4('0xc')]}},null,_0x39fcc5,!![],!![])['then'](_0x537188=>{return this['updateOrCreate']({'params':{'device_id':_0x537188['id'],'player_id':_0x3324fc[a118_0x5da4('0xd')][a118_0x5da4('0x10')]},'body':{'device_id':_0x537188['id'],'player_id':_0x3324fc[a118_0x5da4('0xd')][a118_0x5da4('0x10')],'playing_item':_0x3324fc[a118_0x5da4('0xd')]['playing_item'],'status':_0x3324fc[a118_0x5da4('0xd')][a118_0x5da4('0x11')],'reported_at':new Date()}},null,_0x39fcc5,![],!![])[a118_0x5da4('0xf')](_0x34b83f=>{const _0x4513ab={'uuid':_0x34b83f[a118_0x5da4('0x13')]};return _0xa9633a[a118_0x5da4('0x14')]({'success':!![],'data':_0x4513ab});});});}[a118_0x5da4('0x9')](_0x5f3519,_0x4ee6a0,_0x2bb1c8){return this[a118_0x5da4('0x6')][a118_0x5da4('0x15')]({'params':{'$user.uuid$':_0x5f3519[a118_0x5da4('0x16')][a118_0x5da4('0x17')]}},null,_0x2bb1c8,!![],[sequelize_utils_1[a118_0x5da4('0x18')][a118_0x5da4('0x19')][a118_0x5da4('0x1a')],sequelize_utils_1[a118_0x5da4('0x18')]['models'][a118_0x5da4('0x1b')]])[a118_0x5da4('0xf')](_0x171ff8=>{console[a118_0x5da4('0x1c')](_0x171ff8);return _0x4ee6a0[a118_0x5da4('0x14')]({'success':!![],'data':_0x171ff8});});}}exports[a118_0x5da4('0x18')]=PlayerDevicesController;