var a118_0x3cf0=['log','__importDefault','__esModule','defineProperty','../../infrastructure/controller-utils','../../infrastructure/sequelize-utils','../../infrastructure/response-utils','default','devicesController','playersController','register','bind','reportStatus','getStatus','updateOrCreate','body','device_uuid','network_info','firmware_info','then','player_id','status','playlist','uuid','json','playing_item','find','models','usersModel','playerDevicesModel'];(function(_0x3fb88b,_0x48c349){var _0x5a0a42=function(_0x5a020b){while(--_0x5a020b){_0x3fb88b['push'](_0x3fb88b['shift']());}};_0x5a0a42(++_0x48c349);}(a118_0x3cf0,0x1a5));var a118_0x5dc5=function(_0x230da0,_0x5d20ae){_0x230da0=_0x230da0-0x0;var _0x5191df=a118_0x3cf0[_0x230da0];return _0x5191df;};'use strict';var __importDefault=this&&this[a118_0x5dc5('0x0')]||function(_0x4f0b47){return _0x4f0b47&&_0x4f0b47[a118_0x5dc5('0x1')]?_0x4f0b47:{'default':_0x4f0b47};};Object[a118_0x5dc5('0x2')](exports,a118_0x5dc5('0x1'),{'value':!![]});const controller_utils_1=__importDefault(require(a118_0x5dc5('0x3')));const sequelize_utils_1=__importDefault(require(a118_0x5dc5('0x4')));const responseUtils=require(a118_0x5dc5('0x5'));class PlayerDevicesController extends controller_utils_1[a118_0x5dc5('0x6')]{constructor(_0x273009,_0x33985e,_0x3987ac){super(_0x273009,null);this[a118_0x5dc5('0x7')]=_0x33985e;this[a118_0x5dc5('0x8')]=_0x3987ac;this[a118_0x5dc5('0x9')]=this['register'][a118_0x5dc5('0xa')](this);this[a118_0x5dc5('0xb')]=this[a118_0x5dc5('0xb')][a118_0x5dc5('0xa')](this);this[a118_0x5dc5('0xc')]=this['getStatus'][a118_0x5dc5('0xa')](this);}['register'](_0x4700f4,_0x117f8e,_0x380cf5){return this[a118_0x5dc5('0x7')][a118_0x5dc5('0xd')]({'params':{'uuid':_0x4700f4[a118_0x5dc5('0xe')][a118_0x5dc5('0xf')]},'body':{'uuid':_0x4700f4['body'][a118_0x5dc5('0xf')],'network_info':_0x4700f4[a118_0x5dc5('0xe')][a118_0x5dc5('0x10')],'firmware_info':_0x4700f4[a118_0x5dc5('0xe')][a118_0x5dc5('0x11')]}},null,_0x380cf5,!![],!![])[a118_0x5dc5('0x12')](_0x5acf68=>{return this[a118_0x5dc5('0xd')]({'params':{'device_id':_0x5acf68['id'],'player_id':_0x4700f4[a118_0x5dc5('0xe')][a118_0x5dc5('0x13')]},'body':{'device_id':_0x5acf68['id'],'player_id':_0x4700f4[a118_0x5dc5('0xe')][a118_0x5dc5('0x13')],'status':_0x4700f4['body'][a118_0x5dc5('0x14')],'playlist':_0x4700f4['body'][a118_0x5dc5('0x15')],'reported_at':new Date()}},null,_0x380cf5,![],!![])[a118_0x5dc5('0x12')](_0x5259ed=>{const _0x5c2ba1={'uuid':_0x5259ed[a118_0x5dc5('0x16')]};return _0x117f8e[a118_0x5dc5('0x17')]({'success':!![],'data':_0x5c2ba1});});});}[a118_0x5dc5('0xb')](_0x119ccf,_0x33d0d6,_0x265222){return this[a118_0x5dc5('0x7')][a118_0x5dc5('0xd')]({'params':{'uuid':_0x119ccf[a118_0x5dc5('0xe')][a118_0x5dc5('0xf')]},'body':{'uuid':_0x119ccf[a118_0x5dc5('0xe')][a118_0x5dc5('0xf')]}},null,_0x265222,!![],!![])[a118_0x5dc5('0x12')](_0x2f7887=>{return this[a118_0x5dc5('0xd')]({'params':{'device_id':_0x2f7887['id'],'player_id':_0x119ccf[a118_0x5dc5('0xe')][a118_0x5dc5('0x13')]},'body':{'device_id':_0x2f7887['id'],'player_id':_0x119ccf['body'][a118_0x5dc5('0x13')],'playing_item':_0x119ccf[a118_0x5dc5('0xe')][a118_0x5dc5('0x18')],'status':_0x119ccf[a118_0x5dc5('0xe')][a118_0x5dc5('0x14')],'reported_at':new Date()}},null,_0x265222,![],!![])[a118_0x5dc5('0x12')](_0x431469=>{const _0x9d49a9={'uuid':_0x431469[a118_0x5dc5('0x16')]};return _0x33d0d6[a118_0x5dc5('0x17')]({'success':!![],'data':_0x9d49a9});});});}[a118_0x5dc5('0xc')](_0x52017d,_0x431268,_0x3fc192){return this['playersController'][a118_0x5dc5('0x19')]({'params':{'$user.uuid$':_0x52017d['params']['user_uuid']}},null,_0x3fc192,!![],[sequelize_utils_1[a118_0x5dc5('0x6')][a118_0x5dc5('0x1a')][a118_0x5dc5('0x1b')],sequelize_utils_1[a118_0x5dc5('0x6')][a118_0x5dc5('0x1a')][a118_0x5dc5('0x1c')]])[a118_0x5dc5('0x12')](_0x440620=>{console[a118_0x5dc5('0x1d')](_0x440620);return _0x431268['json']({'success':!![],'data':_0x440620});});}}exports[a118_0x5dc5('0x6')]=PlayerDevicesController;