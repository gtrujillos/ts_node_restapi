var a118_0x2457=['firmware_info','then','player_id','status','playlist','json','playing_item','find','params','user_uuid','models','usersModel','playerDevicesModel','log','__importDefault','__esModule','defineProperty','../../infrastructure/controller-utils','../../infrastructure/sequelize-utils','../../infrastructure/response-utils','default','devicesController','playersController','register','bind','reportStatus','getStatus','updateOrCreate','body','device_uuid','network_info'];(function(_0x4cdc32,_0x5a80f4){var _0x3fea13=function(_0x1f60aa){while(--_0x1f60aa){_0x4cdc32['push'](_0x4cdc32['shift']());}};_0x3fea13(++_0x5a80f4);}(a118_0x2457,0xe7));var a118_0x1665=function(_0x46bbe4,_0x529009){_0x46bbe4=_0x46bbe4-0x0;var _0x477a65=a118_0x2457[_0x46bbe4];return _0x477a65;};'use strict';var __importDefault=this&&this[a118_0x1665('0x0')]||function(_0x2e6d35){return _0x2e6d35&&_0x2e6d35[a118_0x1665('0x1')]?_0x2e6d35:{'default':_0x2e6d35};};Object[a118_0x1665('0x2')](exports,a118_0x1665('0x1'),{'value':!![]});const controller_utils_1=__importDefault(require(a118_0x1665('0x3')));const sequelize_utils_1=__importDefault(require(a118_0x1665('0x4')));const responseUtils=require(a118_0x1665('0x5'));class PlayerDevicesController extends controller_utils_1[a118_0x1665('0x6')]{constructor(_0x3435d0,_0x2849b0,_0x1d5ad8){super(_0x3435d0,null);this[a118_0x1665('0x7')]=_0x2849b0;this[a118_0x1665('0x8')]=_0x1d5ad8;this[a118_0x1665('0x9')]=this[a118_0x1665('0x9')][a118_0x1665('0xa')](this);this[a118_0x1665('0xb')]=this['reportStatus'][a118_0x1665('0xa')](this);this[a118_0x1665('0xc')]=this[a118_0x1665('0xc')][a118_0x1665('0xa')](this);}[a118_0x1665('0x9')](_0x46708a,_0x9c6776,_0x537bf7){return this[a118_0x1665('0x7')][a118_0x1665('0xd')]({'params':{'uuid':_0x46708a[a118_0x1665('0xe')][a118_0x1665('0xf')]},'body':{'uuid':_0x46708a[a118_0x1665('0xe')]['device_uuid'],'network_info':_0x46708a[a118_0x1665('0xe')][a118_0x1665('0x10')],'firmware_info':_0x46708a[a118_0x1665('0xe')][a118_0x1665('0x11')]}},null,_0x537bf7,!![])[a118_0x1665('0x12')](_0x37b52b=>{return this['updateOrCreate']({'params':{'device_id':_0x37b52b['id'],'player_id':_0x46708a[a118_0x1665('0xe')][a118_0x1665('0x13')]},'body':{'device_id':_0x37b52b['id'],'player_id':_0x46708a[a118_0x1665('0xe')][a118_0x1665('0x13')],'status':_0x46708a['body'][a118_0x1665('0x14')],'playlist':_0x46708a[a118_0x1665('0xe')][a118_0x1665('0x15')],'reported_at':new Date()}},null,_0x537bf7)[a118_0x1665('0x12')](_0x57477e=>{delete _0x37b52b['id'];return _0x9c6776[a118_0x1665('0x16')]({'success':!![],'data':_0x37b52b});});});}[a118_0x1665('0xb')](_0x1a8766,_0x1995ea,_0x6d708){return this[a118_0x1665('0x7')]['updateOrCreate']({'params':{'uuid':_0x1a8766[a118_0x1665('0xe')]['device_uuid']},'body':{'uuid':_0x1a8766[a118_0x1665('0xe')]['device_uuid']}},null,_0x6d708,!![])[a118_0x1665('0x12')](_0x2ae6b9=>{return this[a118_0x1665('0xd')]({'params':{'device_id':_0x2ae6b9['id'],'player_id':_0x1a8766[a118_0x1665('0xe')]['player_id']},'body':{'device_id':_0x2ae6b9['id'],'player_id':_0x1a8766['body'][a118_0x1665('0x13')],'playing_item':_0x1a8766[a118_0x1665('0xe')][a118_0x1665('0x17')],'status':_0x1a8766[a118_0x1665('0xe')][a118_0x1665('0x14')],'reported_at':new Date()}},null,_0x6d708)['then'](_0xde3a43=>{delete _0x2ae6b9['id'];return _0x1995ea[a118_0x1665('0x16')]({'success':!![],'data':_0xde3a43});});});}[a118_0x1665('0xc')](_0x19f453,_0x2a5b32,_0x519270){return this[a118_0x1665('0x8')][a118_0x1665('0x18')]({'params':{'$user.uuid$':_0x19f453[a118_0x1665('0x19')][a118_0x1665('0x1a')]}},null,_0x519270,!![],[sequelize_utils_1[a118_0x1665('0x6')][a118_0x1665('0x1b')][a118_0x1665('0x1c')],sequelize_utils_1[a118_0x1665('0x6')]['models'][a118_0x1665('0x1d')]])[a118_0x1665('0x12')](_0xbc9e17=>{console[a118_0x1665('0x1e')](_0xbc9e17);return _0x2a5b32[a118_0x1665('0x16')]({'success':!![],'data':_0xbc9e17});});}}exports[a118_0x1665('0x6')]=PlayerDevicesController;