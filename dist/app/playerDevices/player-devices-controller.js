var a57_0x118c=['bind','reportStatus','getStatus','updateOrCreate','body','device_uuid','then','player_id','status','playlist','json','playing_item','playersController','find','params','user_uuid','models','playerDevicesModel','__importDefault','__esModule','defineProperty','../../infrastructure/controller-utils','../../infrastructure/sequelize-utils','default','devicesController','register'];(function(_0x5e4124,_0xcdede3){var _0x447c0f=function(_0x2d135d){while(--_0x2d135d){_0x5e4124['push'](_0x5e4124['shift']());}};_0x447c0f(++_0xcdede3);}(a57_0x118c,0x94));var a57_0x1153=function(_0x29b183,_0x593002){_0x29b183=_0x29b183-0x0;var _0x5ae3a1=a57_0x118c[_0x29b183];return _0x5ae3a1;};'use strict';var __importDefault=this&&this[a57_0x1153('0x0')]||function(_0x11ecf5){return _0x11ecf5&&_0x11ecf5[a57_0x1153('0x1')]?_0x11ecf5:{'default':_0x11ecf5};};Object[a57_0x1153('0x2')](exports,a57_0x1153('0x1'),{'value':!![]});const controller_utils_1=__importDefault(require(a57_0x1153('0x3')));const sequelize_utils_1=__importDefault(require(a57_0x1153('0x4')));const responseUtils=require('../../infrastructure/response-utils');class PlayerDevicesController extends controller_utils_1[a57_0x1153('0x5')]{constructor(_0x20bf0b,_0x4dfac0,_0x2a05fe){super(_0x20bf0b,null);this[a57_0x1153('0x6')]=_0x4dfac0;this['playersController']=_0x2a05fe;this['register']=this[a57_0x1153('0x7')][a57_0x1153('0x8')](this);this[a57_0x1153('0x9')]=this[a57_0x1153('0x9')][a57_0x1153('0x8')](this);this[a57_0x1153('0xa')]=this[a57_0x1153('0xa')]['bind'](this);}[a57_0x1153('0x7')](_0x1cf521,_0xa9c481,_0x4cb19d){return this[a57_0x1153('0x6')][a57_0x1153('0xb')]({'params':{'uuid':_0x1cf521[a57_0x1153('0xc')][a57_0x1153('0xd')]},'body':{'uuid':_0x1cf521[a57_0x1153('0xc')][a57_0x1153('0xd')],'network_info':_0x1cf521['body']['network_info'],'firmware_info':_0x1cf521[a57_0x1153('0xc')]['firmware_info']}},null,_0x4cb19d,!![])[a57_0x1153('0xe')](_0x1f80a6=>{return this[a57_0x1153('0xb')]({'params':{'device_id':_0x1f80a6['id'],'player_id':_0x1cf521[a57_0x1153('0xc')][a57_0x1153('0xf')]},'body':{'device_id':_0x1f80a6['id'],'player_id':_0x1cf521[a57_0x1153('0xc')][a57_0x1153('0xf')],'status':_0x1cf521[a57_0x1153('0xc')][a57_0x1153('0x10')],'playlist':_0x1cf521[a57_0x1153('0xc')][a57_0x1153('0x11')],'reported_at':new Date()}},null,_0x4cb19d)[a57_0x1153('0xe')](_0x3a6ddd=>{delete _0x1f80a6['id'];return _0xa9c481[a57_0x1153('0x12')]({'success':!![],'data':_0x1f80a6});});});}[a57_0x1153('0x9')](_0x872d01,_0x402abe,_0x5eed9e){return this[a57_0x1153('0x6')][a57_0x1153('0xb')]({'params':{'uuid':_0x872d01[a57_0x1153('0xc')][a57_0x1153('0xd')]},'body':{'uuid':_0x872d01[a57_0x1153('0xc')]['device_uuid']}},null,_0x5eed9e,!![])[a57_0x1153('0xe')](_0x31bd45=>{return this[a57_0x1153('0xb')]({'params':{'device_id':_0x31bd45['id'],'player_id':_0x872d01[a57_0x1153('0xc')][a57_0x1153('0xf')]},'body':{'device_id':_0x31bd45['id'],'player_id':_0x872d01[a57_0x1153('0xc')]['player_id'],'playing_item':_0x872d01[a57_0x1153('0xc')][a57_0x1153('0x13')],'status':_0x872d01[a57_0x1153('0xc')][a57_0x1153('0x10')],'reported_at':new Date()}},null,_0x5eed9e)[a57_0x1153('0xe')](_0x4529a4=>{delete _0x31bd45['id'];return _0x402abe[a57_0x1153('0x12')]({'success':!![],'data':_0x4529a4});});});}[a57_0x1153('0xa')](_0x6f1037,_0x3efbfd,_0x34a7b9){return this[a57_0x1153('0x14')][a57_0x1153('0x15')]({'params':{'$user.uuid$':_0x6f1037[a57_0x1153('0x16')][a57_0x1153('0x17')]}},null,_0x34a7b9,!![],[sequelize_utils_1[a57_0x1153('0x5')][a57_0x1153('0x18')]['usersModel'],sequelize_utils_1['default'][a57_0x1153('0x18')][a57_0x1153('0x19')]])[a57_0x1153('0xe')](_0x1a4119=>{console['log'](_0x1a4119);return _0x3efbfd['json']({'success':!![],'data':_0x1a4119});});}}exports[a57_0x1153('0x5')]=PlayerDevicesController;