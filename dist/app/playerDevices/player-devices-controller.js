var a63_0x36a2=['__esModule','defineProperty','../../infrastructure/controller-utils','../../infrastructure/sequelize-utils','../../infrastructure/response-utils','default','devicesController','playersController','register','reportStatus','bind','getStatus','updateOrCreate','body','device_uuid','network_info','firmware_info','then','player_id','playlist','json','status','find','params','user_uuid','models','usersModel','playerDevicesModel','log'];(function(_0xccee8,_0x3935e3){var _0x2e1338=function(_0x3c8181){while(--_0x3c8181){_0xccee8['push'](_0xccee8['shift']());}};_0x2e1338(++_0x3935e3);}(a63_0x36a2,0x105));var a63_0x3fe2=function(_0x5c05fe,_0x30d9a7){_0x5c05fe=_0x5c05fe-0x0;var _0x39d6ae=a63_0x36a2[_0x5c05fe];return _0x39d6ae;};'use strict';var __importDefault=this&&this['__importDefault']||function(_0x22fb25){return _0x22fb25&&_0x22fb25[a63_0x3fe2('0x0')]?_0x22fb25:{'default':_0x22fb25};};Object[a63_0x3fe2('0x1')](exports,'__esModule',{'value':!![]});const controller_utils_1=__importDefault(require(a63_0x3fe2('0x2')));const sequelize_utils_1=__importDefault(require(a63_0x3fe2('0x3')));const responseUtils=require(a63_0x3fe2('0x4'));class PlayerDevicesController extends controller_utils_1[a63_0x3fe2('0x5')]{constructor(_0x47be58,_0x2e1387,_0xd1461f){super(_0x47be58,null);this[a63_0x3fe2('0x6')]=_0x2e1387;this[a63_0x3fe2('0x7')]=_0xd1461f;this['register']=this[a63_0x3fe2('0x8')]['bind'](this);this['reportStatus']=this[a63_0x3fe2('0x9')][a63_0x3fe2('0xa')](this);this[a63_0x3fe2('0xb')]=this[a63_0x3fe2('0xb')][a63_0x3fe2('0xa')](this);}[a63_0x3fe2('0x8')](_0x45ab66,_0x325a7a,_0x141365){return this[a63_0x3fe2('0x6')][a63_0x3fe2('0xc')]({'params':{'uuid':_0x45ab66['body']['device_uuid']},'body':{'uuid':_0x45ab66[a63_0x3fe2('0xd')][a63_0x3fe2('0xe')],'network_info':_0x45ab66[a63_0x3fe2('0xd')][a63_0x3fe2('0xf')],'firmware_info':_0x45ab66[a63_0x3fe2('0xd')][a63_0x3fe2('0x10')]}},null,_0x141365,!![])[a63_0x3fe2('0x11')](_0x1e19e6=>{return this[a63_0x3fe2('0xc')]({'params':{'device_id':_0x1e19e6['id'],'player_id':_0x45ab66[a63_0x3fe2('0xd')]['player_id']},'body':{'device_id':_0x1e19e6['id'],'player_id':_0x45ab66[a63_0x3fe2('0xd')][a63_0x3fe2('0x12')],'status':_0x45ab66['body']['status'],'playlist':_0x45ab66[a63_0x3fe2('0xd')][a63_0x3fe2('0x13')],'reported_at':new Date()}},null,_0x141365)[a63_0x3fe2('0x11')](_0xa3ce81=>{delete _0x1e19e6['id'];return _0x325a7a[a63_0x3fe2('0x14')]({'success':!![],'data':_0x1e19e6});});});}[a63_0x3fe2('0x9')](_0x442a29,_0x2a4032,_0x1dd8ca){return this[a63_0x3fe2('0x6')]['updateOrCreate']({'params':{'uuid':_0x442a29[a63_0x3fe2('0xd')][a63_0x3fe2('0xe')]},'body':{'uuid':_0x442a29['body'][a63_0x3fe2('0xe')]}},null,_0x1dd8ca,!![])[a63_0x3fe2('0x11')](_0x3ad5ba=>{return this['updateOrCreate']({'params':{'device_id':_0x3ad5ba['id'],'player_id':_0x442a29[a63_0x3fe2('0xd')]['player_id']},'body':{'device_id':_0x3ad5ba['id'],'player_id':_0x442a29[a63_0x3fe2('0xd')][a63_0x3fe2('0x12')],'playing_item':_0x442a29[a63_0x3fe2('0xd')]['playing_item'],'status':_0x442a29[a63_0x3fe2('0xd')][a63_0x3fe2('0x15')],'reported_at':new Date()}},null,_0x1dd8ca)[a63_0x3fe2('0x11')](_0x5f5ba9=>{delete _0x3ad5ba['id'];return _0x2a4032[a63_0x3fe2('0x14')]({'success':!![],'data':_0x5f5ba9});});});}[a63_0x3fe2('0xb')](_0x1ffaf1,_0x8f9d06,_0x3b7f5b){return this[a63_0x3fe2('0x7')][a63_0x3fe2('0x16')]({'params':{'$user.uuid$':_0x1ffaf1[a63_0x3fe2('0x17')][a63_0x3fe2('0x18')]}},null,_0x3b7f5b,!![],[sequelize_utils_1['default'][a63_0x3fe2('0x19')][a63_0x3fe2('0x1a')],sequelize_utils_1[a63_0x3fe2('0x5')][a63_0x3fe2('0x19')][a63_0x3fe2('0x1b')]])[a63_0x3fe2('0x11')](_0x170181=>{console[a63_0x3fe2('0x1c')](_0x170181);return _0x8f9d06['json']({'success':!![],'data':_0x170181});});}}exports[a63_0x3fe2('0x5')]=PlayerDevicesController;