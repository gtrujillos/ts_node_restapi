var a57_0x1bc6=['__importDefault','defineProperty','__esModule','../../infrastructure/controller-utils','../../infrastructure/sequelize-utils','../../infrastructure/response-utils','default','devicesController','playersController','register','bind','reportStatus','getStatus','updateOrCreate','body','device_uuid','network_info','firmware_info','then','player_id','playlist','json','playing_item','status','find','user_uuid','models','playerDevicesModel','log'];(function(_0x10a568,_0x567da7){var _0x9cff4c=function(_0x1b97f6){while(--_0x1b97f6){_0x10a568['push'](_0x10a568['shift']());}};_0x9cff4c(++_0x567da7);}(a57_0x1bc6,0x179));var a57_0x3fcf=function(_0x35d3f2,_0x385e2a){_0x35d3f2=_0x35d3f2-0x0;var _0x1d947c=a57_0x1bc6[_0x35d3f2];return _0x1d947c;};'use strict';var __importDefault=this&&this[a57_0x3fcf('0x0')]||function(_0x356007){return _0x356007&&_0x356007['__esModule']?_0x356007:{'default':_0x356007};};Object[a57_0x3fcf('0x1')](exports,a57_0x3fcf('0x2'),{'value':!![]});const controller_utils_1=__importDefault(require(a57_0x3fcf('0x3')));const sequelize_utils_1=__importDefault(require(a57_0x3fcf('0x4')));const responseUtils=require(a57_0x3fcf('0x5'));class PlayerDevicesController extends controller_utils_1[a57_0x3fcf('0x6')]{constructor(_0x42e6b6,_0x26b2ba,_0x10be74){super(_0x42e6b6,null);this[a57_0x3fcf('0x7')]=_0x26b2ba;this[a57_0x3fcf('0x8')]=_0x10be74;this[a57_0x3fcf('0x9')]=this['register'][a57_0x3fcf('0xa')](this);this[a57_0x3fcf('0xb')]=this[a57_0x3fcf('0xb')]['bind'](this);this[a57_0x3fcf('0xc')]=this[a57_0x3fcf('0xc')]['bind'](this);}[a57_0x3fcf('0x9')](_0x19596b,_0x116093,_0x57154b){return this['devicesController'][a57_0x3fcf('0xd')]({'params':{'uuid':_0x19596b[a57_0x3fcf('0xe')]['device_uuid']},'body':{'uuid':_0x19596b[a57_0x3fcf('0xe')][a57_0x3fcf('0xf')],'network_info':_0x19596b[a57_0x3fcf('0xe')][a57_0x3fcf('0x10')],'firmware_info':_0x19596b['body'][a57_0x3fcf('0x11')]}},null,_0x57154b,!![])[a57_0x3fcf('0x12')](_0x251cef=>{return this[a57_0x3fcf('0xd')]({'params':{'device_id':_0x251cef['id'],'player_id':_0x19596b['body']['player_id']},'body':{'device_id':_0x251cef['id'],'player_id':_0x19596b[a57_0x3fcf('0xe')][a57_0x3fcf('0x13')],'status':_0x19596b[a57_0x3fcf('0xe')]['status'],'playlist':_0x19596b[a57_0x3fcf('0xe')][a57_0x3fcf('0x14')],'reported_at':new Date()}},null,_0x57154b)[a57_0x3fcf('0x12')](_0x5c1a8a=>{delete _0x251cef['id'];return _0x116093[a57_0x3fcf('0x15')]({'success':!![],'data':_0x251cef});});});}['reportStatus'](_0x1e857c,_0x5db6c0,_0x37f777){return this[a57_0x3fcf('0x7')][a57_0x3fcf('0xd')]({'params':{'uuid':_0x1e857c[a57_0x3fcf('0xe')][a57_0x3fcf('0xf')]},'body':{'uuid':_0x1e857c[a57_0x3fcf('0xe')]['device_uuid']}},null,_0x37f777,!![])['then'](_0x1d1f5f=>{return this[a57_0x3fcf('0xd')]({'params':{'device_id':_0x1d1f5f['id'],'player_id':_0x1e857c[a57_0x3fcf('0xe')][a57_0x3fcf('0x13')]},'body':{'device_id':_0x1d1f5f['id'],'player_id':_0x1e857c[a57_0x3fcf('0xe')][a57_0x3fcf('0x13')],'playing_item':_0x1e857c[a57_0x3fcf('0xe')][a57_0x3fcf('0x16')],'status':_0x1e857c['body'][a57_0x3fcf('0x17')],'reported_at':new Date()}},null,_0x37f777)[a57_0x3fcf('0x12')](_0x31d316=>{delete _0x1d1f5f['id'];return _0x5db6c0[a57_0x3fcf('0x15')]({'success':!![],'data':_0x31d316});});});}[a57_0x3fcf('0xc')](_0x10593f,_0x3e81e5,_0x5dcbc0){return this[a57_0x3fcf('0x8')][a57_0x3fcf('0x18')]({'params':{'$user.uuid$':_0x10593f['params'][a57_0x3fcf('0x19')]}},null,_0x5dcbc0,!![],[sequelize_utils_1[a57_0x3fcf('0x6')][a57_0x3fcf('0x1a')]['usersModel'],sequelize_utils_1['default'][a57_0x3fcf('0x1a')][a57_0x3fcf('0x1b')]])[a57_0x3fcf('0x12')](_0x5c2e97=>{console[a57_0x3fcf('0x1c')](_0x5c2e97);return _0x3e81e5[a57_0x3fcf('0x15')]({'success':!![],'data':_0x5c2e97});});}}exports[a57_0x3fcf('0x6')]=PlayerDevicesController;