var a88_0xf4c3=['devicesController','playersController','register','bind','reportStatus','getStatus','updateOrCreate','body','device_uuid','network_info','firmware_info','then','status','playlist','uuid','json','player_id','find','params','user_uuid','log','__importDefault','__esModule','../../infrastructure/base-controller','../../infrastructure/response-utils','default'];(function(_0x50b579,_0x1a4950){var _0x2267d5=function(_0x592d60){while(--_0x592d60){_0x50b579['push'](_0x50b579['shift']());}};_0x2267d5(++_0x1a4950);}(a88_0xf4c3,0x1e9));var a88_0x525b=function(_0x283adf,_0x7af033){_0x283adf=_0x283adf-0x0;var _0x33a387=a88_0xf4c3[_0x283adf];return _0x33a387;};'use strict';var __importDefault=this&&this[a88_0x525b('0x0')]||function(_0x7a9e37){return _0x7a9e37&&_0x7a9e37[a88_0x525b('0x1')]?_0x7a9e37:{'default':_0x7a9e37};};Object['defineProperty'](exports,'__esModule',{'value':!![]});const base_controller_1=__importDefault(require(a88_0x525b('0x2')));const responseUtils=require(a88_0x525b('0x3'));class PlayerDevicesController extends base_controller_1[a88_0x525b('0x4')]{constructor(_0x1d17c2,_0x1ad20c,_0x47bfae){super(_0x1d17c2,null);this[a88_0x525b('0x5')]=_0x1ad20c;this[a88_0x525b('0x6')]=_0x47bfae;this[a88_0x525b('0x7')]=this[a88_0x525b('0x7')][a88_0x525b('0x8')](this);this[a88_0x525b('0x9')]=this[a88_0x525b('0x9')]['bind'](this);this[a88_0x525b('0xa')]=this[a88_0x525b('0xa')][a88_0x525b('0x8')](this);}[a88_0x525b('0x7')](_0x15a7f4,_0x5bedb1,_0x2162dd){return this[a88_0x525b('0x5')][a88_0x525b('0xb')]({'params':{'uuid':_0x15a7f4['body']['device_uuid']},'body':{'uuid':_0x15a7f4[a88_0x525b('0xc')][a88_0x525b('0xd')],'network_info':_0x15a7f4['body'][a88_0x525b('0xe')],'firmware_info':_0x15a7f4[a88_0x525b('0xc')][a88_0x525b('0xf')]}},null,_0x2162dd,!![],!![])[a88_0x525b('0x10')](_0x5632d9=>{return this['updateOrCreate']({'params':{'device_id':_0x5632d9['id'],'player_id':_0x15a7f4[a88_0x525b('0xc')]['player_id']},'body':{'device_id':_0x5632d9['id'],'player_id':_0x15a7f4[a88_0x525b('0xc')]['player_id'],'status':_0x15a7f4[a88_0x525b('0xc')][a88_0x525b('0x11')],'playlist':_0x15a7f4[a88_0x525b('0xc')][a88_0x525b('0x12')],'reported_at':new Date()}},null,_0x2162dd,![],!![])[a88_0x525b('0x10')](_0x1d904d=>{const _0x39e8c1={'uuid':_0x1d904d[a88_0x525b('0x13')]};return _0x5bedb1[a88_0x525b('0x14')]({'success':!![],'data':_0x39e8c1});});});}['reportStatus'](_0x19793f,_0xecbc2b,_0x96b05c){return this['devicesController']['updateOrCreate']({'params':{'uuid':_0x19793f[a88_0x525b('0xc')][a88_0x525b('0xd')]},'body':{'uuid':_0x19793f[a88_0x525b('0xc')][a88_0x525b('0xd')]}},null,_0x96b05c,!![],!![])[a88_0x525b('0x10')](_0x55e15d=>{return this[a88_0x525b('0xb')]({'params':{'device_id':_0x55e15d['id'],'player_id':_0x19793f[a88_0x525b('0xc')][a88_0x525b('0x15')]},'body':{'device_id':_0x55e15d['id'],'player_id':_0x19793f[a88_0x525b('0xc')][a88_0x525b('0x15')],'playing_item':_0x19793f['body']['playing_item'],'status':_0x19793f[a88_0x525b('0xc')][a88_0x525b('0x11')],'reported_at':new Date()}},null,_0x96b05c,![],!![])[a88_0x525b('0x10')](_0x2bc0ee=>{const _0x20fc47={'uuid':_0x2bc0ee[a88_0x525b('0x13')]};return _0xecbc2b[a88_0x525b('0x14')]({'success':!![],'data':_0x20fc47});});});}[a88_0x525b('0xa')](_0x59cd70,_0x5c1360,_0x478f2c){return this['playersController'][a88_0x525b('0x16')]({'params':{'$user.uuid$':_0x59cd70[a88_0x525b('0x17')][a88_0x525b('0x18')]}},null,_0x478f2c)[a88_0x525b('0x10')](_0x518701=>{console[a88_0x525b('0x19')](_0x518701);return _0x5c1360[a88_0x525b('0x14')]({'success':!![],'data':_0x518701});});}}exports['default']=PlayerDevicesController;