var a88_0x466e=['register','reportStatus','bind','getStatus','updateOrCreate','body','device_uuid','network_info','then','player_id','status','playlist','uuid','json','user_uuid','log','__importDefault','__esModule','defineProperty','../../infrastructure/response-utils','default','devicesController','playersController'];(function(_0x3e417b,_0x30bd2a){var _0x19d8e7=function(_0x3dbc07){while(--_0x3dbc07){_0x3e417b['push'](_0x3e417b['shift']());}};_0x19d8e7(++_0x30bd2a);}(a88_0x466e,0x152));var a88_0xf9f9=function(_0x152411,_0x2409bf){_0x152411=_0x152411-0x0;var _0x593e93=a88_0x466e[_0x152411];return _0x593e93;};'use strict';var __importDefault=this&&this[a88_0xf9f9('0x0')]||function(_0x413244){return _0x413244&&_0x413244[a88_0xf9f9('0x1')]?_0x413244:{'default':_0x413244};};Object[a88_0xf9f9('0x2')](exports,a88_0xf9f9('0x1'),{'value':!![]});const base_controller_1=__importDefault(require('../../infrastructure/base-controller'));const responseUtils=require(a88_0xf9f9('0x3'));class PlayerDevicesController extends base_controller_1[a88_0xf9f9('0x4')]{constructor(_0x1bfeb0,_0x457942,_0xc19cce){super(_0x1bfeb0,null);this[a88_0xf9f9('0x5')]=_0x457942;this[a88_0xf9f9('0x6')]=_0xc19cce;this[a88_0xf9f9('0x7')]=this[a88_0xf9f9('0x7')]['bind'](this);this[a88_0xf9f9('0x8')]=this['reportStatus'][a88_0xf9f9('0x9')](this);this[a88_0xf9f9('0xa')]=this[a88_0xf9f9('0xa')][a88_0xf9f9('0x9')](this);}[a88_0xf9f9('0x7')](_0x46c0cf,_0x817b7c,_0x2f8d5b){return this[a88_0xf9f9('0x5')][a88_0xf9f9('0xb')]({'params':{'uuid':_0x46c0cf['body']['device_uuid']},'body':{'uuid':_0x46c0cf[a88_0xf9f9('0xc')][a88_0xf9f9('0xd')],'network_info':_0x46c0cf[a88_0xf9f9('0xc')][a88_0xf9f9('0xe')],'firmware_info':_0x46c0cf[a88_0xf9f9('0xc')]['firmware_info']}},null,_0x2f8d5b,!![],!![])[a88_0xf9f9('0xf')](_0x4d5b94=>{return this[a88_0xf9f9('0xb')]({'params':{'device_id':_0x4d5b94['id'],'player_id':_0x46c0cf[a88_0xf9f9('0xc')][a88_0xf9f9('0x10')]},'body':{'device_id':_0x4d5b94['id'],'player_id':_0x46c0cf['body'][a88_0xf9f9('0x10')],'status':_0x46c0cf[a88_0xf9f9('0xc')][a88_0xf9f9('0x11')],'playlist':_0x46c0cf[a88_0xf9f9('0xc')][a88_0xf9f9('0x12')],'reported_at':new Date()}},null,_0x2f8d5b,![],!![])[a88_0xf9f9('0xf')](_0x5ad592=>{const _0x88d812={'uuid':_0x5ad592[a88_0xf9f9('0x13')]};return _0x817b7c[a88_0xf9f9('0x14')]({'success':!![],'data':_0x88d812});});});}['reportStatus'](_0x1eab43,_0x1480ee,_0xe45896){return this[a88_0xf9f9('0x5')][a88_0xf9f9('0xb')]({'params':{'uuid':_0x1eab43['body'][a88_0xf9f9('0xd')]},'body':{'uuid':_0x1eab43['body'][a88_0xf9f9('0xd')]}},null,_0xe45896,!![],!![])[a88_0xf9f9('0xf')](_0x20e957=>{return this[a88_0xf9f9('0xb')]({'params':{'device_id':_0x20e957['id'],'player_id':_0x1eab43[a88_0xf9f9('0xc')][a88_0xf9f9('0x10')]},'body':{'device_id':_0x20e957['id'],'player_id':_0x1eab43[a88_0xf9f9('0xc')][a88_0xf9f9('0x10')],'playing_item':_0x1eab43[a88_0xf9f9('0xc')]['playing_item'],'status':_0x1eab43[a88_0xf9f9('0xc')]['status'],'reported_at':new Date()}},null,_0xe45896,![],!![])[a88_0xf9f9('0xf')](_0x426841=>{const _0x4e89cf={'uuid':_0x426841[a88_0xf9f9('0x13')]};return _0x1480ee[a88_0xf9f9('0x14')]({'success':!![],'data':_0x4e89cf});});});}['getStatus'](_0x454d36,_0xe80726,_0x2c5e97){return this[a88_0xf9f9('0x6')]['find']({'params':{'$user.uuid$':_0x454d36['params'][a88_0xf9f9('0x15')]}},null,_0x2c5e97)[a88_0xf9f9('0xf')](_0x36b4d5=>{console[a88_0xf9f9('0x16')](_0x36b4d5);return _0xe80726[a88_0xf9f9('0x14')]({'success':!![],'data':_0x36b4d5});});}}exports[a88_0xf9f9('0x4')]=PlayerDevicesController;