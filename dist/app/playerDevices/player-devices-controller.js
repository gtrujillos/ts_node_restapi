var a118_0xaa33=['playersController','register','bind','getStatus','devicesController','updateOrCreate','device_uuid','body','network_info','firmware_info','then','player_id','status','playlist','json','reportStatus','find','params','user_uuid','models','playerDevicesModel','__importDefault','__esModule','defineProperty','../../infrastructure/sequelize-utils','../../infrastructure/response-utils','default'];(function(_0x5aecf7,_0x415bc6){var _0x6fed6b=function(_0x5c8213){while(--_0x5c8213){_0x5aecf7['push'](_0x5aecf7['shift']());}};_0x6fed6b(++_0x415bc6);}(a118_0xaa33,0x108));var a118_0x37f7=function(_0x38a360,_0xdeaa82){_0x38a360=_0x38a360-0x0;var _0x699f=a118_0xaa33[_0x38a360];return _0x699f;};'use strict';var __importDefault=this&&this[a118_0x37f7('0x0')]||function(_0x269092){return _0x269092&&_0x269092[a118_0x37f7('0x1')]?_0x269092:{'default':_0x269092};};Object[a118_0x37f7('0x2')](exports,a118_0x37f7('0x1'),{'value':!![]});const controller_utils_1=__importDefault(require('../../infrastructure/controller-utils'));const sequelize_utils_1=__importDefault(require(a118_0x37f7('0x3')));const responseUtils=require(a118_0x37f7('0x4'));class PlayerDevicesController extends controller_utils_1[a118_0x37f7('0x5')]{constructor(_0x371ae1,_0x1fe19a,_0x5202dd){super(_0x371ae1,null);this['devicesController']=_0x1fe19a;this[a118_0x37f7('0x6')]=_0x5202dd;this[a118_0x37f7('0x7')]=this[a118_0x37f7('0x7')][a118_0x37f7('0x8')](this);this['reportStatus']=this['reportStatus'][a118_0x37f7('0x8')](this);this[a118_0x37f7('0x9')]=this[a118_0x37f7('0x9')][a118_0x37f7('0x8')](this);}[a118_0x37f7('0x7')](_0x3d5619,_0x45f815,_0x1b2cf0){return this[a118_0x37f7('0xa')][a118_0x37f7('0xb')]({'params':{'uuid':_0x3d5619['body'][a118_0x37f7('0xc')]},'body':{'uuid':_0x3d5619[a118_0x37f7('0xd')][a118_0x37f7('0xc')],'network_info':_0x3d5619[a118_0x37f7('0xd')][a118_0x37f7('0xe')],'firmware_info':_0x3d5619[a118_0x37f7('0xd')][a118_0x37f7('0xf')]}},null,_0x1b2cf0,!![])[a118_0x37f7('0x10')](_0x2a4db1=>{return this[a118_0x37f7('0xb')]({'params':{'device_id':_0x2a4db1['id'],'player_id':_0x3d5619[a118_0x37f7('0xd')]['player_id']},'body':{'device_id':_0x2a4db1['id'],'player_id':_0x3d5619['body'][a118_0x37f7('0x11')],'status':_0x3d5619[a118_0x37f7('0xd')][a118_0x37f7('0x12')],'playlist':_0x3d5619[a118_0x37f7('0xd')][a118_0x37f7('0x13')],'reported_at':new Date()}},null,_0x1b2cf0)['then'](_0x2afbe2=>{delete _0x2a4db1['id'];return _0x45f815[a118_0x37f7('0x14')]({'success':!![],'data':_0x2a4db1});});});}[a118_0x37f7('0x15')](_0x240987,_0x31fb71,_0x2fdacd){return this[a118_0x37f7('0xa')][a118_0x37f7('0xb')]({'params':{'uuid':_0x240987[a118_0x37f7('0xd')][a118_0x37f7('0xc')]},'body':{'uuid':_0x240987[a118_0x37f7('0xd')][a118_0x37f7('0xc')]}},null,_0x2fdacd,!![])[a118_0x37f7('0x10')](_0x55f181=>{return this[a118_0x37f7('0xb')]({'params':{'device_id':_0x55f181['id'],'player_id':_0x240987['body'][a118_0x37f7('0x11')]},'body':{'device_id':_0x55f181['id'],'player_id':_0x240987['body'][a118_0x37f7('0x11')],'playing_item':_0x240987[a118_0x37f7('0xd')]['playing_item'],'status':_0x240987['body'][a118_0x37f7('0x12')],'reported_at':new Date()}},null,_0x2fdacd)['then'](_0x33991b=>{delete _0x55f181['id'];return _0x31fb71[a118_0x37f7('0x14')]({'success':!![],'data':_0x33991b});});});}[a118_0x37f7('0x9')](_0x3c158e,_0x462274,_0x2748bd){return this[a118_0x37f7('0x6')][a118_0x37f7('0x16')]({'params':{'$user.uuid$':_0x3c158e[a118_0x37f7('0x17')][a118_0x37f7('0x18')]}},null,_0x2748bd,!![],[sequelize_utils_1[a118_0x37f7('0x5')]['models']['usersModel'],sequelize_utils_1[a118_0x37f7('0x5')][a118_0x37f7('0x19')][a118_0x37f7('0x1a')]])[a118_0x37f7('0x10')](_0x5746c5=>{console['log'](_0x5746c5);return _0x462274[a118_0x37f7('0x14')]({'success':!![],'data':_0x5746c5});});}}exports[a118_0x37f7('0x5')]=PlayerDevicesController;