var a239_0x31c6=['start_date','toDate','find','forEach','env','IMAGE_FILES_FOLDER','images/','models','usersModel','user_id','.jpg','existsSync','base64Sync','image_data','json','defineProperty','../../infrastructure/sequelize-utils','moment','sequelize','fs-extra','base64-img','default','getByUser','bind','getByVehicle','params','decryptId','vehicle_id'];(function(_0x51be9f,_0xb013e7){var _0x267738=function(_0x124b39){while(--_0x124b39){_0x51be9f['push'](_0x51be9f['shift']());}};_0x267738(++_0xb013e7);}(a239_0x31c6,0x1b3));var a239_0xd99c=function(_0x2d8f05,_0x4b81bb){_0x2d8f05=_0x2d8f05-0x0;var _0x4d74cb=a239_0x31c6[_0x2d8f05];return _0x4d74cb;};'use strict';var __importDefault=this&&this['__importDefault']||function(_0x28fa3d){return _0x28fa3d&&_0x28fa3d['__esModule']?_0x28fa3d:{'default':_0x28fa3d};};Object[a239_0xd99c('0x0')](exports,'__esModule',{'value':!![]});const controller_utils_1=__importDefault(require('../../infrastructure/controller-utils'));const sequelize_utils_1=__importDefault(require(a239_0xd99c('0x1')));const moment=require(a239_0xd99c('0x2'));const sequelize_1=require(a239_0xd99c('0x3'));const fsExtra=require(a239_0xd99c('0x4'));const base64Img=require(a239_0xd99c('0x5'));class UsersRelationshipsController extends controller_utils_1[a239_0xd99c('0x6')]{constructor(_0x4f7194){super(_0x4f7194,null);this[a239_0xd99c('0x7')]=this[a239_0xd99c('0x7')][a239_0xd99c('0x8')](this);this[a239_0xd99c('0x9')]=this[a239_0xd99c('0x9')][a239_0xd99c('0x8')](this);}[a239_0xd99c('0x9')](_0x4baa8b,_0x281e16,_0x32a53c){_0x4baa8b[a239_0xd99c('0xa')]['vehicle_id']=sequelize_utils_1[a239_0xd99c('0x6')][a239_0xd99c('0xb')](_0x4baa8b[a239_0xd99c('0xa')][a239_0xd99c('0xc')]);_0x4baa8b[a239_0xd99c('0xa')][a239_0xd99c('0xd')]={[sequelize_1['Op']['lte']]:moment()[a239_0xd99c('0xe')]()};_0x4baa8b['params']['end_date']={[sequelize_1['Op']['gte']]:moment()[a239_0xd99c('0xe')]()};return this[a239_0xd99c('0xf')](_0x4baa8b,null,_0x32a53c,![],null,[[a239_0xd99c('0xd'),'ASC']],!![])['then'](_0x4e7482=>{if(_0x4e7482){_0x4e7482[a239_0xd99c('0x10')](_0x437aa6=>{const _0x14ca35=process[a239_0xd99c('0x11')][a239_0xd99c('0x12')]+a239_0xd99c('0x13')+sequelize_utils_1[a239_0xd99c('0x6')][a239_0xd99c('0x14')][a239_0xd99c('0x15')]['name']+'_'+_0x437aa6[a239_0xd99c('0x16')]+a239_0xd99c('0x17');let _0x116f44=null;if(fsExtra[a239_0xd99c('0x18')](_0x14ca35)){_0x116f44=base64Img[a239_0xd99c('0x19')](_0x14ca35);_0x437aa6[a239_0xd99c('0x1a')]=_0x116f44;}});}return _0x281e16[a239_0xd99c('0x1b')]({'success':!![],'data':_0x4e7482});});}[a239_0xd99c('0x7')](_0x2dd71b,_0x3cd1f1,_0x268fc3){_0x2dd71b[a239_0xd99c('0xa')][a239_0xd99c('0x16')]=sequelize_utils_1[a239_0xd99c('0x6')]['decryptId'](_0x2dd71b[a239_0xd99c('0xa')][a239_0xd99c('0x16')]);return this['find'](_0x2dd71b,_0x3cd1f1,_0x268fc3,![],null,null,!![]);}}exports[a239_0xd99c('0x6')]=UsersRelationshipsController;