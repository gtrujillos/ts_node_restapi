var a36_0x1f63=['countingDateShort','HOUR(CONVERT_TZ(counted_at,\x27+00:00\x27,\x27-05:00\x27))','__importDefault','__esModule','defineProperty','default','findByDay','findByHour','bind','findByMonth','query','startDate','counted_at','instance','sum','amount','total','gte','params','direction','literal','YEAR(CONVERT_TZ(counted_at,\x27+00:00\x27,\x27-05:00\x27)),\x20','MONTH(CONVERT_TZ(counted_at,\x27+00:00\x27,\x27-05:00\x27))\x20','ASC','then','json','endDate','models','passCountingsModel','col','MONTH(CONVERT_TZ(counted_at,\x27+00:00\x27,\x27-05:00\x27)),\x20','DAY(CONVERT_TZ(counted_at,\x27+00:00\x27,\x27-05:00\x27))','findAll','DATE_FORMAT','%Y-%m-%d\x20%H:00'];(function(_0x41b5ff,_0xff9ae8){var _0x3e8ff1=function(_0x567b53){while(--_0x567b53){_0x41b5ff['push'](_0x41b5ff['shift']());}};_0x3e8ff1(++_0xff9ae8);}(a36_0x1f63,0x8e));var a36_0x5858=function(_0x1186d3,_0x1be8f4){_0x1186d3=_0x1186d3-0x0;var _0x21820a=a36_0x1f63[_0x1186d3];return _0x21820a;};'use strict';var __importDefault=this&&this[a36_0x5858('0x0')]||function(_0x5bae29){return _0x5bae29&&_0x5bae29[a36_0x5858('0x1')]?_0x5bae29:{'default':_0x5bae29};};Object[a36_0x5858('0x2')](exports,a36_0x5858('0x1'),{'value':!![]});const controller_utils_1=__importDefault(require('../../infrastructure/controller-utils'));const sequelize_utils_1=__importDefault(require('../../infrastructure/sequelize-utils'));class PassCountingsController extends controller_utils_1[a36_0x5858('0x3')]{constructor(_0xbf3e21){super(_0xbf3e21,null);this[a36_0x5858('0x4')]=this[a36_0x5858('0x4')]['bind'](this);this['findByHour']=this[a36_0x5858('0x5')][a36_0x5858('0x6')](this);}[a36_0x5858('0x7')](_0x50321d,_0x26a03a){const _0x45f83b=_0x50321d[a36_0x5858('0x8')][a36_0x5858('0x9')];const _0x4507ab=_0x50321d[a36_0x5858('0x8')]['endDate'];sequelize_utils_1[a36_0x5858('0x3')]['models']['passCountingsModel']['findAll']({'attributes':[a36_0x5858('0xa'),[sequelize_utils_1[a36_0x5858('0x3')][a36_0x5858('0xb')]['fn'](a36_0x5858('0xc'),sequelize_utils_1[a36_0x5858('0x3')][a36_0x5858('0xb')]['col'](a36_0x5858('0xd'))),a36_0x5858('0xe')]],'where':{'counted_at':{[sequelize_utils_1[a36_0x5858('0x3')][a36_0x5858('0xb')]['Op'][a36_0x5858('0xf')]]:_0x45f83b,[sequelize_utils_1[a36_0x5858('0x3')][a36_0x5858('0xb')]['Op']['lt']]:_0x4507ab},'amount':_0x50321d[a36_0x5858('0x10')][a36_0x5858('0x11')]=='in'?{[sequelize_utils_1[a36_0x5858('0x3')]['instance']['Op']['gt']]:0x0}:{[sequelize_utils_1['default']['instance']['Op']['lt']]:0x0}},'group':[sequelize_utils_1['default'][a36_0x5858('0xb')][a36_0x5858('0x12')](a36_0x5858('0x13')+a36_0x5858('0x14'))],'order':[['counted_at',a36_0x5858('0x15')]]})[a36_0x5858('0x16')](_0x1740ab=>{_0x26a03a[a36_0x5858('0x17')]({'data':_0x1740ab});});}[a36_0x5858('0x4')](_0x5551b2,_0x2dcaf2){const _0x36601c=_0x5551b2[a36_0x5858('0x8')]['startDate'];const _0xde1bf1=_0x5551b2[a36_0x5858('0x8')][a36_0x5858('0x18')];sequelize_utils_1[a36_0x5858('0x3')][a36_0x5858('0x19')][a36_0x5858('0x1a')]['findAll']({'attributes':[a36_0x5858('0xa'),[sequelize_utils_1[a36_0x5858('0x3')][a36_0x5858('0xb')]['fn'](a36_0x5858('0xc'),sequelize_utils_1[a36_0x5858('0x3')]['instance'][a36_0x5858('0x1b')]('amount')),a36_0x5858('0xe')]],'where':{'counted_at':{[sequelize_utils_1['default'][a36_0x5858('0xb')]['Op'][a36_0x5858('0xf')]]:_0x36601c,[sequelize_utils_1[a36_0x5858('0x3')][a36_0x5858('0xb')]['Op']['lt']]:_0xde1bf1},'amount':_0x5551b2[a36_0x5858('0x10')][a36_0x5858('0x11')]=='in'?{[sequelize_utils_1[a36_0x5858('0x3')][a36_0x5858('0xb')]['Op']['gt']]:0x0}:{[sequelize_utils_1[a36_0x5858('0x3')][a36_0x5858('0xb')]['Op']['lt']]:0x0}},'group':[sequelize_utils_1[a36_0x5858('0x3')][a36_0x5858('0xb')][a36_0x5858('0x12')](a36_0x5858('0x13')+a36_0x5858('0x1c')+a36_0x5858('0x1d'))],'order':[[a36_0x5858('0xa'),a36_0x5858('0x15')]]})[a36_0x5858('0x16')](_0x4158fe=>{_0x2dcaf2[a36_0x5858('0x17')]({'data':_0x4158fe});});}[a36_0x5858('0x5')](_0x324d82,_0x1f6959){const _0x133476=_0x324d82[a36_0x5858('0x8')]['startDate'];const _0x46d417=_0x324d82['query'][a36_0x5858('0x18')];sequelize_utils_1[a36_0x5858('0x3')][a36_0x5858('0x19')][a36_0x5858('0x1a')][a36_0x5858('0x1e')]({'attributes':[a36_0x5858('0xa'),[sequelize_utils_1[a36_0x5858('0x3')][a36_0x5858('0xb')]['fn'](a36_0x5858('0x1f'),sequelize_utils_1['default'][a36_0x5858('0xb')][a36_0x5858('0x1b')](a36_0x5858('0xa')),a36_0x5858('0x20')),a36_0x5858('0x21')],[sequelize_utils_1['default'][a36_0x5858('0xb')]['fn']('sum',sequelize_utils_1[a36_0x5858('0x3')][a36_0x5858('0xb')][a36_0x5858('0x1b')]('amount')),a36_0x5858('0xe')]],'where':{'counted_at':{[sequelize_utils_1['default']['instance']['Op'][a36_0x5858('0xf')]]:_0x133476,[sequelize_utils_1[a36_0x5858('0x3')][a36_0x5858('0xb')]['Op']['lt']]:_0x46d417},'amount':_0x324d82[a36_0x5858('0x10')][a36_0x5858('0x11')]=='in'?{[sequelize_utils_1[a36_0x5858('0x3')][a36_0x5858('0xb')]['Op']['gt']]:0x0}:{[sequelize_utils_1[a36_0x5858('0x3')][a36_0x5858('0xb')]['Op']['lt']]:0x0}},'group':[sequelize_utils_1[a36_0x5858('0x3')]['instance']['literal']('YEAR(CONVERT_TZ(counted_at,\x27+00:00\x27,\x27-05:00\x27)),\x20'+a36_0x5858('0x1c')+'DAY(CONVERT_TZ(counted_at,\x27+00:00\x27,\x27-05:00\x27)),\x20'+a36_0x5858('0x22'))],'order':[['counted_at','ASC']]})[a36_0x5858('0x16')](_0xe21313=>{_0x1f6959[a36_0x5858('0x17')]({'data':_0xe21313});});}}exports[a36_0x5858('0x3')]=PassCountingsController;