var a105_0x53d2=['defineProperty','crypto','mongoose','Schema','pre','save','password','default','hash','compare','methods','comparePassword','gravatar','https://gravatar.com/avatar/?s=','createHash','md5','digest','?s=','model','User','__importDefault','__esModule'];(function(_0x1afa29,_0x247b37){var _0x217fc1=function(_0x373b9d){while(--_0x373b9d){_0x1afa29['push'](_0x1afa29['shift']());}};_0x217fc1(++_0x247b37);}(a105_0x53d2,0x1cc));var a105_0x3044=function(_0x4e28bc,_0x22df12){_0x4e28bc=_0x4e28bc-0x0;var _0x472e8e=a105_0x53d2[_0x4e28bc];return _0x472e8e;};'use strict';var __importDefault=this&&this[a105_0x3044('0x0')]||function(_0x4a80cd){return _0x4a80cd&&_0x4a80cd[a105_0x3044('0x1')]?_0x4a80cd:{'default':_0x4a80cd};};Object[a105_0x3044('0x2')](exports,a105_0x3044('0x1'),{'value':!![]});const bcrypt_nodejs_1=__importDefault(require('bcrypt-nodejs'));const crypto_1=__importDefault(require(a105_0x3044('0x3')));const mongoose_1=__importDefault(require(a105_0x3044('0x4')));const userSchema=new mongoose_1['default'][(a105_0x3044('0x5'))]({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema[a105_0x3044('0x6')](a105_0x3044('0x7'),function save(_0x2bada4){const _0x5a7d2f=this;if(!_0x5a7d2f['isModified'](a105_0x3044('0x8'))){return _0x2bada4();}bcrypt_nodejs_1[a105_0x3044('0x9')]['genSalt'](0xa,(_0x115fdd,_0xe294cd)=>{if(_0x115fdd){return _0x2bada4(_0x115fdd);}bcrypt_nodejs_1[a105_0x3044('0x9')][a105_0x3044('0xa')](_0x5a7d2f[a105_0x3044('0x8')],_0xe294cd,undefined,(_0x115fdd,_0x2eb514)=>{if(_0x115fdd){return _0x2bada4(_0x115fdd);}_0x5a7d2f[a105_0x3044('0x8')]=_0x2eb514;_0x2bada4();});});});const comparePassword=function(_0xc905fd,_0x11842c){bcrypt_nodejs_1[a105_0x3044('0x9')][a105_0x3044('0xb')](_0xc905fd,this['password'],(_0x172d35,_0x25270b)=>{_0x11842c(_0x172d35,_0x25270b);});};userSchema[a105_0x3044('0xc')][a105_0x3044('0xd')]=comparePassword;userSchema[a105_0x3044('0xc')][a105_0x3044('0xe')]=function(_0x6f2879){if(!_0x6f2879){_0x6f2879=0xc8;}if(!this['email']){return a105_0x3044('0xf')+_0x6f2879+'&d=retro';}const _0x272724=crypto_1[a105_0x3044('0x9')][a105_0x3044('0x10')](a105_0x3044('0x11'))['update'](this['email'])[a105_0x3044('0x12')]('hex');return'https://gravatar.com/avatar/'+_0x272724+a105_0x3044('0x13')+_0x6f2879+'&d=retro';};const User=mongoose_1[a105_0x3044('0x9')][a105_0x3044('0x14')](a105_0x3044('0x15'),userSchema);exports[a105_0x3044('0x9')]=User;