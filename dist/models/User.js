var a105_0x5343=['update','digest','hex','https://gravatar.com/avatar/','model','User','__esModule','defineProperty','bcrypt-nodejs','crypto','default','Schema','pre','save','isModified','genSalt','password','compare','methods','gravatar','email','https://gravatar.com/avatar/?s=','&d=retro','createHash','md5'];(function(_0x260fc1,_0x2ba5a3){var _0x1210bf=function(_0x42bca1){while(--_0x42bca1){_0x260fc1['push'](_0x260fc1['shift']());}};_0x1210bf(++_0x2ba5a3);}(a105_0x5343,0x1c8));var a105_0xdac5=function(_0xf08dcb,_0x4e66ef){_0xf08dcb=_0xf08dcb-0x0;var _0xaef666=a105_0x5343[_0xf08dcb];return _0xaef666;};'use strict';var __importDefault=this&&this['__importDefault']||function(_0x49f05c){return _0x49f05c&&_0x49f05c[a105_0xdac5('0x0')]?_0x49f05c:{'default':_0x49f05c};};Object[a105_0xdac5('0x1')](exports,a105_0xdac5('0x0'),{'value':!![]});const bcrypt_nodejs_1=__importDefault(require(a105_0xdac5('0x2')));const crypto_1=__importDefault(require(a105_0xdac5('0x3')));const mongoose_1=__importDefault(require('mongoose'));const userSchema=new mongoose_1[(a105_0xdac5('0x4'))][(a105_0xdac5('0x5'))]({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema[a105_0xdac5('0x6')](a105_0xdac5('0x7'),function save(_0x511d8f){const _0xb22799=this;if(!_0xb22799[a105_0xdac5('0x8')]('password')){return _0x511d8f();}bcrypt_nodejs_1['default'][a105_0xdac5('0x9')](0xa,(_0x4ef170,_0x4c1a1d)=>{if(_0x4ef170){return _0x511d8f(_0x4ef170);}bcrypt_nodejs_1[a105_0xdac5('0x4')]['hash'](_0xb22799[a105_0xdac5('0xa')],_0x4c1a1d,undefined,(_0x4ef170,_0x5e3983)=>{if(_0x4ef170){return _0x511d8f(_0x4ef170);}_0xb22799['password']=_0x5e3983;_0x511d8f();});});});const comparePassword=function(_0x473a3e,_0x540949){bcrypt_nodejs_1[a105_0xdac5('0x4')][a105_0xdac5('0xb')](_0x473a3e,this['password'],(_0x414e94,_0x5bac21)=>{_0x540949(_0x414e94,_0x5bac21);});};userSchema[a105_0xdac5('0xc')]['comparePassword']=comparePassword;userSchema[a105_0xdac5('0xc')][a105_0xdac5('0xd')]=function(_0x54648d){if(!_0x54648d){_0x54648d=0xc8;}if(!this[a105_0xdac5('0xe')]){return a105_0xdac5('0xf')+_0x54648d+a105_0xdac5('0x10');}const _0x97c669=crypto_1[a105_0xdac5('0x4')][a105_0xdac5('0x11')](a105_0xdac5('0x12'))[a105_0xdac5('0x13')](this[a105_0xdac5('0xe')])[a105_0xdac5('0x14')](a105_0xdac5('0x15'));return a105_0xdac5('0x16')+_0x97c669+'?s='+_0x54648d+a105_0xdac5('0x10');};const User=mongoose_1['default'][a105_0xdac5('0x17')](a105_0xdac5('0x18'),userSchema);exports[a105_0xdac5('0x4')]=User;