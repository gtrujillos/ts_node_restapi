var a100_0x4523=['digest','https://gravatar.com/avatar/','model','__importDefault','__esModule','bcrypt-nodejs','crypto','mongoose','default','save','hash','password','compare','comparePassword','methods','gravatar','email','https://gravatar.com/avatar/?s=','&d=retro','createHash','md5','update'];(function(_0x26f847,_0x4d7b5a){var _0x398649=function(_0x21108a){while(--_0x21108a){_0x26f847['push'](_0x26f847['shift']());}};_0x398649(++_0x4d7b5a);}(a100_0x4523,0x14d));var a100_0x53c0=function(_0x51440b,_0x20b8f1){_0x51440b=_0x51440b-0x0;var _0x49e4af=a100_0x4523[_0x51440b];return _0x49e4af;};'use strict';var __importDefault=this&&this[a100_0x53c0('0x0')]||function(_0x2ac8e6){return _0x2ac8e6&&_0x2ac8e6[a100_0x53c0('0x1')]?_0x2ac8e6:{'default':_0x2ac8e6};};Object['defineProperty'](exports,'__esModule',{'value':!![]});const bcrypt_nodejs_1=__importDefault(require(a100_0x53c0('0x2')));const crypto_1=__importDefault(require(a100_0x53c0('0x3')));const mongoose_1=__importDefault(require(a100_0x53c0('0x4')));const userSchema=new mongoose_1[(a100_0x53c0('0x5'))]['Schema']({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema['pre'](a100_0x53c0('0x6'),function save(_0xc498f){const _0x4e8f69=this;if(!_0x4e8f69['isModified']('password')){return _0xc498f();}bcrypt_nodejs_1[a100_0x53c0('0x5')]['genSalt'](0xa,(_0x4ad3a3,_0x17ed9b)=>{if(_0x4ad3a3){return _0xc498f(_0x4ad3a3);}bcrypt_nodejs_1[a100_0x53c0('0x5')][a100_0x53c0('0x7')](_0x4e8f69['password'],_0x17ed9b,undefined,(_0x4ad3a3,_0x9b4a77)=>{if(_0x4ad3a3){return _0xc498f(_0x4ad3a3);}_0x4e8f69[a100_0x53c0('0x8')]=_0x9b4a77;_0xc498f();});});});const comparePassword=function(_0x5a04f9,_0x680484){bcrypt_nodejs_1[a100_0x53c0('0x5')][a100_0x53c0('0x9')](_0x5a04f9,this[a100_0x53c0('0x8')],(_0x2732c5,_0x549ee9)=>{_0x680484(_0x2732c5,_0x549ee9);});};userSchema['methods'][a100_0x53c0('0xa')]=comparePassword;userSchema[a100_0x53c0('0xb')][a100_0x53c0('0xc')]=function(_0x18b40a){if(!_0x18b40a){_0x18b40a=0xc8;}if(!this[a100_0x53c0('0xd')]){return a100_0x53c0('0xe')+_0x18b40a+a100_0x53c0('0xf');}const _0x52ecba=crypto_1[a100_0x53c0('0x5')][a100_0x53c0('0x10')](a100_0x53c0('0x11'))[a100_0x53c0('0x12')](this[a100_0x53c0('0xd')])[a100_0x53c0('0x13')]('hex');return a100_0x53c0('0x14')+_0x52ecba+'?s='+_0x18b40a+a100_0x53c0('0xf');};const User=mongoose_1[a100_0x53c0('0x5')][a100_0x53c0('0x15')]('User',userSchema);exports[a100_0x53c0('0x5')]=User;