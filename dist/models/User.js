var a104_0x3c8b=['methods','gravatar','email','https://gravatar.com/avatar/?s=','createHash','md5','digest','hex','https://gravatar.com/avatar/','&d=retro','model','User','__importDefault','defineProperty','bcrypt-nodejs','crypto','Schema','save','isModified','genSalt','default','hash','password','compare'];(function(_0x2a770e,_0x5d3413){var _0x76d730=function(_0x8d2bfa){while(--_0x8d2bfa){_0x2a770e['push'](_0x2a770e['shift']());}};_0x76d730(++_0x5d3413);}(a104_0x3c8b,0x114));var a104_0x31d2=function(_0x2a5e02,_0x40dbbb){_0x2a5e02=_0x2a5e02-0x0;var _0x27ad68=a104_0x3c8b[_0x2a5e02];return _0x27ad68;};'use strict';var __importDefault=this&&this[a104_0x31d2('0x0')]||function(_0x57758e){return _0x57758e&&_0x57758e['__esModule']?_0x57758e:{'default':_0x57758e};};Object[a104_0x31d2('0x1')](exports,'__esModule',{'value':!![]});const bcrypt_nodejs_1=__importDefault(require(a104_0x31d2('0x2')));const crypto_1=__importDefault(require(a104_0x31d2('0x3')));const mongoose_1=__importDefault(require('mongoose'));const userSchema=new mongoose_1['default'][(a104_0x31d2('0x4'))]({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema['pre'](a104_0x31d2('0x5'),function save(_0x330718){const _0x32261f=this;if(!_0x32261f[a104_0x31d2('0x6')]('password')){return _0x330718();}bcrypt_nodejs_1['default'][a104_0x31d2('0x7')](0xa,(_0x4309e6,_0x3f70fd)=>{if(_0x4309e6){return _0x330718(_0x4309e6);}bcrypt_nodejs_1[a104_0x31d2('0x8')][a104_0x31d2('0x9')](_0x32261f[a104_0x31d2('0xa')],_0x3f70fd,undefined,(_0x4309e6,_0x1e4915)=>{if(_0x4309e6){return _0x330718(_0x4309e6);}_0x32261f['password']=_0x1e4915;_0x330718();});});});const comparePassword=function(_0xe27f1b,_0x581961){bcrypt_nodejs_1[a104_0x31d2('0x8')][a104_0x31d2('0xb')](_0xe27f1b,this[a104_0x31d2('0xa')],(_0x3e7633,_0x5e0bc0)=>{_0x581961(_0x3e7633,_0x5e0bc0);});};userSchema[a104_0x31d2('0xc')]['comparePassword']=comparePassword;userSchema[a104_0x31d2('0xc')][a104_0x31d2('0xd')]=function(_0x1d3879){if(!_0x1d3879){_0x1d3879=0xc8;}if(!this[a104_0x31d2('0xe')]){return a104_0x31d2('0xf')+_0x1d3879+'&d=retro';}const _0x563904=crypto_1[a104_0x31d2('0x8')][a104_0x31d2('0x10')](a104_0x31d2('0x11'))['update'](this[a104_0x31d2('0xe')])[a104_0x31d2('0x12')](a104_0x31d2('0x13'));return a104_0x31d2('0x14')+_0x563904+'?s='+_0x1d3879+a104_0x31d2('0x15');};const User=mongoose_1['default'][a104_0x31d2('0x16')](a104_0x31d2('0x17'),userSchema);exports[a104_0x31d2('0x8')]=User;