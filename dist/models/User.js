var a104_0xfd0d=['compare','methods','comparePassword','gravatar','email','https://gravatar.com/avatar/?s=','&d=retro','createHash','md5','update','digest','model','User','__esModule','bcrypt-nodejs','crypto','mongoose','default','pre','save','isModified','password','genSalt','hash'];(function(_0x1fb4d8,_0x311f99){var _0x274d16=function(_0x1d8c73){while(--_0x1d8c73){_0x1fb4d8['push'](_0x1fb4d8['shift']());}};_0x274d16(++_0x311f99);}(a104_0xfd0d,0x85));var a104_0x1232=function(_0x4b3ea8,_0x33ae9b){_0x4b3ea8=_0x4b3ea8-0x0;var _0x22a17c=a104_0xfd0d[_0x4b3ea8];return _0x22a17c;};'use strict';var __importDefault=this&&this['__importDefault']||function(_0x2d1958){return _0x2d1958&&_0x2d1958[a104_0x1232('0x0')]?_0x2d1958:{'default':_0x2d1958};};Object['defineProperty'](exports,a104_0x1232('0x0'),{'value':!![]});const bcrypt_nodejs_1=__importDefault(require(a104_0x1232('0x1')));const crypto_1=__importDefault(require(a104_0x1232('0x2')));const mongoose_1=__importDefault(require(a104_0x1232('0x3')));const userSchema=new mongoose_1[(a104_0x1232('0x4'))]['Schema']({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema[a104_0x1232('0x5')](a104_0x1232('0x6'),function save(_0x40228c){const _0x3cd4d8=this;if(!_0x3cd4d8[a104_0x1232('0x7')](a104_0x1232('0x8'))){return _0x40228c();}bcrypt_nodejs_1[a104_0x1232('0x4')][a104_0x1232('0x9')](0xa,(_0x4c5c8e,_0x373859)=>{if(_0x4c5c8e){return _0x40228c(_0x4c5c8e);}bcrypt_nodejs_1[a104_0x1232('0x4')][a104_0x1232('0xa')](_0x3cd4d8[a104_0x1232('0x8')],_0x373859,undefined,(_0x4c5c8e,_0x204aab)=>{if(_0x4c5c8e){return _0x40228c(_0x4c5c8e);}_0x3cd4d8[a104_0x1232('0x8')]=_0x204aab;_0x40228c();});});});const comparePassword=function(_0x38bc5a,_0x167466){bcrypt_nodejs_1['default'][a104_0x1232('0xb')](_0x38bc5a,this[a104_0x1232('0x8')],(_0x5c65ea,_0x2bcce0)=>{_0x167466(_0x5c65ea,_0x2bcce0);});};userSchema[a104_0x1232('0xc')][a104_0x1232('0xd')]=comparePassword;userSchema['methods'][a104_0x1232('0xe')]=function(_0x8155aa){if(!_0x8155aa){_0x8155aa=0xc8;}if(!this[a104_0x1232('0xf')]){return a104_0x1232('0x10')+_0x8155aa+a104_0x1232('0x11');}const _0x796892=crypto_1[a104_0x1232('0x4')][a104_0x1232('0x12')](a104_0x1232('0x13'))[a104_0x1232('0x14')](this[a104_0x1232('0xf')])[a104_0x1232('0x15')]('hex');return'https://gravatar.com/avatar/'+_0x796892+'?s='+_0x8155aa+a104_0x1232('0x11');};const User=mongoose_1['default'][a104_0x1232('0x16')](a104_0x1232('0x17'),userSchema);exports[a104_0x1232('0x4')]=User;