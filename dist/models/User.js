var a216_0x1985=['isModified','password','genSalt','hash','comparePassword','gravatar','email','https://gravatar.com/avatar/?s=','&d=retro','md5','digest','?s=','__importDefault','defineProperty','__esModule','crypto','mongoose','default','Schema','pre','save'];(function(_0x5ed510,_0x4f0463){var _0x4549b5=function(_0x3c2577){while(--_0x3c2577){_0x5ed510['push'](_0x5ed510['shift']());}};_0x4549b5(++_0x4f0463);}(a216_0x1985,0xde));var a216_0x1692=function(_0x2f1af2,_0x52d0c1){_0x2f1af2=_0x2f1af2-0x0;var _0x31fdff=a216_0x1985[_0x2f1af2];return _0x31fdff;};'use strict';var __importDefault=this&&this[a216_0x1692('0x0')]||function(_0x22120a){return _0x22120a&&_0x22120a['__esModule']?_0x22120a:{'default':_0x22120a};};Object[a216_0x1692('0x1')](exports,a216_0x1692('0x2'),{'value':!![]});const bcrypt_nodejs_1=__importDefault(require('bcrypt-nodejs'));const crypto_1=__importDefault(require(a216_0x1692('0x3')));const mongoose_1=__importDefault(require(a216_0x1692('0x4')));const userSchema=new mongoose_1[(a216_0x1692('0x5'))][(a216_0x1692('0x6'))]({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema[a216_0x1692('0x7')](a216_0x1692('0x8'),function save(_0x46509b){const _0x190202=this;if(!_0x190202[a216_0x1692('0x9')](a216_0x1692('0xa'))){return _0x46509b();}bcrypt_nodejs_1[a216_0x1692('0x5')][a216_0x1692('0xb')](0xa,(_0x7922a4,_0x1f0995)=>{if(_0x7922a4){return _0x46509b(_0x7922a4);}bcrypt_nodejs_1[a216_0x1692('0x5')][a216_0x1692('0xc')](_0x190202[a216_0x1692('0xa')],_0x1f0995,undefined,(_0x7922a4,_0x4784e)=>{if(_0x7922a4){return _0x46509b(_0x7922a4);}_0x190202[a216_0x1692('0xa')]=_0x4784e;_0x46509b();});});});const comparePassword=function(_0x4640db,_0x23c86f){bcrypt_nodejs_1[a216_0x1692('0x5')]['compare'](_0x4640db,this['password'],(_0x1db4d6,_0x355e45)=>{_0x23c86f(_0x1db4d6,_0x355e45);});};userSchema['methods'][a216_0x1692('0xd')]=comparePassword;userSchema['methods'][a216_0x1692('0xe')]=function(_0x403f21){if(!_0x403f21){_0x403f21=0xc8;}if(!this[a216_0x1692('0xf')]){return a216_0x1692('0x10')+_0x403f21+a216_0x1692('0x11');}const _0x114cf4=crypto_1[a216_0x1692('0x5')]['createHash'](a216_0x1692('0x12'))['update'](this[a216_0x1692('0xf')])[a216_0x1692('0x13')]('hex');return'https://gravatar.com/avatar/'+_0x114cf4+a216_0x1692('0x14')+_0x403f21+'&d=retro';};const User=mongoose_1['default']['model']('User',userSchema);exports[a216_0x1692('0x5')]=User;