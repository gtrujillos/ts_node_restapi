var a105_0xcdd2=['defineProperty','__esModule','crypto','mongoose','default','Schema','pre','save','isModified','password','genSalt','hash','compare','comparePassword','methods','email','https://gravatar.com/avatar/?s=','&d=retro','createHash','md5','update','digest','hex','https://gravatar.com/avatar/','?s=','model','User','__importDefault'];(function(_0xe4b296,_0x4f8174){var _0x16d40f=function(_0x55fe7f){while(--_0x55fe7f){_0xe4b296['push'](_0xe4b296['shift']());}};_0x16d40f(++_0x4f8174);}(a105_0xcdd2,0xc3));var a105_0xe032=function(_0x1ace40,_0x1391aa){_0x1ace40=_0x1ace40-0x0;var _0x261454=a105_0xcdd2[_0x1ace40];return _0x261454;};'use strict';var __importDefault=this&&this[a105_0xe032('0x0')]||function(_0x540343){return _0x540343&&_0x540343['__esModule']?_0x540343:{'default':_0x540343};};Object[a105_0xe032('0x1')](exports,a105_0xe032('0x2'),{'value':!![]});const bcrypt_nodejs_1=__importDefault(require('bcrypt-nodejs'));const crypto_1=__importDefault(require(a105_0xe032('0x3')));const mongoose_1=__importDefault(require(a105_0xe032('0x4')));const userSchema=new mongoose_1[(a105_0xe032('0x5'))][(a105_0xe032('0x6'))]({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema[a105_0xe032('0x7')](a105_0xe032('0x8'),function save(_0x54b711){const _0x3e8f79=this;if(!_0x3e8f79[a105_0xe032('0x9')](a105_0xe032('0xa'))){return _0x54b711();}bcrypt_nodejs_1[a105_0xe032('0x5')][a105_0xe032('0xb')](0xa,(_0x531b5a,_0x27dc4e)=>{if(_0x531b5a){return _0x54b711(_0x531b5a);}bcrypt_nodejs_1[a105_0xe032('0x5')][a105_0xe032('0xc')](_0x3e8f79[a105_0xe032('0xa')],_0x27dc4e,undefined,(_0x531b5a,_0x4528f4)=>{if(_0x531b5a){return _0x54b711(_0x531b5a);}_0x3e8f79[a105_0xe032('0xa')]=_0x4528f4;_0x54b711();});});});const comparePassword=function(_0x426600,_0x2ed0a1){bcrypt_nodejs_1[a105_0xe032('0x5')][a105_0xe032('0xd')](_0x426600,this[a105_0xe032('0xa')],(_0x362a1a,_0x256208)=>{_0x2ed0a1(_0x362a1a,_0x256208);});};userSchema['methods'][a105_0xe032('0xe')]=comparePassword;userSchema[a105_0xe032('0xf')]['gravatar']=function(_0xa81b29){if(!_0xa81b29){_0xa81b29=0xc8;}if(!this[a105_0xe032('0x10')]){return a105_0xe032('0x11')+_0xa81b29+a105_0xe032('0x12');}const _0x18b58b=crypto_1[a105_0xe032('0x5')][a105_0xe032('0x13')](a105_0xe032('0x14'))[a105_0xe032('0x15')](this[a105_0xe032('0x10')])[a105_0xe032('0x16')](a105_0xe032('0x17'));return a105_0xe032('0x18')+_0x18b58b+a105_0xe032('0x19')+_0xa81b29+'&d=retro';};const User=mongoose_1[a105_0xe032('0x5')][a105_0xe032('0x1a')](a105_0xe032('0x1b'),userSchema);exports['default']=User;