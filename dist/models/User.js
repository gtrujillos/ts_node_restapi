var a104_0x4404=['email','&d=retro','md5','update','digest','hex','https://gravatar.com/avatar/','?s=','model','__importDefault','__esModule','bcrypt-nodejs','crypto','default','Schema','isModified','password','genSalt','hash','compare','methods','comparePassword','gravatar'];(function(_0x41cc82,_0x313add){var _0x1561dd=function(_0x237300){while(--_0x237300){_0x41cc82['push'](_0x41cc82['shift']());}};_0x1561dd(++_0x313add);}(a104_0x4404,0x65));var a104_0x118c=function(_0x4cccd3,_0x3cfd27){_0x4cccd3=_0x4cccd3-0x0;var _0x378f74=a104_0x4404[_0x4cccd3];return _0x378f74;};'use strict';var __importDefault=this&&this[a104_0x118c('0x0')]||function(_0x1ac6cf){return _0x1ac6cf&&_0x1ac6cf[a104_0x118c('0x1')]?_0x1ac6cf:{'default':_0x1ac6cf};};Object['defineProperty'](exports,'__esModule',{'value':!![]});const bcrypt_nodejs_1=__importDefault(require(a104_0x118c('0x2')));const crypto_1=__importDefault(require(a104_0x118c('0x3')));const mongoose_1=__importDefault(require('mongoose'));const userSchema=new mongoose_1[(a104_0x118c('0x4'))][(a104_0x118c('0x5'))]({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema['pre']('save',function save(_0x382ec4){const _0x5bd2e2=this;if(!_0x5bd2e2[a104_0x118c('0x6')](a104_0x118c('0x7'))){return _0x382ec4();}bcrypt_nodejs_1['default'][a104_0x118c('0x8')](0xa,(_0x4fa247,_0x2241d1)=>{if(_0x4fa247){return _0x382ec4(_0x4fa247);}bcrypt_nodejs_1[a104_0x118c('0x4')][a104_0x118c('0x9')](_0x5bd2e2['password'],_0x2241d1,undefined,(_0x4fa247,_0xd8c0f8)=>{if(_0x4fa247){return _0x382ec4(_0x4fa247);}_0x5bd2e2[a104_0x118c('0x7')]=_0xd8c0f8;_0x382ec4();});});});const comparePassword=function(_0x5d63b5,_0x72e884){bcrypt_nodejs_1[a104_0x118c('0x4')][a104_0x118c('0xa')](_0x5d63b5,this[a104_0x118c('0x7')],(_0x33abe0,_0x205061)=>{_0x72e884(_0x33abe0,_0x205061);});};userSchema[a104_0x118c('0xb')][a104_0x118c('0xc')]=comparePassword;userSchema['methods'][a104_0x118c('0xd')]=function(_0xd60d25){if(!_0xd60d25){_0xd60d25=0xc8;}if(!this[a104_0x118c('0xe')]){return'https://gravatar.com/avatar/?s='+_0xd60d25+a104_0x118c('0xf');}const _0x141b20=crypto_1[a104_0x118c('0x4')]['createHash'](a104_0x118c('0x10'))[a104_0x118c('0x11')](this[a104_0x118c('0xe')])[a104_0x118c('0x12')](a104_0x118c('0x13'));return a104_0x118c('0x14')+_0x141b20+a104_0x118c('0x15')+_0xd60d25+a104_0x118c('0xf');};const User=mongoose_1[a104_0x118c('0x4')][a104_0x118c('0x16')]('User',userSchema);exports[a104_0x118c('0x4')]=User;