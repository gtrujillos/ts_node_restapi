var a105_0x11c2=['default','genSalt','hash','password','compare','comparePassword','gravatar','email','https://gravatar.com/avatar/?s=','&d=retro','md5','update','hex','https://gravatar.com/avatar/','model','User','__importDefault','__esModule','defineProperty','bcrypt-nodejs','mongoose','Schema','pre','save','isModified'];(function(_0x59ee82,_0x5c5ebd){var _0x355abe=function(_0x133aca){while(--_0x133aca){_0x59ee82['push'](_0x59ee82['shift']());}};_0x355abe(++_0x5c5ebd);}(a105_0x11c2,0x1a0));var a105_0x45aa=function(_0x32e15d,_0x76f2d2){_0x32e15d=_0x32e15d-0x0;var _0x134270=a105_0x11c2[_0x32e15d];return _0x134270;};'use strict';var __importDefault=this&&this[a105_0x45aa('0x0')]||function(_0x249d3b){return _0x249d3b&&_0x249d3b[a105_0x45aa('0x1')]?_0x249d3b:{'default':_0x249d3b};};Object[a105_0x45aa('0x2')](exports,a105_0x45aa('0x1'),{'value':!![]});const bcrypt_nodejs_1=__importDefault(require(a105_0x45aa('0x3')));const crypto_1=__importDefault(require('crypto'));const mongoose_1=__importDefault(require(a105_0x45aa('0x4')));const userSchema=new mongoose_1['default'][(a105_0x45aa('0x5'))]({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema[a105_0x45aa('0x6')](a105_0x45aa('0x7'),function save(_0x951a58){const _0x42445e=this;if(!_0x42445e[a105_0x45aa('0x8')]('password')){return _0x951a58();}bcrypt_nodejs_1[a105_0x45aa('0x9')][a105_0x45aa('0xa')](0xa,(_0x57b8d3,_0x4c248d)=>{if(_0x57b8d3){return _0x951a58(_0x57b8d3);}bcrypt_nodejs_1[a105_0x45aa('0x9')][a105_0x45aa('0xb')](_0x42445e[a105_0x45aa('0xc')],_0x4c248d,undefined,(_0x57b8d3,_0x1e005e)=>{if(_0x57b8d3){return _0x951a58(_0x57b8d3);}_0x42445e[a105_0x45aa('0xc')]=_0x1e005e;_0x951a58();});});});const comparePassword=function(_0x52feb2,_0x5c65f2){bcrypt_nodejs_1['default'][a105_0x45aa('0xd')](_0x52feb2,this[a105_0x45aa('0xc')],(_0x968c4a,_0x27cdc2)=>{_0x5c65f2(_0x968c4a,_0x27cdc2);});};userSchema['methods'][a105_0x45aa('0xe')]=comparePassword;userSchema['methods'][a105_0x45aa('0xf')]=function(_0x3af08c){if(!_0x3af08c){_0x3af08c=0xc8;}if(!this[a105_0x45aa('0x10')]){return a105_0x45aa('0x11')+_0x3af08c+a105_0x45aa('0x12');}const _0x2d8e88=crypto_1[a105_0x45aa('0x9')]['createHash'](a105_0x45aa('0x13'))[a105_0x45aa('0x14')](this[a105_0x45aa('0x10')])['digest'](a105_0x45aa('0x15'));return a105_0x45aa('0x16')+_0x2d8e88+'?s='+_0x3af08c+a105_0x45aa('0x12');};const User=mongoose_1[a105_0x45aa('0x9')][a105_0x45aa('0x17')](a105_0x45aa('0x18'),userSchema);exports[a105_0x45aa('0x9')]=User;