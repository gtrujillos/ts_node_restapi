var a105_0x302b=['password','genSalt','default','hash','compare','methods','comparePassword','gravatar','https://gravatar.com/avatar/?s=','&d=retro','createHash','email','digest','hex','?s=','model','__importDefault','__esModule','defineProperty','bcrypt-nodejs','mongoose','Schema','pre','save'];(function(_0x3d1cac,_0x2cfbd2){var _0x572ecc=function(_0x3a7ee1){while(--_0x3a7ee1){_0x3d1cac['push'](_0x3d1cac['shift']());}};_0x572ecc(++_0x2cfbd2);}(a105_0x302b,0x1c0));var a105_0x1704=function(_0x573cd8,_0x10e149){_0x573cd8=_0x573cd8-0x0;var _0x538cef=a105_0x302b[_0x573cd8];return _0x538cef;};'use strict';var __importDefault=this&&this[a105_0x1704('0x0')]||function(_0x61ae28){return _0x61ae28&&_0x61ae28[a105_0x1704('0x1')]?_0x61ae28:{'default':_0x61ae28};};Object[a105_0x1704('0x2')](exports,a105_0x1704('0x1'),{'value':!![]});const bcrypt_nodejs_1=__importDefault(require(a105_0x1704('0x3')));const crypto_1=__importDefault(require('crypto'));const mongoose_1=__importDefault(require(a105_0x1704('0x4')));const userSchema=new mongoose_1['default'][(a105_0x1704('0x5'))]({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema[a105_0x1704('0x6')](a105_0x1704('0x7'),function save(_0x109a6b){const _0x2af923=this;if(!_0x2af923['isModified'](a105_0x1704('0x8'))){return _0x109a6b();}bcrypt_nodejs_1['default'][a105_0x1704('0x9')](0xa,(_0x29e96a,_0x470c53)=>{if(_0x29e96a){return _0x109a6b(_0x29e96a);}bcrypt_nodejs_1[a105_0x1704('0xa')][a105_0x1704('0xb')](_0x2af923['password'],_0x470c53,undefined,(_0x29e96a,_0x37c000)=>{if(_0x29e96a){return _0x109a6b(_0x29e96a);}_0x2af923[a105_0x1704('0x8')]=_0x37c000;_0x109a6b();});});});const comparePassword=function(_0x16461e,_0x22b404){bcrypt_nodejs_1[a105_0x1704('0xa')][a105_0x1704('0xc')](_0x16461e,this['password'],(_0x14e199,_0x1d812e)=>{_0x22b404(_0x14e199,_0x1d812e);});};userSchema[a105_0x1704('0xd')][a105_0x1704('0xe')]=comparePassword;userSchema['methods'][a105_0x1704('0xf')]=function(_0x842056){if(!_0x842056){_0x842056=0xc8;}if(!this['email']){return a105_0x1704('0x10')+_0x842056+a105_0x1704('0x11');}const _0x4275a9=crypto_1[a105_0x1704('0xa')][a105_0x1704('0x12')]('md5')['update'](this[a105_0x1704('0x13')])[a105_0x1704('0x14')](a105_0x1704('0x15'));return'https://gravatar.com/avatar/'+_0x4275a9+a105_0x1704('0x16')+_0x842056+'&d=retro';};const User=mongoose_1['default'][a105_0x1704('0x17')]('User',userSchema);exports[a105_0x1704('0xa')]=User;