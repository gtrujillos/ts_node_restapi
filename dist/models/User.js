var a307_0x3d15=['update','digest','hex','defineProperty','bcrypt-nodejs','crypto','default','Schema','pre','isModified','password','genSalt','compare','methods','comparePassword','gravatar','email','https://gravatar.com/avatar/?s=','&d=retro','createHash','md5'];(function(_0x3b05b0,_0x417f44){var _0xb28702=function(_0x4b20bb){while(--_0x4b20bb){_0x3b05b0['push'](_0x3b05b0['shift']());}};_0xb28702(++_0x417f44);}(a307_0x3d15,0xea));var a307_0x2a44=function(_0x951c1c,_0x1a7de4){_0x951c1c=_0x951c1c-0x0;var _0x5044c8=a307_0x3d15[_0x951c1c];return _0x5044c8;};'use strict';var __importDefault=this&&this['__importDefault']||function(_0x734721){return _0x734721&&_0x734721['__esModule']?_0x734721:{'default':_0x734721};};Object[a307_0x2a44('0x0')](exports,'__esModule',{'value':!![]});const bcrypt_nodejs_1=__importDefault(require(a307_0x2a44('0x1')));const crypto_1=__importDefault(require(a307_0x2a44('0x2')));const mongoose_1=__importDefault(require('mongoose'));const userSchema=new mongoose_1[(a307_0x2a44('0x3'))][(a307_0x2a44('0x4'))]({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema[a307_0x2a44('0x5')]('save',function save(_0x2486ae){const _0x450c20=this;if(!_0x450c20[a307_0x2a44('0x6')](a307_0x2a44('0x7'))){return _0x2486ae();}bcrypt_nodejs_1['default'][a307_0x2a44('0x8')](0xa,(_0x3f01a5,_0x36d667)=>{if(_0x3f01a5){return _0x2486ae(_0x3f01a5);}bcrypt_nodejs_1['default']['hash'](_0x450c20[a307_0x2a44('0x7')],_0x36d667,undefined,(_0x3f01a5,_0x24c24f)=>{if(_0x3f01a5){return _0x2486ae(_0x3f01a5);}_0x450c20['password']=_0x24c24f;_0x2486ae();});});});const comparePassword=function(_0x2533c7,_0x3bc838){bcrypt_nodejs_1[a307_0x2a44('0x3')][a307_0x2a44('0x9')](_0x2533c7,this[a307_0x2a44('0x7')],(_0x1c7db2,_0x2e138d)=>{_0x3bc838(_0x1c7db2,_0x2e138d);});};userSchema[a307_0x2a44('0xa')][a307_0x2a44('0xb')]=comparePassword;userSchema['methods'][a307_0x2a44('0xc')]=function(_0xb691cf){if(!_0xb691cf){_0xb691cf=0xc8;}if(!this[a307_0x2a44('0xd')]){return a307_0x2a44('0xe')+_0xb691cf+a307_0x2a44('0xf');}const _0x5092bd=crypto_1[a307_0x2a44('0x3')][a307_0x2a44('0x10')](a307_0x2a44('0x11'))[a307_0x2a44('0x12')](this[a307_0x2a44('0xd')])[a307_0x2a44('0x13')](a307_0x2a44('0x14'));return'https://gravatar.com/avatar/'+_0x5092bd+'?s='+_0xb691cf+'&d=retro';};const User=mongoose_1[a307_0x2a44('0x3')]['model']('User',userSchema);exports['default']=User;