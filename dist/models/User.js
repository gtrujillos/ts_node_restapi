var a216_0x3c3a=['bcrypt-nodejs','crypto','mongoose','save','isModified','password','default','genSalt','hash','compare','methods','comparePassword','gravatar','email','https://gravatar.com/avatar/?s=','&d=retro','md5','update','hex','https://gravatar.com/avatar/','?s=','model','User','__importDefault','__esModule'];(function(_0x571588,_0x3cdf19){var _0x59e977=function(_0x16d605){while(--_0x16d605){_0x571588['push'](_0x571588['shift']());}};_0x59e977(++_0x3cdf19);}(a216_0x3c3a,0x1d9));var a216_0x4b62=function(_0x565682,_0x1084f5){_0x565682=_0x565682-0x0;var _0xdd4ab2=a216_0x3c3a[_0x565682];return _0xdd4ab2;};'use strict';var __importDefault=this&&this[a216_0x4b62('0x0')]||function(_0x4fcbb2){return _0x4fcbb2&&_0x4fcbb2[a216_0x4b62('0x1')]?_0x4fcbb2:{'default':_0x4fcbb2};};Object['defineProperty'](exports,a216_0x4b62('0x1'),{'value':!![]});const bcrypt_nodejs_1=__importDefault(require(a216_0x4b62('0x2')));const crypto_1=__importDefault(require(a216_0x4b62('0x3')));const mongoose_1=__importDefault(require(a216_0x4b62('0x4')));const userSchema=new mongoose_1['default']['Schema']({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema['pre'](a216_0x4b62('0x5'),function save(_0x5267bf){const _0xcc5897=this;if(!_0xcc5897[a216_0x4b62('0x6')](a216_0x4b62('0x7'))){return _0x5267bf();}bcrypt_nodejs_1[a216_0x4b62('0x8')][a216_0x4b62('0x9')](0xa,(_0x878242,_0x1b327e)=>{if(_0x878242){return _0x5267bf(_0x878242);}bcrypt_nodejs_1[a216_0x4b62('0x8')][a216_0x4b62('0xa')](_0xcc5897[a216_0x4b62('0x7')],_0x1b327e,undefined,(_0x878242,_0x2b9f9a)=>{if(_0x878242){return _0x5267bf(_0x878242);}_0xcc5897[a216_0x4b62('0x7')]=_0x2b9f9a;_0x5267bf();});});});const comparePassword=function(_0x3b4827,_0x5a8602){bcrypt_nodejs_1[a216_0x4b62('0x8')][a216_0x4b62('0xb')](_0x3b4827,this['password'],(_0xb6e4d3,_0x2e5ddc)=>{_0x5a8602(_0xb6e4d3,_0x2e5ddc);});};userSchema[a216_0x4b62('0xc')][a216_0x4b62('0xd')]=comparePassword;userSchema['methods'][a216_0x4b62('0xe')]=function(_0x3e6c7d){if(!_0x3e6c7d){_0x3e6c7d=0xc8;}if(!this[a216_0x4b62('0xf')]){return a216_0x4b62('0x10')+_0x3e6c7d+a216_0x4b62('0x11');}const _0x423321=crypto_1[a216_0x4b62('0x8')]['createHash'](a216_0x4b62('0x12'))[a216_0x4b62('0x13')](this[a216_0x4b62('0xf')])['digest'](a216_0x4b62('0x14'));return a216_0x4b62('0x15')+_0x423321+a216_0x4b62('0x16')+_0x3e6c7d+a216_0x4b62('0x11');};const User=mongoose_1['default'][a216_0x4b62('0x17')](a216_0x4b62('0x18'),userSchema);exports[a216_0x4b62('0x8')]=User;