var a105_0x14e0=['comparePassword','methods','gravatar','email','https://gravatar.com/avatar/?s=','&d=retro','createHash','md5','update','hex','https://gravatar.com/avatar/','model','User','__importDefault','defineProperty','__esModule','bcrypt-nodejs','mongoose','default','Schema','pre','save','isModified','password','genSalt','hash'];(function(_0x22e615,_0x575146){var _0x32362a=function(_0x5ce7d1){while(--_0x5ce7d1){_0x22e615['push'](_0x22e615['shift']());}};_0x32362a(++_0x575146);}(a105_0x14e0,0x193));var a105_0x41da=function(_0x2f184b,_0x150adb){_0x2f184b=_0x2f184b-0x0;var _0x66a54d=a105_0x14e0[_0x2f184b];return _0x66a54d;};'use strict';var __importDefault=this&&this[a105_0x41da('0x0')]||function(_0x30ebb8){return _0x30ebb8&&_0x30ebb8['__esModule']?_0x30ebb8:{'default':_0x30ebb8};};Object[a105_0x41da('0x1')](exports,a105_0x41da('0x2'),{'value':!![]});const bcrypt_nodejs_1=__importDefault(require(a105_0x41da('0x3')));const crypto_1=__importDefault(require('crypto'));const mongoose_1=__importDefault(require(a105_0x41da('0x4')));const userSchema=new mongoose_1[(a105_0x41da('0x5'))][(a105_0x41da('0x6'))]({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema[a105_0x41da('0x7')](a105_0x41da('0x8'),function save(_0x3cac45){const _0x2c8b8f=this;if(!_0x2c8b8f[a105_0x41da('0x9')](a105_0x41da('0xa'))){return _0x3cac45();}bcrypt_nodejs_1[a105_0x41da('0x5')][a105_0x41da('0xb')](0xa,(_0xa5c325,_0x30d11e)=>{if(_0xa5c325){return _0x3cac45(_0xa5c325);}bcrypt_nodejs_1[a105_0x41da('0x5')][a105_0x41da('0xc')](_0x2c8b8f['password'],_0x30d11e,undefined,(_0xa5c325,_0x4d2637)=>{if(_0xa5c325){return _0x3cac45(_0xa5c325);}_0x2c8b8f[a105_0x41da('0xa')]=_0x4d2637;_0x3cac45();});});});const comparePassword=function(_0x485d30,_0x16ade8){bcrypt_nodejs_1[a105_0x41da('0x5')]['compare'](_0x485d30,this[a105_0x41da('0xa')],(_0x160e7e,_0x450f8a)=>{_0x16ade8(_0x160e7e,_0x450f8a);});};userSchema['methods'][a105_0x41da('0xd')]=comparePassword;userSchema[a105_0x41da('0xe')][a105_0x41da('0xf')]=function(_0x54a37a){if(!_0x54a37a){_0x54a37a=0xc8;}if(!this[a105_0x41da('0x10')]){return a105_0x41da('0x11')+_0x54a37a+a105_0x41da('0x12');}const _0xe59325=crypto_1[a105_0x41da('0x5')][a105_0x41da('0x13')](a105_0x41da('0x14'))[a105_0x41da('0x15')](this['email'])['digest'](a105_0x41da('0x16'));return a105_0x41da('0x17')+_0xe59325+'?s='+_0x54a37a+a105_0x41da('0x12');};const User=mongoose_1[a105_0x41da('0x5')][a105_0x41da('0x18')](a105_0x41da('0x19'),userSchema);exports['default']=User;