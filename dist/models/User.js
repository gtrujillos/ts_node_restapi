var a97_0x39ee=['update','digest','hex','https://gravatar.com/avatar/','model','User','__importDefault','defineProperty','__esModule','bcrypt-nodejs','crypto','mongoose','Schema','isModified','password','default','genSalt','hash','methods','comparePassword','gravatar','https://gravatar.com/avatar/?s=','&d=retro','createHash','md5'];(function(_0x57cfc9,_0x5a486a){var _0x16fbd2=function(_0x511b00){while(--_0x511b00){_0x57cfc9['push'](_0x57cfc9['shift']());}};_0x16fbd2(++_0x5a486a);}(a97_0x39ee,0x17d));var a97_0x31b1=function(_0x106885,_0x3f5c39){_0x106885=_0x106885-0x0;var _0x511cae=a97_0x39ee[_0x106885];return _0x511cae;};'use strict';var __importDefault=this&&this[a97_0x31b1('0x0')]||function(_0x3fdde3){return _0x3fdde3&&_0x3fdde3['__esModule']?_0x3fdde3:{'default':_0x3fdde3};};Object[a97_0x31b1('0x1')](exports,a97_0x31b1('0x2'),{'value':!![]});const bcrypt_nodejs_1=__importDefault(require(a97_0x31b1('0x3')));const crypto_1=__importDefault(require(a97_0x31b1('0x4')));const mongoose_1=__importDefault(require(a97_0x31b1('0x5')));const userSchema=new mongoose_1['default'][(a97_0x31b1('0x6'))]({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema['pre']('save',function save(_0x122bf9){const _0x3c8078=this;if(!_0x3c8078[a97_0x31b1('0x7')](a97_0x31b1('0x8'))){return _0x122bf9();}bcrypt_nodejs_1[a97_0x31b1('0x9')][a97_0x31b1('0xa')](0xa,(_0x5d4428,_0x30bb3a)=>{if(_0x5d4428){return _0x122bf9(_0x5d4428);}bcrypt_nodejs_1[a97_0x31b1('0x9')][a97_0x31b1('0xb')](_0x3c8078['password'],_0x30bb3a,undefined,(_0x5d4428,_0xc69dd9)=>{if(_0x5d4428){return _0x122bf9(_0x5d4428);}_0x3c8078[a97_0x31b1('0x8')]=_0xc69dd9;_0x122bf9();});});});const comparePassword=function(_0x4a78b9,_0x179f70){bcrypt_nodejs_1[a97_0x31b1('0x9')]['compare'](_0x4a78b9,this[a97_0x31b1('0x8')],(_0xf0857a,_0x2a1426)=>{_0x179f70(_0xf0857a,_0x2a1426);});};userSchema[a97_0x31b1('0xc')][a97_0x31b1('0xd')]=comparePassword;userSchema[a97_0x31b1('0xc')][a97_0x31b1('0xe')]=function(_0x271d1c){if(!_0x271d1c){_0x271d1c=0xc8;}if(!this['email']){return a97_0x31b1('0xf')+_0x271d1c+a97_0x31b1('0x10');}const _0x2372de=crypto_1[a97_0x31b1('0x9')][a97_0x31b1('0x11')](a97_0x31b1('0x12'))[a97_0x31b1('0x13')](this['email'])[a97_0x31b1('0x14')](a97_0x31b1('0x15'));return a97_0x31b1('0x16')+_0x2372de+'?s='+_0x271d1c+a97_0x31b1('0x10');};const User=mongoose_1[a97_0x31b1('0x9')][a97_0x31b1('0x17')](a97_0x31b1('0x18'),userSchema);exports[a97_0x31b1('0x9')]=User;