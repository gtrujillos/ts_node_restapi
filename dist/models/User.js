var a216_0x51f5=['Schema','isModified','password','genSalt','hash','comparePassword','gravatar','email','https://gravatar.com/avatar/?s=','&d=retro','update','digest','hex','https://gravatar.com/avatar/','?s=','model','User','__importDefault','__esModule','defineProperty','bcrypt-nodejs','mongoose','default'];(function(_0x1f6091,_0x1938fe){var _0x496c0f=function(_0x105115){while(--_0x105115){_0x1f6091['push'](_0x1f6091['shift']());}};_0x496c0f(++_0x1938fe);}(a216_0x51f5,0xe0));var a216_0x55fb=function(_0x23d45b,_0x3547ca){_0x23d45b=_0x23d45b-0x0;var _0x43f9bd=a216_0x51f5[_0x23d45b];return _0x43f9bd;};'use strict';var __importDefault=this&&this[a216_0x55fb('0x0')]||function(_0x38f647){return _0x38f647&&_0x38f647[a216_0x55fb('0x1')]?_0x38f647:{'default':_0x38f647};};Object[a216_0x55fb('0x2')](exports,a216_0x55fb('0x1'),{'value':!![]});const bcrypt_nodejs_1=__importDefault(require(a216_0x55fb('0x3')));const crypto_1=__importDefault(require('crypto'));const mongoose_1=__importDefault(require(a216_0x55fb('0x4')));const userSchema=new mongoose_1[(a216_0x55fb('0x5'))][(a216_0x55fb('0x6'))]({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema['pre']('save',function save(_0x444476){const _0x59b355=this;if(!_0x59b355[a216_0x55fb('0x7')](a216_0x55fb('0x8'))){return _0x444476();}bcrypt_nodejs_1['default'][a216_0x55fb('0x9')](0xa,(_0x35490a,_0x26d5cb)=>{if(_0x35490a){return _0x444476(_0x35490a);}bcrypt_nodejs_1['default'][a216_0x55fb('0xa')](_0x59b355[a216_0x55fb('0x8')],_0x26d5cb,undefined,(_0x35490a,_0x345139)=>{if(_0x35490a){return _0x444476(_0x35490a);}_0x59b355[a216_0x55fb('0x8')]=_0x345139;_0x444476();});});});const comparePassword=function(_0x22c1f7,_0x224f18){bcrypt_nodejs_1[a216_0x55fb('0x5')]['compare'](_0x22c1f7,this[a216_0x55fb('0x8')],(_0x5327a8,_0x1a54ea)=>{_0x224f18(_0x5327a8,_0x1a54ea);});};userSchema['methods'][a216_0x55fb('0xb')]=comparePassword;userSchema['methods'][a216_0x55fb('0xc')]=function(_0x2c5dc9){if(!_0x2c5dc9){_0x2c5dc9=0xc8;}if(!this[a216_0x55fb('0xd')]){return a216_0x55fb('0xe')+_0x2c5dc9+a216_0x55fb('0xf');}const _0x46ec67=crypto_1[a216_0x55fb('0x5')]['createHash']('md5')[a216_0x55fb('0x10')](this[a216_0x55fb('0xd')])[a216_0x55fb('0x11')](a216_0x55fb('0x12'));return a216_0x55fb('0x13')+_0x46ec67+a216_0x55fb('0x14')+_0x2c5dc9+a216_0x55fb('0xf');};const User=mongoose_1[a216_0x55fb('0x5')][a216_0x55fb('0x15')](a216_0x55fb('0x16'),userSchema);exports['default']=User;