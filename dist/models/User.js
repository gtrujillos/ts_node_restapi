var a105_0x24a4=['Schema','pre','save','isModified','password','genSalt','compare','methods','gravatar','email','&d=retro','?s=','model','User','__importDefault','__esModule','bcrypt-nodejs','crypto','mongoose','default'];(function(_0x2d8f05,_0x4b81bb){var _0x4d74cb=function(_0x32719f){while(--_0x32719f){_0x2d8f05['push'](_0x2d8f05['shift']());}};_0x4d74cb(++_0x4b81bb);}(a105_0x24a4,0xea));var a105_0x2be7=function(_0x334989,_0x5019f8){_0x334989=_0x334989-0x0;var _0x476707=a105_0x24a4[_0x334989];return _0x476707;};'use strict';var __importDefault=this&&this[a105_0x2be7('0x0')]||function(_0x578504){return _0x578504&&_0x578504[a105_0x2be7('0x1')]?_0x578504:{'default':_0x578504};};Object['defineProperty'](exports,a105_0x2be7('0x1'),{'value':!![]});const bcrypt_nodejs_1=__importDefault(require(a105_0x2be7('0x2')));const crypto_1=__importDefault(require(a105_0x2be7('0x3')));const mongoose_1=__importDefault(require(a105_0x2be7('0x4')));const userSchema=new mongoose_1[(a105_0x2be7('0x5'))][(a105_0x2be7('0x6'))]({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema[a105_0x2be7('0x7')](a105_0x2be7('0x8'),function save(_0x507ba8){const _0x2c1947=this;if(!_0x2c1947[a105_0x2be7('0x9')](a105_0x2be7('0xa'))){return _0x507ba8();}bcrypt_nodejs_1[a105_0x2be7('0x5')][a105_0x2be7('0xb')](0xa,(_0x4e616c,_0x32b11b)=>{if(_0x4e616c){return _0x507ba8(_0x4e616c);}bcrypt_nodejs_1[a105_0x2be7('0x5')]['hash'](_0x2c1947[a105_0x2be7('0xa')],_0x32b11b,undefined,(_0x4e616c,_0xc63264)=>{if(_0x4e616c){return _0x507ba8(_0x4e616c);}_0x2c1947['password']=_0xc63264;_0x507ba8();});});});const comparePassword=function(_0x3614f9,_0x5ca601){bcrypt_nodejs_1[a105_0x2be7('0x5')][a105_0x2be7('0xc')](_0x3614f9,this[a105_0x2be7('0xa')],(_0x63270e,_0x3bc31f)=>{_0x5ca601(_0x63270e,_0x3bc31f);});};userSchema[a105_0x2be7('0xd')]['comparePassword']=comparePassword;userSchema[a105_0x2be7('0xd')][a105_0x2be7('0xe')]=function(_0x55206e){if(!_0x55206e){_0x55206e=0xc8;}if(!this[a105_0x2be7('0xf')]){return'https://gravatar.com/avatar/?s='+_0x55206e+a105_0x2be7('0x10');}const _0x5084d5=crypto_1[a105_0x2be7('0x5')]['createHash']('md5')['update'](this['email'])['digest']('hex');return'https://gravatar.com/avatar/'+_0x5084d5+a105_0x2be7('0x11')+_0x55206e+'&d=retro';};const User=mongoose_1[a105_0x2be7('0x5')][a105_0x2be7('0x12')](a105_0x2be7('0x13'),userSchema);exports[a105_0x2be7('0x5')]=User;