var a104_0xfff6=['default','Schema','pre','save','isModified','password','genSalt','hash','methods','comparePassword','gravatar','email','https://gravatar.com/avatar/?s=','&d=retro','createHash','md5','update','digest','?s=','model','User','__importDefault','__esModule','defineProperty','bcrypt-nodejs','mongoose'];(function(_0x45a6f6,_0x343842){var _0x5e03be=function(_0x48f4d1){while(--_0x48f4d1){_0x45a6f6['push'](_0x45a6f6['shift']());}};_0x5e03be(++_0x343842);}(a104_0xfff6,0xb1));var a104_0x39ce=function(_0x450fc3,_0xa26bbd){_0x450fc3=_0x450fc3-0x0;var _0xefe261=a104_0xfff6[_0x450fc3];return _0xefe261;};'use strict';var __importDefault=this&&this[a104_0x39ce('0x0')]||function(_0x287855){return _0x287855&&_0x287855[a104_0x39ce('0x1')]?_0x287855:{'default':_0x287855};};Object[a104_0x39ce('0x2')](exports,a104_0x39ce('0x1'),{'value':!![]});const bcrypt_nodejs_1=__importDefault(require(a104_0x39ce('0x3')));const crypto_1=__importDefault(require('crypto'));const mongoose_1=__importDefault(require(a104_0x39ce('0x4')));const userSchema=new mongoose_1[(a104_0x39ce('0x5'))][(a104_0x39ce('0x6'))]({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema[a104_0x39ce('0x7')](a104_0x39ce('0x8'),function save(_0x3491af){const _0x57a1d0=this;if(!_0x57a1d0[a104_0x39ce('0x9')](a104_0x39ce('0xa'))){return _0x3491af();}bcrypt_nodejs_1[a104_0x39ce('0x5')][a104_0x39ce('0xb')](0xa,(_0x45f217,_0x5d1a76)=>{if(_0x45f217){return _0x3491af(_0x45f217);}bcrypt_nodejs_1['default'][a104_0x39ce('0xc')](_0x57a1d0[a104_0x39ce('0xa')],_0x5d1a76,undefined,(_0x45f217,_0x4fcd6d)=>{if(_0x45f217){return _0x3491af(_0x45f217);}_0x57a1d0[a104_0x39ce('0xa')]=_0x4fcd6d;_0x3491af();});});});const comparePassword=function(_0x53d6ae,_0x1c7b02){bcrypt_nodejs_1[a104_0x39ce('0x5')]['compare'](_0x53d6ae,this[a104_0x39ce('0xa')],(_0x49f334,_0x398195)=>{_0x1c7b02(_0x49f334,_0x398195);});};userSchema[a104_0x39ce('0xd')][a104_0x39ce('0xe')]=comparePassword;userSchema['methods'][a104_0x39ce('0xf')]=function(_0x5e6ab9){if(!_0x5e6ab9){_0x5e6ab9=0xc8;}if(!this[a104_0x39ce('0x10')]){return a104_0x39ce('0x11')+_0x5e6ab9+a104_0x39ce('0x12');}const _0x2ba3bd=crypto_1[a104_0x39ce('0x5')][a104_0x39ce('0x13')](a104_0x39ce('0x14'))[a104_0x39ce('0x15')](this['email'])[a104_0x39ce('0x16')]('hex');return'https://gravatar.com/avatar/'+_0x2ba3bd+a104_0x39ce('0x17')+_0x5e6ab9+'&d=retro';};const User=mongoose_1[a104_0x39ce('0x5')][a104_0x39ce('0x18')](a104_0x39ce('0x19'),userSchema);exports[a104_0x39ce('0x5')]=User;