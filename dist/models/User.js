var a111_0x46a9=['model','User','__importDefault','__esModule','bcrypt-nodejs','crypto','mongoose','Schema','default','genSalt','hash','password','compare','methods','gravatar','email','https://gravatar.com/avatar/?s=','&d=retro','createHash','md5','update','digest','hex','?s='];(function(_0x911cfe,_0xa2e40e){var _0x87d005=function(_0x3071af){while(--_0x3071af){_0x911cfe['push'](_0x911cfe['shift']());}};_0x87d005(++_0xa2e40e);}(a111_0x46a9,0x16a));var a111_0x3a24=function(_0x236e9e,_0x1ce114){_0x236e9e=_0x236e9e-0x0;var _0x2e0522=a111_0x46a9[_0x236e9e];return _0x2e0522;};'use strict';var __importDefault=this&&this[a111_0x3a24('0x0')]||function(_0x4ac6a9){return _0x4ac6a9&&_0x4ac6a9[a111_0x3a24('0x1')]?_0x4ac6a9:{'default':_0x4ac6a9};};Object['defineProperty'](exports,a111_0x3a24('0x1'),{'value':!![]});const bcrypt_nodejs_1=__importDefault(require(a111_0x3a24('0x2')));const crypto_1=__importDefault(require(a111_0x3a24('0x3')));const mongoose_1=__importDefault(require(a111_0x3a24('0x4')));const userSchema=new mongoose_1['default'][(a111_0x3a24('0x5'))]({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema['pre']('save',function save(_0x4eef2e){const _0x2ed316=this;if(!_0x2ed316['isModified']('password')){return _0x4eef2e();}bcrypt_nodejs_1[a111_0x3a24('0x6')][a111_0x3a24('0x7')](0xa,(_0x545964,_0x5af625)=>{if(_0x545964){return _0x4eef2e(_0x545964);}bcrypt_nodejs_1[a111_0x3a24('0x6')][a111_0x3a24('0x8')](_0x2ed316[a111_0x3a24('0x9')],_0x5af625,undefined,(_0x545964,_0x1d0203)=>{if(_0x545964){return _0x4eef2e(_0x545964);}_0x2ed316[a111_0x3a24('0x9')]=_0x1d0203;_0x4eef2e();});});});const comparePassword=function(_0x4b001b,_0x583d35){bcrypt_nodejs_1[a111_0x3a24('0x6')][a111_0x3a24('0xa')](_0x4b001b,this['password'],(_0x752f64,_0x44b668)=>{_0x583d35(_0x752f64,_0x44b668);});};userSchema[a111_0x3a24('0xb')]['comparePassword']=comparePassword;userSchema['methods'][a111_0x3a24('0xc')]=function(_0xb69b0a){if(!_0xb69b0a){_0xb69b0a=0xc8;}if(!this[a111_0x3a24('0xd')]){return a111_0x3a24('0xe')+_0xb69b0a+a111_0x3a24('0xf');}const _0x391cab=crypto_1[a111_0x3a24('0x6')][a111_0x3a24('0x10')](a111_0x3a24('0x11'))[a111_0x3a24('0x12')](this[a111_0x3a24('0xd')])[a111_0x3a24('0x13')](a111_0x3a24('0x14'));return'https://gravatar.com/avatar/'+_0x391cab+a111_0x3a24('0x15')+_0xb69b0a+a111_0x3a24('0xf');};const User=mongoose_1[a111_0x3a24('0x6')][a111_0x3a24('0x16')](a111_0x3a24('0x17'),userSchema);exports['default']=User;