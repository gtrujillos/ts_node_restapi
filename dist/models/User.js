var a100_0x1f98=['methods','comparePassword','gravatar','https://gravatar.com/avatar/?s=','&d=retro','createHash','md5','update','digest','https://gravatar.com/avatar/','?s=','model','__importDefault','__esModule','bcrypt-nodejs','crypto','mongoose','Schema','pre','save','isModified','password','default','hash','compare'];(function(_0x4d5041,_0xbf0097){var _0x4cfa34=function(_0x11b654){while(--_0x11b654){_0x4d5041['push'](_0x4d5041['shift']());}};_0x4cfa34(++_0xbf0097);}(a100_0x1f98,0x70));var a100_0x227f=function(_0x240c54,_0x10bbf7){_0x240c54=_0x240c54-0x0;var _0x5aebfa=a100_0x1f98[_0x240c54];return _0x5aebfa;};'use strict';var __importDefault=this&&this[a100_0x227f('0x0')]||function(_0x19796d){return _0x19796d&&_0x19796d['__esModule']?_0x19796d:{'default':_0x19796d};};Object['defineProperty'](exports,a100_0x227f('0x1'),{'value':!![]});const bcrypt_nodejs_1=__importDefault(require(a100_0x227f('0x2')));const crypto_1=__importDefault(require(a100_0x227f('0x3')));const mongoose_1=__importDefault(require(a100_0x227f('0x4')));const userSchema=new mongoose_1['default'][(a100_0x227f('0x5'))]({'email':{'type':String,'unique':!![]},'password':String,'passwordResetToken':String,'passwordResetExpires':Date,'facebook':String,'twitter':String,'google':String,'tokens':Array,'profile':{'name':String,'gender':String,'location':String,'website':String,'picture':String}},{'timestamps':!![]});userSchema[a100_0x227f('0x6')](a100_0x227f('0x7'),function save(_0x274f9c){const _0x213a2f=this;if(!_0x213a2f[a100_0x227f('0x8')](a100_0x227f('0x9'))){return _0x274f9c();}bcrypt_nodejs_1[a100_0x227f('0xa')]['genSalt'](0xa,(_0xe739dd,_0x33bd9a)=>{if(_0xe739dd){return _0x274f9c(_0xe739dd);}bcrypt_nodejs_1['default'][a100_0x227f('0xb')](_0x213a2f['password'],_0x33bd9a,undefined,(_0xe739dd,_0x4aecc4)=>{if(_0xe739dd){return _0x274f9c(_0xe739dd);}_0x213a2f[a100_0x227f('0x9')]=_0x4aecc4;_0x274f9c();});});});const comparePassword=function(_0x4e1823,_0x5cf952){bcrypt_nodejs_1[a100_0x227f('0xa')][a100_0x227f('0xc')](_0x4e1823,this[a100_0x227f('0x9')],(_0x4f9f47,_0x3bedb0)=>{_0x5cf952(_0x4f9f47,_0x3bedb0);});};userSchema[a100_0x227f('0xd')][a100_0x227f('0xe')]=comparePassword;userSchema[a100_0x227f('0xd')][a100_0x227f('0xf')]=function(_0x374808){if(!_0x374808){_0x374808=0xc8;}if(!this['email']){return a100_0x227f('0x10')+_0x374808+a100_0x227f('0x11');}const _0x37e8aa=crypto_1[a100_0x227f('0xa')][a100_0x227f('0x12')](a100_0x227f('0x13'))[a100_0x227f('0x14')](this['email'])[a100_0x227f('0x15')]('hex');return a100_0x227f('0x16')+_0x37e8aa+a100_0x227f('0x17')+_0x374808+a100_0x227f('0x11');};const User=mongoose_1[a100_0x227f('0xa')][a100_0x227f('0x18')]('User',userSchema);exports['default']=User;