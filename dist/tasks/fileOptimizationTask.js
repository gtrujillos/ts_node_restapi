var a199_0x24c9=['-vf','scale=1920:1080','stdout','data','Converting\x20','stderr','stderr:\x20','close','finished\x20mp4\x20convert','default','defineProperty','__esModule','spawn','fs-extra','is-image','start','bind','exploreDir','FILES_FOLDER','log','exploreDir:\x20','readdir','forEach','split','slice','join','videoConverting','existsSync','.mp4','createImageVideo','ffmpeg','-loop','glob','-c:v','-pix_fmt'];(function(_0xef52ea,_0x1c7418){var _0x325e23=function(_0x20fc91){while(--_0x20fc91){_0xef52ea['push'](_0xef52ea['shift']());}};_0x325e23(++_0x1c7418);}(a199_0x24c9,0x1ae));var a199_0x27cf=function(_0x261e24,_0x4f6086){_0x261e24=_0x261e24-0x0;var _0x3a6151=a199_0x24c9[_0x261e24];return _0x3a6151;};'use strict';Object[a199_0x27cf('0x0')](exports,a199_0x27cf('0x1'),{'value':!![]});const fs=require('fs');const spawn=require('child_process')[a199_0x27cf('0x2')];const fsExtra=require(a199_0x27cf('0x3'));const isImage=require(a199_0x27cf('0x4'));class FileOptimizationTask{constructor(){this['videoConverting']=![];}[a199_0x27cf('0x5')](){const _0x447fb4=setInterval(function(){this['exploreDir']();}[a199_0x27cf('0x6')](this),0x2710);}[a199_0x27cf('0x7')](){const _0x51aa00=process['env'][a199_0x27cf('0x8')];console[a199_0x27cf('0x9')](a199_0x27cf('0xa')+_0x51aa00);fs[a199_0x27cf('0xb')](_0x51aa00,(_0x864539,_0x52b5fb)=>{if(_0x52b5fb!=null){_0x52b5fb[a199_0x27cf('0xc')](_0x7b18a4=>{const _0x33a70c=0x14;const _0x3137c8=_0x7b18a4[a199_0x27cf('0xd')]('.')[a199_0x27cf('0xe')](0x0,-0x1)[a199_0x27cf('0xf')]('.');if(isImage(_0x7b18a4)&&!this[a199_0x27cf('0x10')]&&!fsExtra[a199_0x27cf('0x11')](_0x51aa00+_0x3137c8+a199_0x27cf('0x12'))){this[a199_0x27cf('0x10')]=!![];this[a199_0x27cf('0x13')](_0x51aa00,_0x7b18a4,_0x33a70c);}});}});}[a199_0x27cf('0x13')](_0x4a36ec,_0x3457cd,_0x2610b4=0xa){const _0x937259=_0x4a36ec+''+_0x3457cd;console[a199_0x27cf('0x9')](_0x937259);console[a199_0x27cf('0x9')](_0x3457cd);const _0x4a470a=_0x3457cd[a199_0x27cf('0xd')]('.')[a199_0x27cf('0xe')](0x0,-0x1)[a199_0x27cf('0xf')]('.');const _0x3ed4a0=a199_0x27cf('0x14');const _0x4a8cc7=['-y','-r','1/2',a199_0x27cf('0x15'),'1','-pattern_type',a199_0x27cf('0x16'),'-i',_0x937259,'-t',String(_0x2610b4),a199_0x27cf('0x17'),'libx264',a199_0x27cf('0x18'),'yuv420p','-r','25',a199_0x27cf('0x19'),a199_0x27cf('0x1a'),_0x4a36ec+_0x4a470a+a199_0x27cf('0x12')];const _0x1f14e1=spawn(_0x3ed4a0,_0x4a8cc7);_0x1f14e1[a199_0x27cf('0x1b')]['on'](a199_0x27cf('0x1c'),function(_0x157a47){console[a199_0x27cf('0x9')](a199_0x27cf('0x1d')+_0x937259);});_0x1f14e1[a199_0x27cf('0x1e')]['on']('data',function(_0x224996){console[a199_0x27cf('0x9')](a199_0x27cf('0x1f')+_0x224996);}[a199_0x27cf('0x6')](this));_0x1f14e1['on'](a199_0x27cf('0x20'),function(){console[a199_0x27cf('0x9')](a199_0x27cf('0x21'));this[a199_0x27cf('0x10')]=![];}['bind'](this));}}exports[a199_0x27cf('0x22')]=FileOptimizationTask;