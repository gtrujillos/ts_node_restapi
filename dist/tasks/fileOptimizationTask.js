var a223_0x343e=['stderr:\x20','close','finished\x20mp4\x20convert','defineProperty','__esModule','spawn','fs-extra','is-image','videoConverting','start','exploreDir','bind','env','IMAGE_FILES_FOLDER','log','exploreDir:\x20','readdir','forEach','split','slice','join','existsSync','createImageVideo','ffmpeg','1/2','-loop','-pattern_type','-c:v','libx264','-pix_fmt','yuv420p','-vf','scale=1920:1080','.mp4','stdout','Converting\x20','stderr','data'];(function(_0x2d0c4a,_0x4f1a29){var _0x11f25f=function(_0x3beab5){while(--_0x3beab5){_0x2d0c4a['push'](_0x2d0c4a['shift']());}};_0x11f25f(++_0x4f1a29);}(a223_0x343e,0x17f));var a223_0x519f=function(_0x3e8f68,_0x5e18f4){_0x3e8f68=_0x3e8f68-0x0;var _0x27dedd=a223_0x343e[_0x3e8f68];return _0x27dedd;};'use strict';Object[a223_0x519f('0x0')](exports,a223_0x519f('0x1'),{'value':!![]});const fs=require('fs');const spawn=require('child_process')[a223_0x519f('0x2')];const fsExtra=require(a223_0x519f('0x3'));const isImage=require(a223_0x519f('0x4'));class FileOptimizationTask{constructor(){this[a223_0x519f('0x5')]=![];}[a223_0x519f('0x6')](){const _0x54de71=setInterval(function(){this[a223_0x519f('0x7')]();}[a223_0x519f('0x8')](this),0x2710);}[a223_0x519f('0x7')](){const _0x20ce90=process[a223_0x519f('0x9')][a223_0x519f('0xa')];console[a223_0x519f('0xb')](a223_0x519f('0xc')+_0x20ce90);fs[a223_0x519f('0xd')](_0x20ce90,(_0x5a7bc9,_0x399165)=>{if(_0x399165!=null){_0x399165[a223_0x519f('0xe')](_0xcffaa0=>{const _0x213a7a=0x14;const _0x4c1a67=_0xcffaa0[a223_0x519f('0xf')]('.')[a223_0x519f('0x10')](0x0,-0x1)[a223_0x519f('0x11')]('.');if(isImage(_0xcffaa0)&&!this['videoConverting']&&!fsExtra[a223_0x519f('0x12')](_0x20ce90+_0x4c1a67+'.mp4')){this[a223_0x519f('0x5')]=!![];this[a223_0x519f('0x13')](_0x20ce90,_0xcffaa0,_0x213a7a);}});}});}[a223_0x519f('0x13')](_0x5b5749,_0x375d91,_0x13f01a=0xa){const _0x271207=_0x5b5749+''+_0x375d91;console[a223_0x519f('0xb')](_0x271207);console[a223_0x519f('0xb')](_0x375d91);const _0x399cca=_0x375d91[a223_0x519f('0xf')]('.')[a223_0x519f('0x10')](0x0,-0x1)[a223_0x519f('0x11')]('.');const _0x141e64=a223_0x519f('0x14');const _0x5c19c9=['-y','-r',a223_0x519f('0x15'),a223_0x519f('0x16'),'1',a223_0x519f('0x17'),'glob','-i',_0x271207,'-t',String(_0x13f01a),a223_0x519f('0x18'),a223_0x519f('0x19'),a223_0x519f('0x1a'),a223_0x519f('0x1b'),'-r','25',a223_0x519f('0x1c'),a223_0x519f('0x1d'),_0x5b5749+_0x399cca+a223_0x519f('0x1e')];const _0x4b994d=spawn(_0x141e64,_0x5c19c9);_0x4b994d[a223_0x519f('0x1f')]['on']('data',function(_0x17ab45){console[a223_0x519f('0xb')](a223_0x519f('0x20')+_0x271207);});_0x4b994d[a223_0x519f('0x21')]['on'](a223_0x519f('0x22'),function(_0x377390){console['log'](a223_0x519f('0x23')+_0x377390);}[a223_0x519f('0x8')](this));_0x4b994d['on'](a223_0x519f('0x24'),function(){console[a223_0x519f('0xb')](a223_0x519f('0x25'));this[a223_0x519f('0x5')]=![];}[a223_0x519f('0x8')](this));}}exports['default']=FileOptimizationTask;