var a223_0x1018=['ffmpeg','1/2','-pattern_type','-c:v','-pix_fmt','-vf','scale=1920:1080','.mp4','stderr','data','stderr:\x20','close','finished\x20mp4\x20convert','default','defineProperty','spawn','fs-extra','is-image','exploreDir','bind','env','IMAGE_FILES_FOLDER','exploreDir:\x20','forEach','split','slice','join','videoConverting','existsSync','createImageVideo','log'];(function(_0x2fe515,_0x97554a){var _0x334300=function(_0x1dafd1){while(--_0x1dafd1){_0x2fe515['push'](_0x2fe515['shift']());}};_0x334300(++_0x97554a);}(a223_0x1018,0x1a1));var a223_0x322f=function(_0x1efbbe,_0x473e90){_0x1efbbe=_0x1efbbe-0x0;var _0x2835e9=a223_0x1018[_0x1efbbe];return _0x2835e9;};'use strict';Object[a223_0x322f('0x0')](exports,'__esModule',{'value':!![]});const fs=require('fs');const spawn=require('child_process')[a223_0x322f('0x1')];const fsExtra=require(a223_0x322f('0x2'));const isImage=require(a223_0x322f('0x3'));class FileOptimizationTask{constructor(){this['videoConverting']=![];}['start'](){const _0x4ed3ae=setInterval(function(){this[a223_0x322f('0x4')]();}[a223_0x322f('0x5')](this),0x2710);}['exploreDir'](){const _0x574e98=process[a223_0x322f('0x6')][a223_0x322f('0x7')];console['log'](a223_0x322f('0x8')+_0x574e98);fs['readdir'](_0x574e98,(_0x1a6d9c,_0x4c414f)=>{if(_0x4c414f!=null){_0x4c414f[a223_0x322f('0x9')](_0xf4a93f=>{const _0x58d7b7=0x14;const _0x1c3d77=_0xf4a93f[a223_0x322f('0xa')]('.')[a223_0x322f('0xb')](0x0,-0x1)[a223_0x322f('0xc')]('.');if(isImage(_0xf4a93f)&&!this[a223_0x322f('0xd')]&&!fsExtra[a223_0x322f('0xe')](_0x574e98+_0x1c3d77+'.mp4')){this['videoConverting']=!![];this[a223_0x322f('0xf')](_0x574e98,_0xf4a93f,_0x58d7b7);}});}});}[a223_0x322f('0xf')](_0x49e70c,_0x79b565,_0x3e1c2c=0xa){const _0x3d031a=_0x49e70c+''+_0x79b565;console[a223_0x322f('0x10')](_0x3d031a);console[a223_0x322f('0x10')](_0x79b565);const _0x5ba445=_0x79b565[a223_0x322f('0xa')]('.')[a223_0x322f('0xb')](0x0,-0x1)[a223_0x322f('0xc')]('.');const _0x33e3c6=a223_0x322f('0x11');const _0x4bcfe2=['-y','-r',a223_0x322f('0x12'),'-loop','1',a223_0x322f('0x13'),'glob','-i',_0x3d031a,'-t',String(_0x3e1c2c),a223_0x322f('0x14'),'libx264',a223_0x322f('0x15'),'yuv420p','-r','25',a223_0x322f('0x16'),a223_0x322f('0x17'),_0x49e70c+_0x5ba445+a223_0x322f('0x18')];const _0x34dd09=spawn(_0x33e3c6,_0x4bcfe2);_0x34dd09['stdout']['on']('data',function(_0x181db8){console[a223_0x322f('0x10')]('Converting\x20'+_0x3d031a);});_0x34dd09[a223_0x322f('0x19')]['on'](a223_0x322f('0x1a'),function(_0x454f32){console[a223_0x322f('0x10')](a223_0x322f('0x1b')+_0x454f32);}['bind'](this));_0x34dd09['on'](a223_0x322f('0x1c'),function(){console[a223_0x322f('0x10')](a223_0x322f('0x1d'));this[a223_0x322f('0xd')]=![];}[a223_0x322f('0x5')](this));}}exports[a223_0x322f('0x1e')]=FileOptimizationTask;