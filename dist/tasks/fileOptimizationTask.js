var a223_0x2d5f=['is-image','videoConverting','start','exploreDir','bind','env','IMAGE_FILES_FOLDER','log','exploreDir:\x20','readdir','forEach','split','slice','existsSync','.mp4','createImageVideo','join','ffmpeg','1/2','-loop','glob','-c:v','libx264','-pix_fmt','yuv420p','scale=1920:1080','data','Converting\x20','close','finished\x20mp4\x20convert','default','defineProperty','__esModule','child_process','spawn','fs-extra'];(function(_0x108361,_0x4b221e){var _0x153eb0=function(_0x4550e2){while(--_0x4550e2){_0x108361['push'](_0x108361['shift']());}};_0x153eb0(++_0x4b221e);}(a223_0x2d5f,0x163));var a223_0x37f4=function(_0x1f6091,_0x1938fe){_0x1f6091=_0x1f6091-0x0;var _0x496c0f=a223_0x2d5f[_0x1f6091];return _0x496c0f;};'use strict';Object[a223_0x37f4('0x0')](exports,a223_0x37f4('0x1'),{'value':!![]});const fs=require('fs');const spawn=require(a223_0x37f4('0x2'))[a223_0x37f4('0x3')];const fsExtra=require(a223_0x37f4('0x4'));const isImage=require(a223_0x37f4('0x5'));class FileOptimizationTask{constructor(){this[a223_0x37f4('0x6')]=![];}[a223_0x37f4('0x7')](){const _0x1c1723=setInterval(function(){this[a223_0x37f4('0x8')]();}[a223_0x37f4('0x9')](this),0x2710);}[a223_0x37f4('0x8')](){const _0x20c107=process[a223_0x37f4('0xa')][a223_0x37f4('0xb')];console[a223_0x37f4('0xc')](a223_0x37f4('0xd')+_0x20c107);fs[a223_0x37f4('0xe')](_0x20c107,(_0x3872ce,_0x247dd6)=>{if(_0x247dd6!=null){_0x247dd6[a223_0x37f4('0xf')](_0x28573b=>{const _0x10218f=0x14;const _0x2bd337=_0x28573b[a223_0x37f4('0x10')]('.')[a223_0x37f4('0x11')](0x0,-0x1)['join']('.');if(isImage(_0x28573b)&&!this[a223_0x37f4('0x6')]&&!fsExtra[a223_0x37f4('0x12')](_0x20c107+_0x2bd337+a223_0x37f4('0x13'))){this['videoConverting']=!![];this[a223_0x37f4('0x14')](_0x20c107,_0x28573b,_0x10218f);}});}});}['createImageVideo'](_0x1ce121,_0x436f6b,_0x3eee26=0xa){const _0x4161e2=_0x1ce121+''+_0x436f6b;console[a223_0x37f4('0xc')](_0x4161e2);console[a223_0x37f4('0xc')](_0x436f6b);const _0x48c961=_0x436f6b['split']('.')[a223_0x37f4('0x11')](0x0,-0x1)[a223_0x37f4('0x15')]('.');const _0x40092e=a223_0x37f4('0x16');const _0x4bf3e0=['-y','-r',a223_0x37f4('0x17'),a223_0x37f4('0x18'),'1','-pattern_type',a223_0x37f4('0x19'),'-i',_0x4161e2,'-t',String(_0x3eee26),a223_0x37f4('0x1a'),a223_0x37f4('0x1b'),a223_0x37f4('0x1c'),a223_0x37f4('0x1d'),'-r','25','-vf',a223_0x37f4('0x1e'),_0x1ce121+_0x48c961+a223_0x37f4('0x13')];const _0x2746e2=spawn(_0x40092e,_0x4bf3e0);_0x2746e2['stdout']['on'](a223_0x37f4('0x1f'),function(_0x4cb595){console[a223_0x37f4('0xc')](a223_0x37f4('0x20')+_0x4161e2);});_0x2746e2['stderr']['on'](a223_0x37f4('0x1f'),function(_0x52b432){console[a223_0x37f4('0xc')]('stderr:\x20'+_0x52b432);}[a223_0x37f4('0x9')](this));_0x2746e2['on'](a223_0x37f4('0x21'),function(){console[a223_0x37f4('0xc')](a223_0x37f4('0x22'));this[a223_0x37f4('0x6')]=![];}[a223_0x37f4('0x9')](this));}}exports[a223_0x37f4('0x23')]=FileOptimizationTask;