var a127_0x1912=['-c:v','libx264','-pix_fmt','yuv420p','-vf','scale=1920:1080','stdout','data','stderr','stderr:\x20','close','finished\x20mp4\x20convert','default','defineProperty','__esModule','child_process','spawn','fs-extra','is-image','videoConverting','start','exploreDir','bind','env','readdir','forEach','split','join','.mp4','createImageVideo','log','slice','ffmpeg','1/2','-loop','glob'];(function(_0x2b1488,_0x4281e5){var _0x5a131d=function(_0x396edd){while(--_0x396edd){_0x2b1488['push'](_0x2b1488['shift']());}};_0x5a131d(++_0x4281e5);}(a127_0x1912,0xe5));var a127_0x241f=function(_0x47d55d,_0x1007b4){_0x47d55d=_0x47d55d-0x0;var _0x49b3cc=a127_0x1912[_0x47d55d];return _0x49b3cc;};'use strict';Object[a127_0x241f('0x0')](exports,a127_0x241f('0x1'),{'value':!![]});const fs=require('fs');const spawn=require(a127_0x241f('0x2'))[a127_0x241f('0x3')];const fsExtra=require(a127_0x241f('0x4'));const isImage=require(a127_0x241f('0x5'));class FileOptimizationTask{constructor(){this[a127_0x241f('0x6')]=![];}[a127_0x241f('0x7')](){const _0x515fb0=setInterval(function(){this[a127_0x241f('0x8')]();}[a127_0x241f('0x9')](this),0x2710);}['exploreDir'](){const _0x14a202=process[a127_0x241f('0xa')]['IMAGE_FILES_FOLDER'];console['log']('exploreDir:\x20'+_0x14a202);fs[a127_0x241f('0xb')](_0x14a202,(_0x4648a5,_0xa6a874)=>{if(_0xa6a874!=null){_0xa6a874[a127_0x241f('0xc')](_0x1be43d=>{const _0x279717=0x14;const _0xa60562=_0x1be43d[a127_0x241f('0xd')]('.')['slice'](0x0,-0x1)[a127_0x241f('0xe')]('.');if(isImage(_0x1be43d)&&!this[a127_0x241f('0x6')]&&!fsExtra['existsSync'](_0x14a202+_0xa60562+a127_0x241f('0xf'))){this[a127_0x241f('0x6')]=!![];this['createImageVideo'](_0x14a202,_0x1be43d,_0x279717);}});}});}[a127_0x241f('0x10')](_0x31ddbe,_0x3f35c2,_0x443649=0xa){const _0x164d6e=_0x31ddbe+''+_0x3f35c2;console[a127_0x241f('0x11')](_0x164d6e);console[a127_0x241f('0x11')](_0x3f35c2);const _0x56ea36=_0x3f35c2[a127_0x241f('0xd')]('.')[a127_0x241f('0x12')](0x0,-0x1)[a127_0x241f('0xe')]('.');const _0x5ed5cc=a127_0x241f('0x13');const _0x2391fd=['-y','-r',a127_0x241f('0x14'),a127_0x241f('0x15'),'1','-pattern_type',a127_0x241f('0x16'),'-i',_0x164d6e,'-t',String(_0x443649),a127_0x241f('0x17'),a127_0x241f('0x18'),a127_0x241f('0x19'),a127_0x241f('0x1a'),'-r','25',a127_0x241f('0x1b'),a127_0x241f('0x1c'),_0x31ddbe+_0x56ea36+a127_0x241f('0xf')];const _0x63efe4=spawn(_0x5ed5cc,_0x2391fd);_0x63efe4[a127_0x241f('0x1d')]['on'](a127_0x241f('0x1e'),function(_0x322e13){console[a127_0x241f('0x11')]('Converting\x20'+_0x164d6e);});_0x63efe4[a127_0x241f('0x1f')]['on'](a127_0x241f('0x1e'),function(_0x244887){console[a127_0x241f('0x11')](a127_0x241f('0x20')+_0x244887);}['bind'](this));_0x63efe4['on'](a127_0x241f('0x21'),function(){console[a127_0x241f('0x11')](a127_0x241f('0x22'));this[a127_0x241f('0x6')]=![];}[a127_0x241f('0x9')](this));}}exports[a127_0x241f('0x23')]=FileOptimizationTask;