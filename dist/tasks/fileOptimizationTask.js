var a223_0x3913=['child_process','spawn','fs-extra','is-image','videoConverting','start','exploreDir','bind','env','IMAGE_FILES_FOLDER','log','exploreDir:\x20','readdir','forEach','slice','join','existsSync','.mp4','createImageVideo','split','ffmpeg','1/2','-loop','glob','-c:v','-pix_fmt','yuv420p','scale=1920:1080','stdout','data','Converting\x20','stderr','stderr:\x20','close','finished\x20mp4\x20convert','default','__esModule'];(function(_0x1bcef3,_0x2682d9){var _0x200562=function(_0x20798f){while(--_0x20798f){_0x1bcef3['push'](_0x1bcef3['shift']());}};_0x200562(++_0x2682d9);}(a223_0x3913,0x196));var a223_0x2ad1=function(_0x560cd0,_0x4f8067){_0x560cd0=_0x560cd0-0x0;var _0x767a70=a223_0x3913[_0x560cd0];return _0x767a70;};'use strict';Object['defineProperty'](exports,a223_0x2ad1('0x0'),{'value':!![]});const fs=require('fs');const spawn=require(a223_0x2ad1('0x1'))[a223_0x2ad1('0x2')];const fsExtra=require(a223_0x2ad1('0x3'));const isImage=require(a223_0x2ad1('0x4'));class FileOptimizationTask{constructor(){this[a223_0x2ad1('0x5')]=![];}[a223_0x2ad1('0x6')](){const _0x3879a5=setInterval(function(){this[a223_0x2ad1('0x7')]();}[a223_0x2ad1('0x8')](this),0x2710);}['exploreDir'](){const _0x5c53c1=process[a223_0x2ad1('0x9')][a223_0x2ad1('0xa')];console[a223_0x2ad1('0xb')](a223_0x2ad1('0xc')+_0x5c53c1);fs[a223_0x2ad1('0xd')](_0x5c53c1,(_0x29fa6f,_0x24b6d0)=>{if(_0x24b6d0!=null){_0x24b6d0[a223_0x2ad1('0xe')](_0x29b15c=>{const _0x4fb0f2=0x14;const _0x319094=_0x29b15c['split']('.')[a223_0x2ad1('0xf')](0x0,-0x1)[a223_0x2ad1('0x10')]('.');if(isImage(_0x29b15c)&&!this[a223_0x2ad1('0x5')]&&!fsExtra[a223_0x2ad1('0x11')](_0x5c53c1+_0x319094+a223_0x2ad1('0x12'))){this['videoConverting']=!![];this[a223_0x2ad1('0x13')](_0x5c53c1,_0x29b15c,_0x4fb0f2);}});}});}[a223_0x2ad1('0x13')](_0xda441e,_0x4f247f,_0x541e15=0xa){const _0x48cb37=_0xda441e+''+_0x4f247f;console[a223_0x2ad1('0xb')](_0x48cb37);console[a223_0x2ad1('0xb')](_0x4f247f);const _0x36dffe=_0x4f247f[a223_0x2ad1('0x14')]('.')['slice'](0x0,-0x1)[a223_0x2ad1('0x10')]('.');const _0x21b322=a223_0x2ad1('0x15');const _0x58de02=['-y','-r',a223_0x2ad1('0x16'),a223_0x2ad1('0x17'),'1','-pattern_type',a223_0x2ad1('0x18'),'-i',_0x48cb37,'-t',String(_0x541e15),a223_0x2ad1('0x19'),'libx264',a223_0x2ad1('0x1a'),a223_0x2ad1('0x1b'),'-r','25','-vf',a223_0x2ad1('0x1c'),_0xda441e+_0x36dffe+a223_0x2ad1('0x12')];const _0x2f3564=spawn(_0x21b322,_0x58de02);_0x2f3564[a223_0x2ad1('0x1d')]['on'](a223_0x2ad1('0x1e'),function(_0x212d20){console[a223_0x2ad1('0xb')](a223_0x2ad1('0x1f')+_0x48cb37);});_0x2f3564[a223_0x2ad1('0x20')]['on']('data',function(_0x33e94c){console[a223_0x2ad1('0xb')](a223_0x2ad1('0x21')+_0x33e94c);}['bind'](this));_0x2f3564['on'](a223_0x2ad1('0x22'),function(){console[a223_0x2ad1('0xb')](a223_0x2ad1('0x23'));this[a223_0x2ad1('0x5')]=![];}[a223_0x2ad1('0x8')](this));}}exports[a223_0x2ad1('0x24')]=FileOptimizationTask;