var a314_0x383b=['data','stderr','stderr:\x20','finished\x20mp4\x20convert','default','defineProperty','spawn','is-image','videoConverting','exploreDir','bind','env','IMAGE_FILES_FOLDER','exploreDir:\x20','readdir','split','join','existsSync','createImageVideo','log','ffmpeg','1/2','-loop','-pattern_type','glob','-c:v','libx264','yuv420p','scale=1920:1080','.mp4'];(function(_0x29983e,_0x251fc3){var _0x5c20a7=function(_0x66d9eb){while(--_0x66d9eb){_0x29983e['push'](_0x29983e['shift']());}};_0x5c20a7(++_0x251fc3);}(a314_0x383b,0xb9));var a314_0x9967=function(_0xd5c261,_0x2661f5){_0xd5c261=_0xd5c261-0x0;var _0x16fe48=a314_0x383b[_0xd5c261];return _0x16fe48;};'use strict';Object[a314_0x9967('0x0')](exports,'__esModule',{'value':!![]});const fs=require('fs');const spawn=require('child_process')[a314_0x9967('0x1')];const fsExtra=require('fs-extra');const isImage=require(a314_0x9967('0x2'));class FileOptimizationTask{constructor(){this[a314_0x9967('0x3')]=![];}['start'](){const _0x42e6a7=setInterval(function(){this[a314_0x9967('0x4')]();}[a314_0x9967('0x5')](this),0x2710);}[a314_0x9967('0x4')](){const _0x7c6ebf=process[a314_0x9967('0x6')][a314_0x9967('0x7')];console['log'](a314_0x9967('0x8')+_0x7c6ebf);fs[a314_0x9967('0x9')](_0x7c6ebf,(_0x45274b,_0x47ff9b)=>{if(_0x47ff9b!=null){_0x47ff9b['forEach'](_0x2b7178=>{const _0x5c280d=0x14;const _0x15cd95=_0x2b7178[a314_0x9967('0xa')]('.')['slice'](0x0,-0x1)[a314_0x9967('0xb')]('.');if(isImage(_0x2b7178)&&!this[a314_0x9967('0x3')]&&!fsExtra[a314_0x9967('0xc')](_0x7c6ebf+_0x15cd95+'.mp4')){this[a314_0x9967('0x3')]=!![];this[a314_0x9967('0xd')](_0x7c6ebf,_0x2b7178,_0x5c280d);}});}});}[a314_0x9967('0xd')](_0x64f732,_0xef8242,_0x5826e6=0xa){const _0x4c4e8c=_0x64f732+''+_0xef8242;console[a314_0x9967('0xe')](_0x4c4e8c);console[a314_0x9967('0xe')](_0xef8242);const _0x485f51=_0xef8242['split']('.')['slice'](0x0,-0x1)[a314_0x9967('0xb')]('.');const _0x42d6ad=a314_0x9967('0xf');const _0x488258=['-y','-r',a314_0x9967('0x10'),a314_0x9967('0x11'),'1',a314_0x9967('0x12'),a314_0x9967('0x13'),'-i',_0x4c4e8c,'-t',String(_0x5826e6),a314_0x9967('0x14'),a314_0x9967('0x15'),'-pix_fmt',a314_0x9967('0x16'),'-r','25','-vf',a314_0x9967('0x17'),_0x64f732+_0x485f51+a314_0x9967('0x18')];const _0x3afcb6=spawn(_0x42d6ad,_0x488258);_0x3afcb6['stdout']['on'](a314_0x9967('0x19'),function(_0x518954){console[a314_0x9967('0xe')]('Converting\x20'+_0x4c4e8c);});_0x3afcb6[a314_0x9967('0x1a')]['on'](a314_0x9967('0x19'),function(_0x202970){console[a314_0x9967('0xe')](a314_0x9967('0x1b')+_0x202970);}['bind'](this));_0x3afcb6['on']('close',function(){console[a314_0x9967('0xe')](a314_0x9967('0x1c'));this[a314_0x9967('0x3')]=![];}['bind'](this));}}exports[a314_0x9967('0x1d')]=FileOptimizationTask;