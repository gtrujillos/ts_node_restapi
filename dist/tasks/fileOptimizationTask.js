var a223_0x7216=['default','__esModule','child_process','fs-extra','is-image','start','exploreDir','env','IMAGE_FILES_FOLDER','log','readdir','forEach','split','slice','join','videoConverting','existsSync','-loop','-pattern_type','glob','-c:v','libx264','-pix_fmt','scale=1920:1080','stdout','data','stderr:\x20','bind','finished\x20mp4\x20convert'];(function(_0x4aeeb8,_0xfbab5c){var _0x2d5633=function(_0xdd35b2){while(--_0xdd35b2){_0x4aeeb8['push'](_0x4aeeb8['shift']());}};_0x2d5633(++_0xfbab5c);}(a223_0x7216,0x106));var a223_0x1d4f=function(_0x306068,_0xdb99){_0x306068=_0x306068-0x0;var _0x358475=a223_0x7216[_0x306068];return _0x358475;};'use strict';Object['defineProperty'](exports,a223_0x1d4f('0x0'),{'value':!![]});const fs=require('fs');const spawn=require(a223_0x1d4f('0x1'))['spawn'];const fsExtra=require(a223_0x1d4f('0x2'));const isImage=require(a223_0x1d4f('0x3'));class FileOptimizationTask{constructor(){this['videoConverting']=![];}[a223_0x1d4f('0x4')](){const _0x360190=setInterval(function(){this['exploreDir']();}['bind'](this),0x2710);}[a223_0x1d4f('0x5')](){const _0x150f14=process[a223_0x1d4f('0x6')][a223_0x1d4f('0x7')];console[a223_0x1d4f('0x8')]('exploreDir:\x20'+_0x150f14);fs[a223_0x1d4f('0x9')](_0x150f14,(_0x4b0d66,_0x49a072)=>{if(_0x49a072!=null){_0x49a072[a223_0x1d4f('0xa')](_0x30f741=>{const _0x598a7b=0x14;const _0x360443=_0x30f741[a223_0x1d4f('0xb')]('.')[a223_0x1d4f('0xc')](0x0,-0x1)[a223_0x1d4f('0xd')]('.');if(isImage(_0x30f741)&&!this[a223_0x1d4f('0xe')]&&!fsExtra[a223_0x1d4f('0xf')](_0x150f14+_0x360443+'.mp4')){this[a223_0x1d4f('0xe')]=!![];this['createImageVideo'](_0x150f14,_0x30f741,_0x598a7b);}});}});}['createImageVideo'](_0x531c9b,_0x9d62ed,_0x9aa2b6=0xa){const _0x278208=_0x531c9b+''+_0x9d62ed;console['log'](_0x278208);console[a223_0x1d4f('0x8')](_0x9d62ed);const _0x3fdabe=_0x9d62ed[a223_0x1d4f('0xb')]('.')['slice'](0x0,-0x1)[a223_0x1d4f('0xd')]('.');const _0x4fd244='ffmpeg';const _0x3b81bc=['-y','-r','1/2',a223_0x1d4f('0x10'),'1',a223_0x1d4f('0x11'),a223_0x1d4f('0x12'),'-i',_0x278208,'-t',String(_0x9aa2b6),a223_0x1d4f('0x13'),a223_0x1d4f('0x14'),a223_0x1d4f('0x15'),'yuv420p','-r','25','-vf',a223_0x1d4f('0x16'),_0x531c9b+_0x3fdabe+'.mp4'];const _0x10df77=spawn(_0x4fd244,_0x3b81bc);_0x10df77[a223_0x1d4f('0x17')]['on'](a223_0x1d4f('0x18'),function(_0x1ce9bd){console['log']('Converting\x20'+_0x278208);});_0x10df77['stderr']['on']('data',function(_0xb10105){console['log'](a223_0x1d4f('0x19')+_0xb10105);}[a223_0x1d4f('0x1a')](this));_0x10df77['on']('close',function(){console[a223_0x1d4f('0x8')](a223_0x1d4f('0x1b'));this[a223_0x1d4f('0xe')]=![];}[a223_0x1d4f('0x1a')](this));}}exports[a223_0x1d4f('0x1c')]=FileOptimizationTask;