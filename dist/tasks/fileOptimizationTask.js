var a314_0x199f=['readdir','forEach','split','slice','join','.mp4','createImageVideo','log','1/2','-pattern_type','glob','-c:v','yuv420p','stdout','data','Converting\x20','stderr','stderr:\x20','close','finished\x20mp4\x20convert','defineProperty','child_process','spawn','fs-extra','is-image','videoConverting','start','exploreDir','bind','env','IMAGE_FILES_FOLDER','exploreDir:\x20'];(function(_0x22aba9,_0x2d3cc4){var _0x3c1845=function(_0x60a6f0){while(--_0x60a6f0){_0x22aba9['push'](_0x22aba9['shift']());}};_0x3c1845(++_0x2d3cc4);}(a314_0x199f,0xf4));var a314_0x2baf=function(_0x4ffc69,_0x1d3b35){_0x4ffc69=_0x4ffc69-0x0;var _0x5109cd=a314_0x199f[_0x4ffc69];return _0x5109cd;};'use strict';Object[a314_0x2baf('0x0')](exports,'__esModule',{'value':!![]});const fs=require('fs');const spawn=require(a314_0x2baf('0x1'))[a314_0x2baf('0x2')];const fsExtra=require(a314_0x2baf('0x3'));const isImage=require(a314_0x2baf('0x4'));class FileOptimizationTask{constructor(){this[a314_0x2baf('0x5')]=![];}[a314_0x2baf('0x6')](){const _0x70de0a=setInterval(function(){this[a314_0x2baf('0x7')]();}[a314_0x2baf('0x8')](this),0x2710);}[a314_0x2baf('0x7')](){const _0xcd2a4a=process[a314_0x2baf('0x9')][a314_0x2baf('0xa')];console['log'](a314_0x2baf('0xb')+_0xcd2a4a);fs[a314_0x2baf('0xc')](_0xcd2a4a,(_0x10fc45,_0x11265a)=>{if(_0x11265a!=null){_0x11265a[a314_0x2baf('0xd')](_0x4e6fc=>{const _0x205684=0x14;const _0x732a10=_0x4e6fc[a314_0x2baf('0xe')]('.')[a314_0x2baf('0xf')](0x0,-0x1)[a314_0x2baf('0x10')]('.');if(isImage(_0x4e6fc)&&!this[a314_0x2baf('0x5')]&&!fsExtra['existsSync'](_0xcd2a4a+_0x732a10+a314_0x2baf('0x11'))){this[a314_0x2baf('0x5')]=!![];this[a314_0x2baf('0x12')](_0xcd2a4a,_0x4e6fc,_0x205684);}});}});}['createImageVideo'](_0x5bcb16,_0x100930,_0x31dfe6=0xa){const _0x579ee9=_0x5bcb16+''+_0x100930;console[a314_0x2baf('0x13')](_0x579ee9);console[a314_0x2baf('0x13')](_0x100930);const _0x5f4a51=_0x100930['split']('.')[a314_0x2baf('0xf')](0x0,-0x1)[a314_0x2baf('0x10')]('.');const _0x88eb36='ffmpeg';const _0x364cbb=['-y','-r',a314_0x2baf('0x14'),'-loop','1',a314_0x2baf('0x15'),a314_0x2baf('0x16'),'-i',_0x579ee9,'-t',String(_0x31dfe6),a314_0x2baf('0x17'),'libx264','-pix_fmt',a314_0x2baf('0x18'),'-r','25','-vf','scale=1920:1080',_0x5bcb16+_0x5f4a51+'.mp4'];const _0x199d2e=spawn(_0x88eb36,_0x364cbb);_0x199d2e[a314_0x2baf('0x19')]['on'](a314_0x2baf('0x1a'),function(_0x24124b){console['log'](a314_0x2baf('0x1b')+_0x579ee9);});_0x199d2e[a314_0x2baf('0x1c')]['on'](a314_0x2baf('0x1a'),function(_0x462a63){console[a314_0x2baf('0x13')](a314_0x2baf('0x1d')+_0x462a63);}[a314_0x2baf('0x8')](this));_0x199d2e['on'](a314_0x2baf('0x1e'),function(){console[a314_0x2baf('0x13')](a314_0x2baf('0x1f'));this[a314_0x2baf('0x5')]=![];}['bind'](this));}}exports['default']=FileOptimizationTask;