var a112_0x52f3=['slice','join','existsSync','.mp4','createImageVideo','1/2','-loop','-pattern_type','-c:v','libx264','-pix_fmt','yuv420p','scale=1920:1080','stdout','data','Converting\x20','stderr','close','finished\x20mp4\x20convert','defineProperty','__esModule','child_process','spawn','fs-extra','is-image','videoConverting','bind','exploreDir','IMAGE_FILES_FOLDER','log','readdir','forEach','split'];(function(_0x8d7bc5,_0xe3094f){var _0x3f06b7=function(_0x448daa){while(--_0x448daa){_0x8d7bc5['push'](_0x8d7bc5['shift']());}};_0x3f06b7(++_0xe3094f);}(a112_0x52f3,0xb8));var a112_0x24c8=function(_0x279997,_0x485539){_0x279997=_0x279997-0x0;var _0x16fc9b=a112_0x52f3[_0x279997];return _0x16fc9b;};'use strict';Object[a112_0x24c8('0x0')](exports,a112_0x24c8('0x1'),{'value':!![]});const fs=require('fs');const spawn=require(a112_0x24c8('0x2'))[a112_0x24c8('0x3')];const fsExtra=require(a112_0x24c8('0x4'));const isImage=require(a112_0x24c8('0x5'));class FileOptimizationTask{constructor(){this[a112_0x24c8('0x6')]=![];}['start'](){const _0x3bc648=setInterval(function(){this['exploreDir']();}[a112_0x24c8('0x7')](this),0x2710);}[a112_0x24c8('0x8')](){const _0x3a07e9=process['env'][a112_0x24c8('0x9')];console[a112_0x24c8('0xa')]('exploreDir:\x20'+_0x3a07e9);fs[a112_0x24c8('0xb')](_0x3a07e9,(_0x3f6845,_0x59340b)=>{if(_0x59340b!=null){_0x59340b[a112_0x24c8('0xc')](_0xa5722b=>{const _0x1b6003=0x14;const _0x30ed6f=_0xa5722b[a112_0x24c8('0xd')]('.')[a112_0x24c8('0xe')](0x0,-0x1)[a112_0x24c8('0xf')]('.');if(isImage(_0xa5722b)&&!this[a112_0x24c8('0x6')]&&!fsExtra[a112_0x24c8('0x10')](_0x3a07e9+_0x30ed6f+a112_0x24c8('0x11'))){this[a112_0x24c8('0x6')]=!![];this[a112_0x24c8('0x12')](_0x3a07e9,_0xa5722b,_0x1b6003);}});}});}['createImageVideo'](_0x591bd4,_0x335d9d,_0x48965d=0xa){const _0x143df2=_0x591bd4+''+_0x335d9d;console[a112_0x24c8('0xa')](_0x143df2);console['log'](_0x335d9d);const _0x145e9e=_0x335d9d['split']('.')[a112_0x24c8('0xe')](0x0,-0x1)['join']('.');const _0x55c727='ffmpeg';const _0x1a4067=['-y','-r',a112_0x24c8('0x13'),a112_0x24c8('0x14'),'1',a112_0x24c8('0x15'),'glob','-i',_0x143df2,'-t',String(_0x48965d),a112_0x24c8('0x16'),a112_0x24c8('0x17'),a112_0x24c8('0x18'),a112_0x24c8('0x19'),'-r','25','-vf',a112_0x24c8('0x1a'),_0x591bd4+_0x145e9e+a112_0x24c8('0x11')];const _0x3eeab2=spawn(_0x55c727,_0x1a4067);_0x3eeab2[a112_0x24c8('0x1b')]['on'](a112_0x24c8('0x1c'),function(_0x3577bf){console[a112_0x24c8('0xa')](a112_0x24c8('0x1d')+_0x143df2);});_0x3eeab2[a112_0x24c8('0x1e')]['on']('data',function(_0x4290d0){console[a112_0x24c8('0xa')]('stderr:\x20'+_0x4290d0);}[a112_0x24c8('0x7')](this));_0x3eeab2['on'](a112_0x24c8('0x1f'),function(){console[a112_0x24c8('0xa')](a112_0x24c8('0x20'));this[a112_0x24c8('0x6')]=![];}[a112_0x24c8('0x7')](this));}}exports['default']=FileOptimizationTask;