var a223_0xe5ee=['spawn','is-image','start','exploreDir','bind','log','exploreDir:\x20','forEach','split','slice','join','videoConverting','createImageVideo','ffmpeg','1/2','-loop','-pattern_type','glob','-c:v','libx264','-pix_fmt','scale=1920:1080','stdout','Converting\x20','stderr','data','stderr:\x20','finished\x20mp4\x20convert','default','defineProperty','__esModule','child_process'];(function(_0x18accb,_0x10898a){var _0x5d8e24=function(_0x2e89ce){while(--_0x2e89ce){_0x18accb['push'](_0x18accb['shift']());}};_0x5d8e24(++_0x10898a);}(a223_0xe5ee,0xbd));var a223_0x1874=function(_0x2df93f,_0x502ff1){_0x2df93f=_0x2df93f-0x0;var _0x56eab0=a223_0xe5ee[_0x2df93f];return _0x56eab0;};'use strict';Object[a223_0x1874('0x0')](exports,a223_0x1874('0x1'),{'value':!![]});const fs=require('fs');const spawn=require(a223_0x1874('0x2'))[a223_0x1874('0x3')];const fsExtra=require('fs-extra');const isImage=require(a223_0x1874('0x4'));class FileOptimizationTask{constructor(){this['videoConverting']=![];}[a223_0x1874('0x5')](){const _0x361175=setInterval(function(){this[a223_0x1874('0x6')]();}[a223_0x1874('0x7')](this),0x2710);}[a223_0x1874('0x6')](){const _0xc6e22d=process['env']['IMAGE_FILES_FOLDER'];console[a223_0x1874('0x8')](a223_0x1874('0x9')+_0xc6e22d);fs['readdir'](_0xc6e22d,(_0x343c1d,_0x469153)=>{if(_0x469153!=null){_0x469153[a223_0x1874('0xa')](_0x296a52=>{const _0x1baf32=0x14;const _0x12d0fc=_0x296a52[a223_0x1874('0xb')]('.')[a223_0x1874('0xc')](0x0,-0x1)[a223_0x1874('0xd')]('.');if(isImage(_0x296a52)&&!this[a223_0x1874('0xe')]&&!fsExtra['existsSync'](_0xc6e22d+_0x12d0fc+'.mp4')){this[a223_0x1874('0xe')]=!![];this[a223_0x1874('0xf')](_0xc6e22d,_0x296a52,_0x1baf32);}});}});}[a223_0x1874('0xf')](_0x152b82,_0x94c8cf,_0x1f7808=0xa){const _0x22e528=_0x152b82+''+_0x94c8cf;console['log'](_0x22e528);console[a223_0x1874('0x8')](_0x94c8cf);const _0x4354c6=_0x94c8cf[a223_0x1874('0xb')]('.')['slice'](0x0,-0x1)[a223_0x1874('0xd')]('.');const _0x36708f=a223_0x1874('0x10');const _0x228e85=['-y','-r',a223_0x1874('0x11'),a223_0x1874('0x12'),'1',a223_0x1874('0x13'),a223_0x1874('0x14'),'-i',_0x22e528,'-t',String(_0x1f7808),a223_0x1874('0x15'),a223_0x1874('0x16'),a223_0x1874('0x17'),'yuv420p','-r','25','-vf',a223_0x1874('0x18'),_0x152b82+_0x4354c6+'.mp4'];const _0x2aff73=spawn(_0x36708f,_0x228e85);_0x2aff73[a223_0x1874('0x19')]['on']('data',function(_0x51ead4){console[a223_0x1874('0x8')](a223_0x1874('0x1a')+_0x22e528);});_0x2aff73[a223_0x1874('0x1b')]['on'](a223_0x1874('0x1c'),function(_0x438e76){console[a223_0x1874('0x8')](a223_0x1874('0x1d')+_0x438e76);}['bind'](this));_0x2aff73['on']('close',function(){console['log'](a223_0x1874('0x1e'));this['videoConverting']=![];}[a223_0x1874('0x7')](this));}}exports[a223_0x1874('0x1f')]=FileOptimizationTask;