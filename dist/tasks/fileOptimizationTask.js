var a199_0x13ca=['videoConverting','start','exploreDir','bind','FILES_FOLDER','log','exploreDir:\x20','readdir','forEach','slice','join','existsSync','.mp4','createImageVideo','split','ffmpeg','-pattern_type','glob','-c:v','libx264','yuv420p','-vf','scale=1920:1080','Converting\x20','stderr','data','close','finished\x20mp4\x20convert','default','child_process','spawn','is-image'];(function(_0x4bf9ec,_0x78a6e4){var _0x14995e=function(_0x16ad68){while(--_0x16ad68){_0x4bf9ec['push'](_0x4bf9ec['shift']());}};_0x14995e(++_0x78a6e4);}(a199_0x13ca,0x7d));var a199_0x1020=function(_0x1d2076,_0x2a7e5a){_0x1d2076=_0x1d2076-0x0;var _0x6ffefc=a199_0x13ca[_0x1d2076];return _0x6ffefc;};'use strict';Object['defineProperty'](exports,'__esModule',{'value':!![]});const fs=require('fs');const spawn=require(a199_0x1020('0x0'))[a199_0x1020('0x1')];const fsExtra=require('fs-extra');const isImage=require(a199_0x1020('0x2'));class FileOptimizationTask{constructor(){this[a199_0x1020('0x3')]=![];}[a199_0x1020('0x4')](){const _0x3aff67=setInterval(function(){this[a199_0x1020('0x5')]();}[a199_0x1020('0x6')](this),0x2710);}[a199_0x1020('0x5')](){const _0x49a06d=process['env'][a199_0x1020('0x7')];console[a199_0x1020('0x8')](a199_0x1020('0x9')+_0x49a06d);fs[a199_0x1020('0xa')](_0x49a06d,(_0x4c37e8,_0x8c392f)=>{if(_0x8c392f!=null){_0x8c392f[a199_0x1020('0xb')](_0x545a34=>{const _0x13d5fd=0x14;const _0x1b26cd=_0x545a34['split']('.')[a199_0x1020('0xc')](0x0,-0x1)[a199_0x1020('0xd')]('.');if(isImage(_0x545a34)&&!this['videoConverting']&&!fsExtra[a199_0x1020('0xe')](_0x49a06d+_0x1b26cd+a199_0x1020('0xf'))){this['videoConverting']=!![];this[a199_0x1020('0x10')](_0x49a06d,_0x545a34,_0x13d5fd);}});}});}['createImageVideo'](_0x567139,_0x45a12f,_0x2fa15c=0xa){const _0x74ce19=_0x567139+''+_0x45a12f;console[a199_0x1020('0x8')](_0x74ce19);console[a199_0x1020('0x8')](_0x45a12f);const _0x50ce71=_0x45a12f[a199_0x1020('0x11')]('.')[a199_0x1020('0xc')](0x0,-0x1)[a199_0x1020('0xd')]('.');const _0x3fdd83=a199_0x1020('0x12');const _0x5445e1=['-y','-r','1/2','-loop','1',a199_0x1020('0x13'),a199_0x1020('0x14'),'-i',_0x74ce19,'-t',String(_0x2fa15c),a199_0x1020('0x15'),a199_0x1020('0x16'),'-pix_fmt',a199_0x1020('0x17'),'-r','25',a199_0x1020('0x18'),a199_0x1020('0x19'),_0x567139+_0x50ce71+a199_0x1020('0xf')];const _0x3e2d11=spawn(_0x3fdd83,_0x5445e1);_0x3e2d11['stdout']['on']('data',function(_0xd446a3){console[a199_0x1020('0x8')](a199_0x1020('0x1a')+_0x74ce19);});_0x3e2d11[a199_0x1020('0x1b')]['on'](a199_0x1020('0x1c'),function(_0xf22920){console[a199_0x1020('0x8')]('stderr:\x20'+_0xf22920);}['bind'](this));_0x3e2d11['on'](a199_0x1020('0x1d'),function(){console[a199_0x1020('0x8')](a199_0x1020('0x1e'));this[a199_0x1020('0x3')]=![];}[a199_0x1020('0x6')](this));}}exports[a199_0x1020('0x1f')]=FileOptimizationTask;