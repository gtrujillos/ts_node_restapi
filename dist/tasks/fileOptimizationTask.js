var a223_0x35d2=['exploreDir','bind','env','exploreDir:\x20','readdir','forEach','slice','existsSync','createImageVideo','log','split','join','ffmpeg','1/2','-loop','-pattern_type','glob','-c:v','libx264','-pix_fmt','yuv420p','-vf','scale=1920:1080','.mp4','Converting\x20','stderr','data','stderr:\x20','close','default','defineProperty','__esModule','child_process','spawn','fs-extra','is-image','videoConverting','start'];(function(_0xee8318,_0x3f9fb5){var _0x1b035c=function(_0x23fe0d){while(--_0x23fe0d){_0xee8318['push'](_0xee8318['shift']());}};_0x1b035c(++_0x3f9fb5);}(a223_0x35d2,0x14e));var a223_0x4022=function(_0x571d7f,_0x4b4d8c){_0x571d7f=_0x571d7f-0x0;var _0x40a89b=a223_0x35d2[_0x571d7f];return _0x40a89b;};'use strict';Object[a223_0x4022('0x0')](exports,a223_0x4022('0x1'),{'value':!![]});const fs=require('fs');const spawn=require(a223_0x4022('0x2'))[a223_0x4022('0x3')];const fsExtra=require(a223_0x4022('0x4'));const isImage=require(a223_0x4022('0x5'));class FileOptimizationTask{constructor(){this[a223_0x4022('0x6')]=![];}[a223_0x4022('0x7')](){const _0x227146=setInterval(function(){this[a223_0x4022('0x8')]();}[a223_0x4022('0x9')](this),0x2710);}[a223_0x4022('0x8')](){const _0x141de1=process[a223_0x4022('0xa')]['IMAGE_FILES_FOLDER'];console['log'](a223_0x4022('0xb')+_0x141de1);fs[a223_0x4022('0xc')](_0x141de1,(_0x2a069e,_0x577ade)=>{if(_0x577ade!=null){_0x577ade[a223_0x4022('0xd')](_0x6cbf3=>{const _0x1d508e=0x14;const _0x473480=_0x6cbf3['split']('.')[a223_0x4022('0xe')](0x0,-0x1)['join']('.');if(isImage(_0x6cbf3)&&!this['videoConverting']&&!fsExtra[a223_0x4022('0xf')](_0x141de1+_0x473480+'.mp4')){this[a223_0x4022('0x6')]=!![];this[a223_0x4022('0x10')](_0x141de1,_0x6cbf3,_0x1d508e);}});}});}[a223_0x4022('0x10')](_0x4676ff,_0x56ba2d,_0x258fc3=0xa){const _0x314549=_0x4676ff+''+_0x56ba2d;console[a223_0x4022('0x11')](_0x314549);console[a223_0x4022('0x11')](_0x56ba2d);const _0x3c614f=_0x56ba2d[a223_0x4022('0x12')]('.')[a223_0x4022('0xe')](0x0,-0x1)[a223_0x4022('0x13')]('.');const _0x41294a=a223_0x4022('0x14');const _0x332dab=['-y','-r',a223_0x4022('0x15'),a223_0x4022('0x16'),'1',a223_0x4022('0x17'),a223_0x4022('0x18'),'-i',_0x314549,'-t',String(_0x258fc3),a223_0x4022('0x19'),a223_0x4022('0x1a'),a223_0x4022('0x1b'),a223_0x4022('0x1c'),'-r','25',a223_0x4022('0x1d'),a223_0x4022('0x1e'),_0x4676ff+_0x3c614f+a223_0x4022('0x1f')];const _0x3a60ea=spawn(_0x41294a,_0x332dab);_0x3a60ea['stdout']['on']('data',function(_0x3be10e){console['log'](a223_0x4022('0x20')+_0x314549);});_0x3a60ea[a223_0x4022('0x21')]['on'](a223_0x4022('0x22'),function(_0x30bc2f){console[a223_0x4022('0x11')](a223_0x4022('0x23')+_0x30bc2f);}[a223_0x4022('0x9')](this));_0x3a60ea['on'](a223_0x4022('0x24'),function(){console[a223_0x4022('0x11')]('finished\x20mp4\x20convert');this[a223_0x4022('0x6')]=![];}['bind'](this));}}exports[a223_0x4022('0x25')]=FileOptimizationTask;