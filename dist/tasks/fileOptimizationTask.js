var a159_0xb74c=['defineProperty','__esModule','spawn','fs-extra','is-image','videoConverting','start','bind','env','IMAGE_FILES_FOLDER','exploreDir:\x20','readdir','forEach','split','slice','join','createImageVideo','log','ffmpeg','1/2','-pattern_type','glob','-c:v','libx264','-pix_fmt','-vf','scale=1920:1080','.mp4','stdout','Converting\x20','stderr','stderr:\x20','close','finished\x20mp4\x20convert','default'];(function(_0x38379a,_0x3d320e){var _0x345c57=function(_0x231914){while(--_0x231914){_0x38379a['push'](_0x38379a['shift']());}};_0x345c57(++_0x3d320e);}(a159_0xb74c,0x1ea));var a159_0x19a1=function(_0x1f53c3,_0x98f2d4){_0x1f53c3=_0x1f53c3-0x0;var _0x1c53c3=a159_0xb74c[_0x1f53c3];return _0x1c53c3;};'use strict';Object[a159_0x19a1('0x0')](exports,a159_0x19a1('0x1'),{'value':!![]});const fs=require('fs');const spawn=require('child_process')[a159_0x19a1('0x2')];const fsExtra=require(a159_0x19a1('0x3'));const isImage=require(a159_0x19a1('0x4'));class FileOptimizationTask{constructor(){this[a159_0x19a1('0x5')]=![];}[a159_0x19a1('0x6')](){const _0x1762cd=setInterval(function(){this['exploreDir']();}[a159_0x19a1('0x7')](this),0x2710);}['exploreDir'](){const _0x41c908=process[a159_0x19a1('0x8')][a159_0x19a1('0x9')];console['log'](a159_0x19a1('0xa')+_0x41c908);fs[a159_0x19a1('0xb')](_0x41c908,(_0x10487b,_0x46e549)=>{if(_0x46e549!=null){_0x46e549[a159_0x19a1('0xc')](_0xf48ae1=>{const _0x4cf51a=0x14;const _0x429d6d=_0xf48ae1[a159_0x19a1('0xd')]('.')[a159_0x19a1('0xe')](0x0,-0x1)[a159_0x19a1('0xf')]('.');if(isImage(_0xf48ae1)&&!this[a159_0x19a1('0x5')]&&!fsExtra['existsSync'](_0x41c908+_0x429d6d+'.mp4')){this[a159_0x19a1('0x5')]=!![];this[a159_0x19a1('0x10')](_0x41c908,_0xf48ae1,_0x4cf51a);}});}});}['createImageVideo'](_0xb279dc,_0x35cd04,_0x3a5a57=0xa){const _0x2fa556=_0xb279dc+''+_0x35cd04;console[a159_0x19a1('0x11')](_0x2fa556);console[a159_0x19a1('0x11')](_0x35cd04);const _0x1b1a0c=_0x35cd04[a159_0x19a1('0xd')]('.')['slice'](0x0,-0x1)['join']('.');const _0x8430b=a159_0x19a1('0x12');const _0x5de3c5=['-y','-r',a159_0x19a1('0x13'),'-loop','1',a159_0x19a1('0x14'),a159_0x19a1('0x15'),'-i',_0x2fa556,'-t',String(_0x3a5a57),a159_0x19a1('0x16'),a159_0x19a1('0x17'),a159_0x19a1('0x18'),'yuv420p','-r','25',a159_0x19a1('0x19'),a159_0x19a1('0x1a'),_0xb279dc+_0x1b1a0c+a159_0x19a1('0x1b')];const _0x56a922=spawn(_0x8430b,_0x5de3c5);_0x56a922[a159_0x19a1('0x1c')]['on']('data',function(_0x44d317){console['log'](a159_0x19a1('0x1d')+_0x2fa556);});_0x56a922[a159_0x19a1('0x1e')]['on']('data',function(_0x4aa7db){console[a159_0x19a1('0x11')](a159_0x19a1('0x1f')+_0x4aa7db);}[a159_0x19a1('0x7')](this));_0x56a922['on'](a159_0x19a1('0x20'),function(){console['log'](a159_0x19a1('0x21'));this[a159_0x19a1('0x5')]=![];}['bind'](this));}}exports[a159_0x19a1('0x22')]=FileOptimizationTask;