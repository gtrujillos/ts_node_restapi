var a223_0xb436=['glob','libx264','-pix_fmt','yuv420p','-vf','stdout','Converting\x20','stderr','bind','close','default','__esModule','child_process','spawn','fs-extra','is-image','videoConverting','exploreDir','env','IMAGE_FILES_FOLDER','log','exploreDir:\x20','readdir','forEach','split','slice','join','existsSync','.mp4','1/2','-loop'];(function(_0x5e691b,_0x409622){var _0x59ee56=function(_0x5e3ca2){while(--_0x5e3ca2){_0x5e691b['push'](_0x5e691b['shift']());}};_0x59ee56(++_0x409622);}(a223_0xb436,0x141));var a223_0x466c=function(_0x28db3e,_0x23e7e7){_0x28db3e=_0x28db3e-0x0;var _0x12408e=a223_0xb436[_0x28db3e];return _0x12408e;};'use strict';Object['defineProperty'](exports,a223_0x466c('0x0'),{'value':!![]});const fs=require('fs');const spawn=require(a223_0x466c('0x1'))[a223_0x466c('0x2')];const fsExtra=require(a223_0x466c('0x3'));const isImage=require(a223_0x466c('0x4'));class FileOptimizationTask{constructor(){this[a223_0x466c('0x5')]=![];}['start'](){const _0x18ef0c=setInterval(function(){this[a223_0x466c('0x6')]();}['bind'](this),0x2710);}[a223_0x466c('0x6')](){const _0x391136=process[a223_0x466c('0x7')][a223_0x466c('0x8')];console[a223_0x466c('0x9')](a223_0x466c('0xa')+_0x391136);fs[a223_0x466c('0xb')](_0x391136,(_0x545d4a,_0x940a48)=>{if(_0x940a48!=null){_0x940a48[a223_0x466c('0xc')](_0xb3fbab=>{const _0x5ee1a6=0x14;const _0x1261d4=_0xb3fbab[a223_0x466c('0xd')]('.')[a223_0x466c('0xe')](0x0,-0x1)[a223_0x466c('0xf')]('.');if(isImage(_0xb3fbab)&&!this['videoConverting']&&!fsExtra[a223_0x466c('0x10')](_0x391136+_0x1261d4+a223_0x466c('0x11'))){this[a223_0x466c('0x5')]=!![];this['createImageVideo'](_0x391136,_0xb3fbab,_0x5ee1a6);}});}});}['createImageVideo'](_0x584f7d,_0x350678,_0x2532f4=0xa){const _0x19777f=_0x584f7d+''+_0x350678;console['log'](_0x19777f);console[a223_0x466c('0x9')](_0x350678);const _0x284a56=_0x350678[a223_0x466c('0xd')]('.')[a223_0x466c('0xe')](0x0,-0x1)[a223_0x466c('0xf')]('.');const _0x2c1635='ffmpeg';const _0x5c3de9=['-y','-r',a223_0x466c('0x12'),a223_0x466c('0x13'),'1','-pattern_type',a223_0x466c('0x14'),'-i',_0x19777f,'-t',String(_0x2532f4),'-c:v',a223_0x466c('0x15'),a223_0x466c('0x16'),a223_0x466c('0x17'),'-r','25',a223_0x466c('0x18'),'scale=1920:1080',_0x584f7d+_0x284a56+a223_0x466c('0x11')];const _0x6dec9a=spawn(_0x2c1635,_0x5c3de9);_0x6dec9a[a223_0x466c('0x19')]['on']('data',function(_0x1c34fc){console[a223_0x466c('0x9')](a223_0x466c('0x1a')+_0x19777f);});_0x6dec9a[a223_0x466c('0x1b')]['on']('data',function(_0x3dd31a){console[a223_0x466c('0x9')]('stderr:\x20'+_0x3dd31a);}[a223_0x466c('0x1c')](this));_0x6dec9a['on'](a223_0x466c('0x1d'),function(){console[a223_0x466c('0x9')]('finished\x20mp4\x20convert');this['videoConverting']=![];}[a223_0x466c('0x1c')](this));}}exports[a223_0x466c('0x1e')]=FileOptimizationTask;