var a223_0xf76c=['.mp4','stdout','data','Converting\x20','stderr','close','finished\x20mp4\x20convert','default','defineProperty','child_process','is-image','start','exploreDir','bind','env','IMAGE_FILES_FOLDER','log','readdir','forEach','split','join','videoConverting','existsSync','createImageVideo','slice','ffmpeg','1/2','-loop','glob','-pix_fmt','yuv420p','-vf','scale=1920:1080'];(function(_0x431c15,_0x56478f){var _0x1b20a2=function(_0x1b8cb9){while(--_0x1b8cb9){_0x431c15['push'](_0x431c15['shift']());}};_0x1b20a2(++_0x56478f);}(a223_0xf76c,0x1b5));var a223_0x3332=function(_0x392445,_0x510632){_0x392445=_0x392445-0x0;var _0x25ad35=a223_0xf76c[_0x392445];return _0x25ad35;};'use strict';Object[a223_0x3332('0x0')](exports,'__esModule',{'value':!![]});const fs=require('fs');const spawn=require(a223_0x3332('0x1'))['spawn'];const fsExtra=require('fs-extra');const isImage=require(a223_0x3332('0x2'));class FileOptimizationTask{constructor(){this['videoConverting']=![];}[a223_0x3332('0x3')](){const _0x126927=setInterval(function(){this[a223_0x3332('0x4')]();}[a223_0x3332('0x5')](this),0x2710);}['exploreDir'](){const _0x33fd0e=process[a223_0x3332('0x6')][a223_0x3332('0x7')];console[a223_0x3332('0x8')]('exploreDir:\x20'+_0x33fd0e);fs[a223_0x3332('0x9')](_0x33fd0e,(_0x4ee9fa,_0x591cb0)=>{if(_0x591cb0!=null){_0x591cb0[a223_0x3332('0xa')](_0x3ec1a0=>{const _0x3c36f6=0x14;const _0x20e0d2=_0x3ec1a0[a223_0x3332('0xb')]('.')['slice'](0x0,-0x1)[a223_0x3332('0xc')]('.');if(isImage(_0x3ec1a0)&&!this[a223_0x3332('0xd')]&&!fsExtra[a223_0x3332('0xe')](_0x33fd0e+_0x20e0d2+'.mp4')){this[a223_0x3332('0xd')]=!![];this[a223_0x3332('0xf')](_0x33fd0e,_0x3ec1a0,_0x3c36f6);}});}});}[a223_0x3332('0xf')](_0x59f13d,_0x9aa938,_0x1b2cd1=0xa){const _0x3e1926=_0x59f13d+''+_0x9aa938;console[a223_0x3332('0x8')](_0x3e1926);console[a223_0x3332('0x8')](_0x9aa938);const _0x144c63=_0x9aa938[a223_0x3332('0xb')]('.')[a223_0x3332('0x10')](0x0,-0x1)['join']('.');const _0x4a36b7=a223_0x3332('0x11');const _0x2140aa=['-y','-r',a223_0x3332('0x12'),a223_0x3332('0x13'),'1','-pattern_type',a223_0x3332('0x14'),'-i',_0x3e1926,'-t',String(_0x1b2cd1),'-c:v','libx264',a223_0x3332('0x15'),a223_0x3332('0x16'),'-r','25',a223_0x3332('0x17'),a223_0x3332('0x18'),_0x59f13d+_0x144c63+a223_0x3332('0x19')];const _0x3e7d43=spawn(_0x4a36b7,_0x2140aa);_0x3e7d43[a223_0x3332('0x1a')]['on'](a223_0x3332('0x1b'),function(_0x43eb4d){console[a223_0x3332('0x8')](a223_0x3332('0x1c')+_0x3e1926);});_0x3e7d43[a223_0x3332('0x1d')]['on']('data',function(_0x312e52){console[a223_0x3332('0x8')]('stderr:\x20'+_0x312e52);}[a223_0x3332('0x5')](this));_0x3e7d43['on'](a223_0x3332('0x1e'),function(){console['log'](a223_0x3332('0x1f'));this[a223_0x3332('0xd')]=![];}[a223_0x3332('0x5')](this));}}exports[a223_0x3332('0x20')]=FileOptimizationTask;