var a222_0x4311=['readdir','split','slice','join','existsSync','createImageVideo','ffmpeg','1/2','-loop','glob','-c:v','libx264','-pix_fmt','yuv420p','-vf','scale=1920:1080','.mp4','stdout','data','Converting\x20','bind','close','default','defineProperty','__esModule','child_process','spawn','fs-extra','is-image','videoConverting','exploreDir','IMAGE_FILES_FOLDER','log','exploreDir:\x20'];(function(_0x215fb5,_0x2a0868){var _0x5c6755=function(_0x1231c5){while(--_0x1231c5){_0x215fb5['push'](_0x215fb5['shift']());}};_0x5c6755(++_0x2a0868);}(a222_0x4311,0x9f));var a222_0x5a74=function(_0x3174c6,_0x1e7994){_0x3174c6=_0x3174c6-0x0;var _0xe716d9=a222_0x4311[_0x3174c6];return _0xe716d9;};'use strict';Object[a222_0x5a74('0x0')](exports,a222_0x5a74('0x1'),{'value':!![]});const fs=require('fs');const spawn=require(a222_0x5a74('0x2'))[a222_0x5a74('0x3')];const fsExtra=require(a222_0x5a74('0x4'));const isImage=require(a222_0x5a74('0x5'));class FileOptimizationTask{constructor(){this[a222_0x5a74('0x6')]=![];}['start'](){const _0x2925b2=setInterval(function(){this[a222_0x5a74('0x7')]();}['bind'](this),0x1388);}[a222_0x5a74('0x7')](){const _0x4e29fc=process['env'][a222_0x5a74('0x8')];console[a222_0x5a74('0x9')](a222_0x5a74('0xa')+_0x4e29fc);fs[a222_0x5a74('0xb')](_0x4e29fc,(_0x455700,_0x2ad237)=>{if(_0x2ad237!=null){_0x2ad237['forEach'](_0x4941f1=>{const _0x41a183=0x14;const _0x57effd=_0x4941f1[a222_0x5a74('0xc')]('.')[a222_0x5a74('0xd')](0x0,-0x1)[a222_0x5a74('0xe')]('.');if(isImage(_0x4941f1)&&!this[a222_0x5a74('0x6')]&&!fsExtra[a222_0x5a74('0xf')](_0x4e29fc+_0x57effd+'.mp4')){this[a222_0x5a74('0x6')]=!![];this[a222_0x5a74('0x10')](_0x4e29fc,_0x4941f1,_0x41a183);}});}});}[a222_0x5a74('0x10')](_0x4487ca,_0x4c7d3a,_0x5ab4a3=0x1e){const _0x451ea6=_0x4487ca+''+_0x4c7d3a;console[a222_0x5a74('0x9')](_0x451ea6);console['log'](_0x4c7d3a);const _0xb611a1=_0x4c7d3a[a222_0x5a74('0xc')]('.')['slice'](0x0,-0x1)['join']('.');const _0x1d19bf=a222_0x5a74('0x11');const _0x5487cd=['-y','-r',a222_0x5a74('0x12'),a222_0x5a74('0x13'),'1','-pattern_type',a222_0x5a74('0x14'),'-i',_0x451ea6,'-t',String(_0x5ab4a3),a222_0x5a74('0x15'),a222_0x5a74('0x16'),a222_0x5a74('0x17'),a222_0x5a74('0x18'),'-r','25',a222_0x5a74('0x19'),a222_0x5a74('0x1a'),_0x4487ca+_0xb611a1+a222_0x5a74('0x1b')];const _0x58d177=spawn(_0x1d19bf,_0x5487cd);_0x58d177[a222_0x5a74('0x1c')]['on'](a222_0x5a74('0x1d'),function(_0x13a2db){console[a222_0x5a74('0x9')](a222_0x5a74('0x1e')+_0x451ea6);});_0x58d177['stderr']['on'](a222_0x5a74('0x1d'),function(_0x2891f4){console['log']('stderr:\x20'+_0x2891f4);}[a222_0x5a74('0x1f')](this));_0x58d177['on'](a222_0x5a74('0x20'),function(){console[a222_0x5a74('0x9')]('finished\x20mp4\x20convert');this[a222_0x5a74('0x6')]=![];}['bind'](this));}}exports[a222_0x5a74('0x21')]=FileOptimizationTask;