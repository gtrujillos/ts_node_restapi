var a111_0x13ca=['videoConverting','start','exploreDir','bind','IMAGE_FILES_FOLDER','log','exploreDir:\x20','readdir','forEach','slice','join','existsSync','.mp4','createImageVideo','split','ffmpeg','-pattern_type','glob','-c:v','libx264','yuv420p','-vf','scale=1920:1080','Converting\x20','stderr','data','close','finished\x20mp4\x20convert','default','child_process','spawn','is-image'];(function(_0x23a587,_0x3544a4){var _0x42f124=function(_0x5b35bc){while(--_0x5b35bc){_0x23a587['push'](_0x23a587['shift']());}};_0x42f124(++_0x3544a4);}(a111_0x13ca,0x7d));var a111_0x1020=function(_0x328e99,_0x30aa43){_0x328e99=_0x328e99-0x0;var _0x3f2de3=a111_0x13ca[_0x328e99];return _0x3f2de3;};'use strict';Object['defineProperty'](exports,'__esModule',{'value':!![]});const fs=require('fs');const spawn=require(a111_0x1020('0x0'))[a111_0x1020('0x1')];const fsExtra=require('fs-extra');const isImage=require(a111_0x1020('0x2'));class FileOptimizationTask{constructor(){this[a111_0x1020('0x3')]=![];}[a111_0x1020('0x4')](){const _0x3aff67=setInterval(function(){this[a111_0x1020('0x5')]();}[a111_0x1020('0x6')](this),0x1388);}[a111_0x1020('0x5')](){const _0x49a06d=process['env'][a111_0x1020('0x7')];console[a111_0x1020('0x8')](a111_0x1020('0x9')+_0x49a06d);fs[a111_0x1020('0xa')](_0x49a06d,(_0x4c37e8,_0x8c392f)=>{if(_0x8c392f!=null){_0x8c392f[a111_0x1020('0xb')](_0x545a34=>{const _0x13d5fd=0x14;const _0x1b26cd=_0x545a34['split']('.')[a111_0x1020('0xc')](0x0,-0x1)[a111_0x1020('0xd')]('.');if(isImage(_0x545a34)&&!this['videoConverting']&&!fsExtra[a111_0x1020('0xe')](_0x49a06d+_0x1b26cd+a111_0x1020('0xf'))){this['videoConverting']=!![];this[a111_0x1020('0x10')](_0x49a06d,_0x545a34,_0x13d5fd);}});}});}['createImageVideo'](_0x567139,_0x45a12f,_0x2fa15c=0x1e){const _0x74ce19=_0x567139+''+_0x45a12f;console[a111_0x1020('0x8')](_0x74ce19);console[a111_0x1020('0x8')](_0x45a12f);const _0x50ce71=_0x45a12f[a111_0x1020('0x11')]('.')[a111_0x1020('0xc')](0x0,-0x1)[a111_0x1020('0xd')]('.');const _0x3fdd83=a111_0x1020('0x12');const _0x5445e1=['-y','-r','1/2','-loop','1',a111_0x1020('0x13'),a111_0x1020('0x14'),'-i',_0x74ce19,'-t',String(_0x2fa15c),a111_0x1020('0x15'),a111_0x1020('0x16'),'-pix_fmt',a111_0x1020('0x17'),'-r','25',a111_0x1020('0x18'),a111_0x1020('0x19'),_0x567139+_0x50ce71+a111_0x1020('0xf')];const _0x3e2d11=spawn(_0x3fdd83,_0x5445e1);_0x3e2d11['stdout']['on']('data',function(_0xd446a3){console[a111_0x1020('0x8')](a111_0x1020('0x1a')+_0x74ce19);});_0x3e2d11[a111_0x1020('0x1b')]['on'](a111_0x1020('0x1c'),function(_0xf22920){console[a111_0x1020('0x8')]('stderr:\x20'+_0xf22920);}['bind'](this));_0x3e2d11['on'](a111_0x1020('0x1d'),function(){console[a111_0x1020('0x8')](a111_0x1020('0x1e'));this[a111_0x1020('0x3')]=![];}[a111_0x1020('0x6')](this));}}exports[a111_0x1020('0x1f')]=FileOptimizationTask;