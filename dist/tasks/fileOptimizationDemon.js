var a111_0x4cbb=['glob','libx264','-pix_fmt','yuv420p','-vf','scale=1920:1080','stdout','Converting\x20','data','finished\x20mp4\x20convert','default','defineProperty','__esModule','child_process','spawn','fs-extra','is-image','videoConverting','start','exploreDir','bind','env','IMAGE_FILES_FOLDER','log','exploreDir:\x20','readdir','forEach','split','slice','.mp4','createImageVideo','join','ffmpeg','1/2','-loop','-pattern_type'];(function(_0x3c64e1,_0x5b5389){var _0xe934f5=function(_0x43a813){while(--_0x43a813){_0x3c64e1['push'](_0x3c64e1['shift']());}};_0xe934f5(++_0x5b5389);}(a111_0x4cbb,0xbf));var a111_0x1d97=function(_0x4b7504,_0x4d7760){_0x4b7504=_0x4b7504-0x0;var _0x3a7a7b=a111_0x4cbb[_0x4b7504];return _0x3a7a7b;};'use strict';Object[a111_0x1d97('0x0')](exports,a111_0x1d97('0x1'),{'value':!![]});const fs=require('fs');const spawn=require(a111_0x1d97('0x2'))[a111_0x1d97('0x3')];const fsExtra=require(a111_0x1d97('0x4'));const isImage=require(a111_0x1d97('0x5'));class FileOptimizationTask{constructor(){this[a111_0x1d97('0x6')]=![];}[a111_0x1d97('0x7')](){const _0x1fcfec=setInterval(function(){this[a111_0x1d97('0x8')]();}[a111_0x1d97('0x9')](this),0x1388);}[a111_0x1d97('0x8')](){const _0x4db7b6=process[a111_0x1d97('0xa')][a111_0x1d97('0xb')];console[a111_0x1d97('0xc')](a111_0x1d97('0xd')+_0x4db7b6);fs[a111_0x1d97('0xe')](_0x4db7b6,(_0x127cbe,_0x3e6d3a)=>{if(_0x3e6d3a!=null){_0x3e6d3a[a111_0x1d97('0xf')](_0x5943b3=>{const _0x33679f=0x14;const _0x2cd163=_0x5943b3[a111_0x1d97('0x10')]('.')[a111_0x1d97('0x11')](0x0,-0x1)['join']('.');if(isImage(_0x5943b3)&&!this[a111_0x1d97('0x6')]&&!fsExtra['existsSync'](_0x4db7b6+_0x2cd163+a111_0x1d97('0x12'))){this[a111_0x1d97('0x6')]=!![];this[a111_0x1d97('0x13')](_0x4db7b6,_0x5943b3,_0x33679f);}});}});}[a111_0x1d97('0x13')](_0x49d5e3,_0x494a24,_0x5d2f90=0x1e){const _0x2076fc=_0x49d5e3+''+_0x494a24;console[a111_0x1d97('0xc')](_0x2076fc);console['log'](_0x494a24);const _0xbf9da6=_0x494a24[a111_0x1d97('0x10')]('.')['slice'](0x0,-0x1)[a111_0x1d97('0x14')]('.');const _0x1b73d1=a111_0x1d97('0x15');const _0xfd544a=['-y','-r',a111_0x1d97('0x16'),a111_0x1d97('0x17'),'1',a111_0x1d97('0x18'),a111_0x1d97('0x19'),'-i',_0x2076fc,'-t',String(_0x5d2f90),'-c:v',a111_0x1d97('0x1a'),a111_0x1d97('0x1b'),a111_0x1d97('0x1c'),'-r','25',a111_0x1d97('0x1d'),a111_0x1d97('0x1e'),_0x49d5e3+_0xbf9da6+a111_0x1d97('0x12')];const _0x1042aa=spawn(_0x1b73d1,_0xfd544a);_0x1042aa[a111_0x1d97('0x1f')]['on']('data',function(_0x5f5bf4){console[a111_0x1d97('0xc')](a111_0x1d97('0x20')+_0x2076fc);});_0x1042aa['stderr']['on'](a111_0x1d97('0x21'),function(_0x35f454){console[a111_0x1d97('0xc')]('stderr:\x20'+_0x35f454);}[a111_0x1d97('0x9')](this));_0x1042aa['on']('close',function(){console[a111_0x1d97('0xc')](a111_0x1d97('0x22'));this['videoConverting']=![];}['bind'](this));}}exports[a111_0x1d97('0x23')]=FileOptimizationTask;