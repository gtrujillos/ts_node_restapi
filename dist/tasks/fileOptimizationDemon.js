var a222_0x24c9=['-vf','scale=1920:1080','stdout','data','Converting\x20','stderr','stderr:\x20','close','finished\x20mp4\x20convert','default','defineProperty','__esModule','spawn','fs-extra','is-image','start','bind','exploreDir','IMAGE_FILES_FOLDER','log','exploreDir:\x20','readdir','forEach','split','slice','join','videoConverting','existsSync','.mp4','createImageVideo','ffmpeg','-loop','glob','-c:v','-pix_fmt'];(function(_0x14fc66,_0x434c67){var _0x435f1d=function(_0x250f9f){while(--_0x250f9f){_0x14fc66['push'](_0x14fc66['shift']());}};_0x435f1d(++_0x434c67);}(a222_0x24c9,0x1ae));var a222_0x27cf=function(_0x25cc47,_0x3e50e6){_0x25cc47=_0x25cc47-0x0;var _0x36b121=a222_0x24c9[_0x25cc47];return _0x36b121;};'use strict';Object[a222_0x27cf('0x0')](exports,a222_0x27cf('0x1'),{'value':!![]});const fs=require('fs');const spawn=require('child_process')[a222_0x27cf('0x2')];const fsExtra=require(a222_0x27cf('0x3'));const isImage=require(a222_0x27cf('0x4'));class FileOptimizationTask{constructor(){this['videoConverting']=![];}[a222_0x27cf('0x5')](){const _0x447fb4=setInterval(function(){this['exploreDir']();}[a222_0x27cf('0x6')](this),0x1388);}[a222_0x27cf('0x7')](){const _0x51aa00=process['env'][a222_0x27cf('0x8')];console[a222_0x27cf('0x9')](a222_0x27cf('0xa')+_0x51aa00);fs[a222_0x27cf('0xb')](_0x51aa00,(_0x864539,_0x52b5fb)=>{if(_0x52b5fb!=null){_0x52b5fb[a222_0x27cf('0xc')](_0x7b18a4=>{const _0x33a70c=0x14;const _0x3137c8=_0x7b18a4[a222_0x27cf('0xd')]('.')[a222_0x27cf('0xe')](0x0,-0x1)[a222_0x27cf('0xf')]('.');if(isImage(_0x7b18a4)&&!this[a222_0x27cf('0x10')]&&!fsExtra[a222_0x27cf('0x11')](_0x51aa00+_0x3137c8+a222_0x27cf('0x12'))){this[a222_0x27cf('0x10')]=!![];this[a222_0x27cf('0x13')](_0x51aa00,_0x7b18a4,_0x33a70c);}});}});}[a222_0x27cf('0x13')](_0x4a36ec,_0x3457cd,_0x2610b4=0x1e){const _0x937259=_0x4a36ec+''+_0x3457cd;console[a222_0x27cf('0x9')](_0x937259);console[a222_0x27cf('0x9')](_0x3457cd);const _0x4a470a=_0x3457cd[a222_0x27cf('0xd')]('.')[a222_0x27cf('0xe')](0x0,-0x1)[a222_0x27cf('0xf')]('.');const _0x3ed4a0=a222_0x27cf('0x14');const _0x4a8cc7=['-y','-r','1/2',a222_0x27cf('0x15'),'1','-pattern_type',a222_0x27cf('0x16'),'-i',_0x937259,'-t',String(_0x2610b4),a222_0x27cf('0x17'),'libx264',a222_0x27cf('0x18'),'yuv420p','-r','25',a222_0x27cf('0x19'),a222_0x27cf('0x1a'),_0x4a36ec+_0x4a470a+a222_0x27cf('0x12')];const _0x1f14e1=spawn(_0x3ed4a0,_0x4a8cc7);_0x1f14e1[a222_0x27cf('0x1b')]['on'](a222_0x27cf('0x1c'),function(_0x157a47){console[a222_0x27cf('0x9')](a222_0x27cf('0x1d')+_0x937259);});_0x1f14e1[a222_0x27cf('0x1e')]['on']('data',function(_0x224996){console[a222_0x27cf('0x9')](a222_0x27cf('0x1f')+_0x224996);}[a222_0x27cf('0x6')](this));_0x1f14e1['on'](a222_0x27cf('0x20'),function(){console[a222_0x27cf('0x9')](a222_0x27cf('0x21'));this[a222_0x27cf('0x10')]=![];}['bind'](this));}}exports[a222_0x27cf('0x22')]=FileOptimizationTask;