var a110_0x5ca8=['env','FILE_OPTIMIZATION_SERVICE_ENABLED','true','SOCKET_SERVICE_ENABLED','listen','get','port','\x20\x20App\x20is\x20running\x20at\x20http://localhost:%d\x20in\x20%s\x20mode','log','0.0.0.0','TCP\x20Server\x20is\x20running\x20on\x20port\x20','connection','CONNECTED:\x20','remoteAddress','remotePort','data','close','CLOSED:\x20','defineProperty','errorhandler','default','use'];(function(_0x12e3a7,_0x5ea4ce){var _0x1f8881=function(_0x14666a){while(--_0x14666a){_0x12e3a7['push'](_0x12e3a7['shift']());}};_0x1f8881(++_0x5ea4ce);}(a110_0x5ca8,0x1b4));var a110_0x313f=function(_0x2f3e31,_0x3a89c9){_0x2f3e31=_0x2f3e31-0x0;var _0x2c6db2=a110_0x5ca8[_0x2f3e31];return _0x2c6db2;};'use strict';var __importDefault=this&&this['__importDefault']||function(_0x4afb58){return _0x4afb58&&_0x4afb58['__esModule']?_0x4afb58:{'default':_0x4afb58};};Object[a110_0x313f('0x0')](exports,'__esModule',{'value':!![]});const errorhandler_1=__importDefault(require(a110_0x313f('0x1')));const app_1=__importDefault(require('./app'));const fileOptimizationDemon_1=__importDefault(require('./tasks/fileOptimizationDemon'));app_1[a110_0x313f('0x2')][a110_0x313f('0x3')](errorhandler_1[a110_0x313f('0x2')]());const expressServiceEnabled=process[a110_0x313f('0x4')]['EXPRESS_SERVICE_ENABLED']=='true';const fileOptimizationEnabled=process[a110_0x313f('0x4')][a110_0x313f('0x5')]==a110_0x313f('0x6');const socketServiceEnabled=process['env'][a110_0x313f('0x7')]==a110_0x313f('0x6');if(expressServiceEnabled){const server=app_1[a110_0x313f('0x2')][a110_0x313f('0x8')](app_1[a110_0x313f('0x2')][a110_0x313f('0x9')](a110_0x313f('0xa')),()=>{console['log'](a110_0x313f('0xb'),app_1[a110_0x313f('0x2')][a110_0x313f('0x9')](a110_0x313f('0xa')),app_1['default']['get']('env'));console[a110_0x313f('0xc')]('\x20\x20Press\x20CTRL-C\x20to\x20stop\x0a');});}if(fileOptimizationEnabled){const fileOptimizationTask=new fileOptimizationDemon_1[(a110_0x313f('0x2'))]();fileOptimizationTask['start']();}if(socketServiceEnabled){const net=require('net');const port=0x46;const host=a110_0x313f('0xd');const fs=require('fs');const socketServer=net['createServer']();socketServer['listen'](port,host,()=>{console['log'](a110_0x313f('0xe')+port+'.');});const sockets=[];socketServer['on'](a110_0x313f('0xf'),function(_0xff0a4a){console['log'](a110_0x313f('0x10')+_0xff0a4a[a110_0x313f('0x11')]+':'+_0xff0a4a[a110_0x313f('0x12')]);_0xff0a4a['on'](a110_0x313f('0x13'),function(_0x170b4c){const _0x2f8c32=String(_0x170b4c);console[a110_0x313f('0xc')]('******result:\x20');console[a110_0x313f('0xc')](_0x2f8c32);});_0xff0a4a['on'](a110_0x313f('0x14'),function(_0xd8c854){const _0xf95bb4=sockets['findIndex'](function(_0xf98afa){return _0xf98afa[a110_0x313f('0x11')]===_0xff0a4a['remoteAddress']&&_0xf98afa[a110_0x313f('0x12')]===_0xff0a4a[a110_0x313f('0x12')];});if(_0xf95bb4!==-0x1)sockets['splice'](_0xf95bb4,0x1);console['log'](a110_0x313f('0x15')+_0xff0a4a['remoteAddress']+'\x20'+_0xff0a4a[a110_0x313f('0x12')]);});});}exports['default']=null;