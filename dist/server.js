var a109_0x4f1e=['TCP\x20Server\x20is\x20running\x20on\x20port\x20','CONNECTED:\x20','remoteAddress','remotePort','data','DATA\x20','controllers','vehiclesCountController','report','parse','then','forEach','close','findIndex','splice','CLOSED:\x20','__importDefault','__esModule','errorhandler','use','default','listen','get','port','log','\x20\x20App\x20is\x20running\x20at\x20http://localhost:%d\x20in\x20%s\x20mode','env','net','0.0.0.0','createServer'];(function(_0x3580c4,_0x964b59){var _0x5edd28=function(_0x1f0df5){while(--_0x1f0df5){_0x3580c4['push'](_0x3580c4['shift']());}};_0x5edd28(++_0x964b59);}(a109_0x4f1e,0x1b4));var a109_0x49d4=function(_0x28c5d3,_0x25c736){_0x28c5d3=_0x28c5d3-0x0;var _0x1ecba1=a109_0x4f1e[_0x28c5d3];return _0x1ecba1;};'use strict';var __importDefault=this&&this[a109_0x49d4('0x0')]||function(_0x57cc14){return _0x57cc14&&_0x57cc14[a109_0x49d4('0x1')]?_0x57cc14:{'default':_0x57cc14};};Object['defineProperty'](exports,a109_0x49d4('0x1'),{'value':!![]});const errorhandler_1=__importDefault(require(a109_0x49d4('0x2')));const app_1=__importDefault(require('./app'));const sequelize_utils_1=__importDefault(require('./infrastructure/sequelize-utils'));app_1['default'][a109_0x49d4('0x3')](errorhandler_1[a109_0x49d4('0x4')]());const server=app_1[a109_0x49d4('0x4')][a109_0x49d4('0x5')](app_1[a109_0x49d4('0x4')][a109_0x49d4('0x6')](a109_0x49d4('0x7')),()=>{console[a109_0x49d4('0x8')](a109_0x49d4('0x9'),app_1[a109_0x49d4('0x4')][a109_0x49d4('0x6')]('port'),app_1[a109_0x49d4('0x4')][a109_0x49d4('0x6')](a109_0x49d4('0xa')));console['log']('\x20\x20Press\x20CTRL-C\x20to\x20stop\x0a');});const net=require(a109_0x49d4('0xb'));const port=0x46;const host=a109_0x49d4('0xc');const fs=require('fs');const socketServer=net[a109_0x49d4('0xd')]();socketServer[a109_0x49d4('0x5')](port,host,()=>{console['log'](a109_0x49d4('0xe')+port+'.');});const sockets=[];socketServer['on']('connection',function(_0x1f886d){console[a109_0x49d4('0x8')](a109_0x49d4('0xf')+_0x1f886d[a109_0x49d4('0x10')]+':'+_0x1f886d[a109_0x49d4('0x11')]);_0x1f886d['on'](a109_0x49d4('0x12'),function(_0x41326e){console[a109_0x49d4('0x8')](a109_0x49d4('0x13')+_0x1f886d[a109_0x49d4('0x10')]+':\x20'+_0x41326e);sequelize_utils_1[a109_0x49d4('0x4')][a109_0x49d4('0x14')][a109_0x49d4('0x15')][a109_0x49d4('0x16')]({'body':JSON[a109_0x49d4('0x17')](_0x41326e)},null,null)[a109_0x49d4('0x18')](_0x4e7a43=>{});sockets[a109_0x49d4('0x19')](function(_0x1f886d,_0x1c0ca4,_0x57de06){_0x1f886d['write'](_0x1f886d[a109_0x49d4('0x10')]+':'+_0x1f886d[a109_0x49d4('0x11')]+'\x20said\x20*********:\x0a\x20'+_0x41326e+'\x0a');});});_0x1f886d['on'](a109_0x49d4('0x1a'),function(_0x429931){const _0xac1de5=sockets[a109_0x49d4('0x1b')](function(_0x1e164a){return _0x1e164a[a109_0x49d4('0x10')]===_0x1f886d['remoteAddress']&&_0x1e164a[a109_0x49d4('0x11')]===_0x1f886d[a109_0x49d4('0x11')];});if(_0xac1de5!==-0x1)sockets[a109_0x49d4('0x1c')](_0xac1de5,0x1);console[a109_0x49d4('0x8')](a109_0x49d4('0x1d')+_0x1f886d['remoteAddress']+'\x20'+_0x1f886d[a109_0x49d4('0x11')]);});});exports[a109_0x49d4('0x4')]=server;