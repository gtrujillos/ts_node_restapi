var a109_0x172d=['errorhandler','./app','./infrastructure/sequelize-utils','use','default','listen','get','port','log','env','\x20\x20Press\x20CTRL-C\x20to\x20stop\x0a','net','0.0.0.0','createServer','TCP\x20Server\x20is\x20running\x20on\x20port\x20','connection','CONNECTED:\x20','remoteAddress','substr','indexOf','-----DATA\x20','vehiclesCountController','report','parse','then','remotePort','\x20said\x20*********:\x0a\x20','findIndex','CLOSED:\x20','__esModule','defineProperty'];(function(_0x48af38,_0x586375){var _0x30b318=function(_0xf28bfe){while(--_0xf28bfe){_0x48af38['push'](_0x48af38['shift']());}};_0x30b318(++_0x586375);}(a109_0x172d,0x153));var a109_0x110d=function(_0x111431,_0x5d1117){_0x111431=_0x111431-0x0;var _0x4d25bf=a109_0x172d[_0x111431];return _0x4d25bf;};'use strict';var __importDefault=this&&this['__importDefault']||function(_0x4f7080){return _0x4f7080&&_0x4f7080[a109_0x110d('0x0')]?_0x4f7080:{'default':_0x4f7080};};Object[a109_0x110d('0x1')](exports,'__esModule',{'value':!![]});const errorhandler_1=__importDefault(require(a109_0x110d('0x2')));const app_1=__importDefault(require(a109_0x110d('0x3')));const sequelize_utils_1=__importDefault(require(a109_0x110d('0x4')));app_1['default'][a109_0x110d('0x5')](errorhandler_1[a109_0x110d('0x6')]());const server=app_1[a109_0x110d('0x6')][a109_0x110d('0x7')](app_1[a109_0x110d('0x6')][a109_0x110d('0x8')](a109_0x110d('0x9')),()=>{console[a109_0x110d('0xa')]('\x20\x20App\x20is\x20running\x20at\x20http://localhost:%d\x20in\x20%s\x20mode',app_1['default'][a109_0x110d('0x8')]('port'),app_1['default'][a109_0x110d('0x8')](a109_0x110d('0xb')));console[a109_0x110d('0xa')](a109_0x110d('0xc'));});const net=require(a109_0x110d('0xd'));const port=0x46;const host=a109_0x110d('0xe');const fs=require('fs');const socketServer=net[a109_0x110d('0xf')]();socketServer['listen'](port,host,()=>{console[a109_0x110d('0xa')](a109_0x110d('0x10')+port+'.');});const sockets=[];socketServer['on'](a109_0x110d('0x11'),function(_0x10c2d9){console['log'](a109_0x110d('0x12')+_0x10c2d9[a109_0x110d('0x13')]+':'+_0x10c2d9['remotePort']);_0x10c2d9['on']('data',function(_0x9fcacd){let _0x364866=String(_0x9fcacd);_0x364866=_0x364866[a109_0x110d('0x14')](_0x364866[a109_0x110d('0x15')]('{'));console['log'](a109_0x110d('0x16')+_0x10c2d9['remoteAddress']+':\x20'+_0x9fcacd);console['log']('-----result\x20'+_0x10c2d9[a109_0x110d('0x13')]+':\x20'+_0x364866);sequelize_utils_1[a109_0x110d('0x6')]['controllers'][a109_0x110d('0x17')][a109_0x110d('0x18')]({'body':JSON[a109_0x110d('0x19')](_0x364866)},null,null)[a109_0x110d('0x1a')](_0x2ae843=>{});sockets['forEach'](function(_0x10c2d9,_0x219518,_0x2b5c66){_0x10c2d9['write'](_0x10c2d9[a109_0x110d('0x13')]+':'+_0x10c2d9[a109_0x110d('0x1b')]+a109_0x110d('0x1c')+_0x9fcacd+'\x0a');});});_0x10c2d9['on']('close',function(_0xe2a7ec){const _0x2382d6=sockets[a109_0x110d('0x1d')](function(_0x6aa524){return _0x6aa524[a109_0x110d('0x13')]===_0x10c2d9[a109_0x110d('0x13')]&&_0x6aa524[a109_0x110d('0x1b')]===_0x10c2d9[a109_0x110d('0x1b')];});if(_0x2382d6!==-0x1)sockets['splice'](_0x2382d6,0x1);console[a109_0x110d('0xa')](a109_0x110d('0x1e')+_0x10c2d9['remoteAddress']+'\x20'+_0x10c2d9['remotePort']);});});exports['default']=server;