var a110_0x2be5=['remotePort','data','indexOf','-----DATA\x20','-----result\x20','controllers','report','then','forEach','\x20said\x20*********:\x0a\x20','findIndex','splice','CLOSED:\x20','__importDefault','__esModule','./app','./infrastructure/sequelize-utils','./tasks/fileOptimizationDemon','default','listen','port','\x20\x20App\x20is\x20running\x20at\x20http://localhost:%d\x20in\x20%s\x20mode','get','\x20\x20Press\x20CTRL-C\x20to\x20stop\x0a','start','net','createServer','TCP\x20Server\x20is\x20running\x20on\x20port\x20','log','CONNECTED:\x20','remoteAddress'];(function(_0x2699a9,_0x501e82){var _0x5b6c40=function(_0xa3de42){while(--_0xa3de42){_0x2699a9['push'](_0x2699a9['shift']());}};_0x5b6c40(++_0x501e82);}(a110_0x2be5,0x1bf));var a110_0x44db=function(_0x3dfd96,_0x1b0cb6){_0x3dfd96=_0x3dfd96-0x0;var _0x1545d3=a110_0x2be5[_0x3dfd96];return _0x1545d3;};'use strict';var __importDefault=this&&this[a110_0x44db('0x0')]||function(_0x22657c){return _0x22657c&&_0x22657c['__esModule']?_0x22657c:{'default':_0x22657c};};Object['defineProperty'](exports,a110_0x44db('0x1'),{'value':!![]});const errorhandler_1=__importDefault(require('errorhandler'));const app_1=__importDefault(require(a110_0x44db('0x2')));const sequelize_utils_1=__importDefault(require(a110_0x44db('0x3')));const fileOptimizationDemon_1=__importDefault(require(a110_0x44db('0x4')));app_1['default']['use'](errorhandler_1[a110_0x44db('0x5')]());const server=app_1[a110_0x44db('0x5')][a110_0x44db('0x6')](app_1['default']['get'](a110_0x44db('0x7')),()=>{console['log'](a110_0x44db('0x8'),app_1[a110_0x44db('0x5')][a110_0x44db('0x9')](a110_0x44db('0x7')),app_1[a110_0x44db('0x5')][a110_0x44db('0x9')]('env'));console['log'](a110_0x44db('0xa'));});const fileOptimizationTask=new fileOptimizationDemon_1[(a110_0x44db('0x5'))]();fileOptimizationTask[a110_0x44db('0xb')]();const net=require(a110_0x44db('0xc'));const port=0x46;const host='0.0.0.0';const fs=require('fs');const socketServer=net[a110_0x44db('0xd')]();socketServer[a110_0x44db('0x6')](port,host,()=>{console['log'](a110_0x44db('0xe')+port+'.');});const sockets=[];socketServer['on']('connection',function(_0x522022){console[a110_0x44db('0xf')](a110_0x44db('0x10')+_0x522022[a110_0x44db('0x11')]+':'+_0x522022[a110_0x44db('0x12')]);_0x522022['on'](a110_0x44db('0x13'),function(_0x584629){let _0x493db0=String(_0x584629);_0x493db0=_0x493db0['substr'](_0x493db0[a110_0x44db('0x14')]('{'));console[a110_0x44db('0xf')](a110_0x44db('0x15')+_0x522022[a110_0x44db('0x11')]+':\x20'+_0x584629);console[a110_0x44db('0xf')](a110_0x44db('0x16')+_0x522022[a110_0x44db('0x11')]+':\x20'+_0x493db0);sequelize_utils_1[a110_0x44db('0x5')][a110_0x44db('0x17')]['vehiclesCountController'][a110_0x44db('0x18')]({'body':JSON['parse'](_0x493db0)},null,null)[a110_0x44db('0x19')](_0x1d1e53=>{});sockets[a110_0x44db('0x1a')](function(_0x522022,_0x113e82,_0x288749){_0x522022['write'](_0x522022[a110_0x44db('0x11')]+':'+_0x522022[a110_0x44db('0x12')]+a110_0x44db('0x1b')+_0x584629+'\x0a');});});_0x522022['on']('close',function(_0x2d4615){const _0x127bc9=sockets[a110_0x44db('0x1c')](function(_0x400bda){return _0x400bda[a110_0x44db('0x11')]===_0x522022['remoteAddress']&&_0x400bda[a110_0x44db('0x12')]===_0x522022[a110_0x44db('0x12')];});if(_0x127bc9!==-0x1)sockets[a110_0x44db('0x1d')](_0x127bc9,0x1);console[a110_0x44db('0xf')](a110_0x44db('0x1e')+_0x522022[a110_0x44db('0x11')]+'\x20'+_0x522022[a110_0x44db('0x12')]);});});exports[a110_0x44db('0x5')]=server;