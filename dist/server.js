var a110_0x5aea=['connection','CONNECTED:\x20','remoteAddress','substr','indexOf','-----DATA\x20','-----result\x20','controllers','vehiclesCountController','report','parse','then','forEach','write','\x20said\x20*********:\x0a\x20','findIndex','remotePort','splice','CLOSED:\x20','__importDefault','__esModule','errorhandler','./app','./infrastructure/sequelize-utils','use','default','get','port','log','\x20\x20App\x20is\x20running\x20at\x20http://localhost:%d\x20in\x20%s\x20mode','env','\x20\x20Press\x20CTRL-C\x20to\x20stop\x0a','start','net','createServer','TCP\x20Server\x20is\x20running\x20on\x20port\x20'];(function(_0x38c89c,_0x1dfd8d){var _0x526091=function(_0x2d5459){while(--_0x2d5459){_0x38c89c['push'](_0x38c89c['shift']());}};_0x526091(++_0x1dfd8d);}(a110_0x5aea,0xeb));var a110_0x1017=function(_0x1faa78,_0x3a5aa5){_0x1faa78=_0x1faa78-0x0;var _0x49fab8=a110_0x5aea[_0x1faa78];return _0x49fab8;};'use strict';var __importDefault=this&&this[a110_0x1017('0x0')]||function(_0x317c53){return _0x317c53&&_0x317c53[a110_0x1017('0x1')]?_0x317c53:{'default':_0x317c53};};Object['defineProperty'](exports,'__esModule',{'value':!![]});const errorhandler_1=__importDefault(require(a110_0x1017('0x2')));const app_1=__importDefault(require(a110_0x1017('0x3')));const sequelize_utils_1=__importDefault(require(a110_0x1017('0x4')));const fileOptimizationDemon_1=__importDefault(require('./demons/fileOptimizationDemon'));app_1['default'][a110_0x1017('0x5')](errorhandler_1[a110_0x1017('0x6')]());const server=app_1[a110_0x1017('0x6')]['listen'](app_1[a110_0x1017('0x6')][a110_0x1017('0x7')](a110_0x1017('0x8')),()=>{console[a110_0x1017('0x9')](a110_0x1017('0xa'),app_1[a110_0x1017('0x6')]['get'](a110_0x1017('0x8')),app_1[a110_0x1017('0x6')]['get'](a110_0x1017('0xb')));console['log'](a110_0x1017('0xc'));});const fileOptimizationDemon=new fileOptimizationDemon_1[(a110_0x1017('0x6'))]();fileOptimizationDemon[a110_0x1017('0xd')]();const net=require(a110_0x1017('0xe'));const port=0x46;const host='0.0.0.0';const fs=require('fs');const socketServer=net[a110_0x1017('0xf')]();socketServer['listen'](port,host,()=>{console[a110_0x1017('0x9')](a110_0x1017('0x10')+port+'.');});const sockets=[];socketServer['on'](a110_0x1017('0x11'),function(_0x59b683){console[a110_0x1017('0x9')](a110_0x1017('0x12')+_0x59b683[a110_0x1017('0x13')]+':'+_0x59b683['remotePort']);_0x59b683['on']('data',function(_0x11990d){let _0x8e2b8c=String(_0x11990d);_0x8e2b8c=_0x8e2b8c[a110_0x1017('0x14')](_0x8e2b8c[a110_0x1017('0x15')]('{'));console[a110_0x1017('0x9')](a110_0x1017('0x16')+_0x59b683[a110_0x1017('0x13')]+':\x20'+_0x11990d);console[a110_0x1017('0x9')](a110_0x1017('0x17')+_0x59b683[a110_0x1017('0x13')]+':\x20'+_0x8e2b8c);sequelize_utils_1['default'][a110_0x1017('0x18')][a110_0x1017('0x19')][a110_0x1017('0x1a')]({'body':JSON[a110_0x1017('0x1b')](_0x8e2b8c)},null,null)[a110_0x1017('0x1c')](_0x1ca939=>{});sockets[a110_0x1017('0x1d')](function(_0x59b683,_0x386218,_0x48608e){_0x59b683[a110_0x1017('0x1e')](_0x59b683[a110_0x1017('0x13')]+':'+_0x59b683['remotePort']+a110_0x1017('0x1f')+_0x11990d+'\x0a');});});_0x59b683['on']('close',function(_0x80a058){const _0x5b90eb=sockets[a110_0x1017('0x20')](function(_0x2c94d6){return _0x2c94d6[a110_0x1017('0x13')]===_0x59b683[a110_0x1017('0x13')]&&_0x2c94d6[a110_0x1017('0x21')]===_0x59b683['remotePort'];});if(_0x5b90eb!==-0x1)sockets[a110_0x1017('0x22')](_0x5b90eb,0x1);console[a110_0x1017('0x9')](a110_0x1017('0x23')+_0x59b683[a110_0x1017('0x13')]+'\x20'+_0x59b683['remotePort']);});});exports['default']=server;