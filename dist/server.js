var a110_0x5502=['listen','get','port','\x20\x20App\x20is\x20running\x20at\x20http://localhost:%d\x20in\x20%s\x20mode','env','log','\x20\x20Press\x20CTRL-C\x20to\x20stop\x0a','start','net','0.0.0.0','TCP\x20Server\x20is\x20running\x20on\x20port\x20','CONNECTED:\x20','remoteAddress','remotePort','data','substr','indexOf','-----DATA\x20','vehiclesCountController','then','\x20said\x20*********:\x0a\x20','close','findIndex','splice','CLOSED:\x20','__importDefault','defineProperty','__esModule','./app','./demons/fileOptimizationDemon','default','use'];(function(_0xcfe62e,_0x22605c){var _0x325f45=function(_0x26564c){while(--_0x26564c){_0xcfe62e['push'](_0xcfe62e['shift']());}};_0x325f45(++_0x22605c);}(a110_0x5502,0x139));var a110_0x2755=function(_0x10fe6b,_0x516215){_0x10fe6b=_0x10fe6b-0x0;var _0x53e564=a110_0x5502[_0x10fe6b];return _0x53e564;};'use strict';var __importDefault=this&&this[a110_0x2755('0x0')]||function(_0x36e36e){return _0x36e36e&&_0x36e36e['__esModule']?_0x36e36e:{'default':_0x36e36e};};Object[a110_0x2755('0x1')](exports,a110_0x2755('0x2'),{'value':!![]});const errorhandler_1=__importDefault(require('errorhandler'));const app_1=__importDefault(require(a110_0x2755('0x3')));const sequelize_utils_1=__importDefault(require('./infrastructure/sequelize-utils'));const fileOptimizationDemon_1=__importDefault(require(a110_0x2755('0x4')));app_1[a110_0x2755('0x5')][a110_0x2755('0x6')](errorhandler_1['default']());const server=app_1[a110_0x2755('0x5')][a110_0x2755('0x7')](app_1[a110_0x2755('0x5')][a110_0x2755('0x8')](a110_0x2755('0x9')),()=>{console['log'](a110_0x2755('0xa'),app_1[a110_0x2755('0x5')][a110_0x2755('0x8')](a110_0x2755('0x9')),app_1[a110_0x2755('0x5')]['get'](a110_0x2755('0xb')));console[a110_0x2755('0xc')](a110_0x2755('0xd'));});const fileOptimizationDemon=new fileOptimizationDemon_1[(a110_0x2755('0x5'))]();fileOptimizationDemon[a110_0x2755('0xe')]();const net=require(a110_0x2755('0xf'));const port=0x46;const host=a110_0x2755('0x10');const fs=require('fs');const socketServer=net['createServer']();socketServer[a110_0x2755('0x7')](port,host,()=>{console[a110_0x2755('0xc')](a110_0x2755('0x11')+port+'.');});const sockets=[];socketServer['on']('connection',function(_0x39a274){console[a110_0x2755('0xc')](a110_0x2755('0x12')+_0x39a274[a110_0x2755('0x13')]+':'+_0x39a274[a110_0x2755('0x14')]);_0x39a274['on'](a110_0x2755('0x15'),function(_0xf3cf8){let _0x32be0e=String(_0xf3cf8);_0x32be0e=_0x32be0e[a110_0x2755('0x16')](_0x32be0e[a110_0x2755('0x17')]('{'));console[a110_0x2755('0xc')](a110_0x2755('0x18')+_0x39a274['remoteAddress']+':\x20'+_0xf3cf8);console[a110_0x2755('0xc')]('-----result\x20'+_0x39a274[a110_0x2755('0x13')]+':\x20'+_0x32be0e);sequelize_utils_1[a110_0x2755('0x5')]['controllers'][a110_0x2755('0x19')]['report']({'body':JSON['parse'](_0x32be0e)},null,null)[a110_0x2755('0x1a')](_0xc19b95=>{});sockets['forEach'](function(_0x39a274,_0x478d50,_0x1a08c5){_0x39a274['write'](_0x39a274[a110_0x2755('0x13')]+':'+_0x39a274[a110_0x2755('0x14')]+a110_0x2755('0x1b')+_0xf3cf8+'\x0a');});});_0x39a274['on'](a110_0x2755('0x1c'),function(_0x353eb6){const _0x2fd723=sockets[a110_0x2755('0x1d')](function(_0x3bbff3){return _0x3bbff3[a110_0x2755('0x13')]===_0x39a274['remoteAddress']&&_0x3bbff3[a110_0x2755('0x14')]===_0x39a274[a110_0x2755('0x14')];});if(_0x2fd723!==-0x1)sockets[a110_0x2755('0x1e')](_0x2fd723,0x1);console[a110_0x2755('0xc')](a110_0x2755('0x1f')+_0x39a274['remoteAddress']+'\x20'+_0x39a274[a110_0x2755('0x14')]);});});exports[a110_0x2755('0x5')]=server;