var a110_0x48d4=['splice','CLOSED:\x20','__importDefault','defineProperty','./app','./infrastructure/sequelize-utils','./tasks/fileOptimizationDemon','default','use','listen','get','port','log','\x20\x20App\x20is\x20running\x20at\x20http://localhost:%d\x20in\x20%s\x20mode','\x20\x20Press\x20CTRL-C\x20to\x20stop\x0a','start','createServer','connection','CONNECTED:\x20','remotePort','data','substr','indexOf','remoteAddress','controllers','vehiclesCountController','report','parse','then','forEach','write','\x20said\x20*********:\x0a\x20'];(function(_0x3b15a7,_0x2ac373){var _0x5aff6d=function(_0x28b18a){while(--_0x28b18a){_0x3b15a7['push'](_0x3b15a7['shift']());}};_0x5aff6d(++_0x2ac373);}(a110_0x48d4,0x1c2));var a110_0x3572=function(_0x39ee97,_0x5543db){_0x39ee97=_0x39ee97-0x0;var _0x589564=a110_0x48d4[_0x39ee97];return _0x589564;};'use strict';var __importDefault=this&&this[a110_0x3572('0x0')]||function(_0x4d452b){return _0x4d452b&&_0x4d452b['__esModule']?_0x4d452b:{'default':_0x4d452b};};Object[a110_0x3572('0x1')](exports,'__esModule',{'value':!![]});const errorhandler_1=__importDefault(require('errorhandler'));const app_1=__importDefault(require(a110_0x3572('0x2')));const sequelize_utils_1=__importDefault(require(a110_0x3572('0x3')));const fileOptimizationDemon_1=__importDefault(require(a110_0x3572('0x4')));app_1[a110_0x3572('0x5')][a110_0x3572('0x6')](errorhandler_1[a110_0x3572('0x5')]());const server=app_1[a110_0x3572('0x5')][a110_0x3572('0x7')](app_1['default'][a110_0x3572('0x8')](a110_0x3572('0x9')),()=>{console[a110_0x3572('0xa')](a110_0x3572('0xb'),app_1[a110_0x3572('0x5')]['get'](a110_0x3572('0x9')),app_1[a110_0x3572('0x5')][a110_0x3572('0x8')]('env'));console[a110_0x3572('0xa')](a110_0x3572('0xc'));});const fileOptimizationTask=new fileOptimizationDemon_1[(a110_0x3572('0x5'))]();fileOptimizationTask[a110_0x3572('0xd')]();const net=require('net');const port=0x46;const host='0.0.0.0';const fs=require('fs');const socketServer=net[a110_0x3572('0xe')]();socketServer[a110_0x3572('0x7')](port,host,()=>{console['log']('TCP\x20Server\x20is\x20running\x20on\x20port\x20'+port+'.');});const sockets=[];socketServer['on'](a110_0x3572('0xf'),function(_0xf2206e){console[a110_0x3572('0xa')](a110_0x3572('0x10')+_0xf2206e['remoteAddress']+':'+_0xf2206e[a110_0x3572('0x11')]);_0xf2206e['on'](a110_0x3572('0x12'),function(_0x6932d0){let _0x34ffe0=String(_0x6932d0);_0x34ffe0=_0x34ffe0[a110_0x3572('0x13')](_0x34ffe0[a110_0x3572('0x14')]('{'));console['log']('-----DATA\x20'+_0xf2206e[a110_0x3572('0x15')]+':\x20'+_0x6932d0);console[a110_0x3572('0xa')]('-----result\x20'+_0xf2206e[a110_0x3572('0x15')]+':\x20'+_0x34ffe0);sequelize_utils_1[a110_0x3572('0x5')][a110_0x3572('0x16')][a110_0x3572('0x17')][a110_0x3572('0x18')]({'body':JSON[a110_0x3572('0x19')](_0x34ffe0)},null,null)[a110_0x3572('0x1a')](_0xda3730=>{});sockets[a110_0x3572('0x1b')](function(_0xf2206e,_0x3f72de,_0x2fada6){_0xf2206e[a110_0x3572('0x1c')](_0xf2206e[a110_0x3572('0x15')]+':'+_0xf2206e[a110_0x3572('0x11')]+a110_0x3572('0x1d')+_0x6932d0+'\x0a');});});_0xf2206e['on']('close',function(_0x48556c){const _0x109a89=sockets['findIndex'](function(_0x3e1161){return _0x3e1161[a110_0x3572('0x15')]===_0xf2206e[a110_0x3572('0x15')]&&_0x3e1161[a110_0x3572('0x11')]===_0xf2206e[a110_0x3572('0x11')];});if(_0x109a89!==-0x1)sockets[a110_0x3572('0x1e')](_0x109a89,0x1);console['log'](a110_0x3572('0x1f')+_0xf2206e['remoteAddress']+'\x20'+_0xf2206e[a110_0x3572('0x11')]);});});exports[a110_0x3572('0x5')]=server;