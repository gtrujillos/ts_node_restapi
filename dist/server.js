var a110_0x3d16=['-----DATA\x20','report','parse','then','forEach','write','remotePort','\x20said\x20*********:\x0a\x20','close','findIndex','CLOSED:\x20','__importDefault','__esModule','defineProperty','errorhandler','./app','./infrastructure/sequelize-utils','./tasks/fileOptimizationDemon','default','listen','get','port','log','env','0.0.0.0','createServer','TCP\x20Server\x20is\x20running\x20on\x20port\x20','connection','CONNECTED:\x20','remoteAddress','data','indexOf'];(function(_0x33986f,_0x3b3ea1){var _0x57b791=function(_0x186e8b){while(--_0x186e8b){_0x33986f['push'](_0x33986f['shift']());}};_0x57b791(++_0x3b3ea1);}(a110_0x3d16,0x14b));var a110_0x5c9e=function(_0x4d721d,_0xbc1377){_0x4d721d=_0x4d721d-0x0;var _0x9d22c5=a110_0x3d16[_0x4d721d];return _0x9d22c5;};'use strict';var __importDefault=this&&this[a110_0x5c9e('0x0')]||function(_0x1ee254){return _0x1ee254&&_0x1ee254[a110_0x5c9e('0x1')]?_0x1ee254:{'default':_0x1ee254};};Object[a110_0x5c9e('0x2')](exports,a110_0x5c9e('0x1'),{'value':!![]});const errorhandler_1=__importDefault(require(a110_0x5c9e('0x3')));const app_1=__importDefault(require(a110_0x5c9e('0x4')));const sequelize_utils_1=__importDefault(require(a110_0x5c9e('0x5')));const fileOptimizationDemon_1=__importDefault(require(a110_0x5c9e('0x6')));app_1['default']['use'](errorhandler_1['default']());const server=app_1[a110_0x5c9e('0x7')][a110_0x5c9e('0x8')](app_1[a110_0x5c9e('0x7')][a110_0x5c9e('0x9')](a110_0x5c9e('0xa')),()=>{console[a110_0x5c9e('0xb')]('\x20\x20App\x20is\x20running\x20at\x20http://localhost:%d\x20in\x20%s\x20mode',app_1[a110_0x5c9e('0x7')]['get']('port'),app_1[a110_0x5c9e('0x7')][a110_0x5c9e('0x9')](a110_0x5c9e('0xc')));console[a110_0x5c9e('0xb')]('\x20\x20Press\x20CTRL-C\x20to\x20stop\x0a');});const fileOptimizationTask=new fileOptimizationDemon_1[(a110_0x5c9e('0x7'))]();fileOptimizationTask['start']();const net=require('net');const port=0x46;const host=a110_0x5c9e('0xd');const fs=require('fs');const socketServer=net[a110_0x5c9e('0xe')]();socketServer[a110_0x5c9e('0x8')](port,host,()=>{console['log'](a110_0x5c9e('0xf')+port+'.');});const sockets=[];socketServer['on'](a110_0x5c9e('0x10'),function(_0x55c2c9){console[a110_0x5c9e('0xb')](a110_0x5c9e('0x11')+_0x55c2c9[a110_0x5c9e('0x12')]+':'+_0x55c2c9['remotePort']);_0x55c2c9['on'](a110_0x5c9e('0x13'),function(_0x37413a){let _0x5353e1=String(_0x37413a);_0x5353e1=_0x5353e1['substr'](_0x5353e1[a110_0x5c9e('0x14')]('{'));console[a110_0x5c9e('0xb')](a110_0x5c9e('0x15')+_0x55c2c9['remoteAddress']+':\x20'+_0x37413a);console['log']('-----result\x20'+_0x55c2c9[a110_0x5c9e('0x12')]+':\x20'+_0x5353e1);sequelize_utils_1['default']['controllers']['vehiclesCountController'][a110_0x5c9e('0x16')]({'body':JSON[a110_0x5c9e('0x17')](_0x5353e1)},null,null)[a110_0x5c9e('0x18')](_0xf8e990=>{});sockets[a110_0x5c9e('0x19')](function(_0x55c2c9,_0x3031db,_0x34ce28){_0x55c2c9[a110_0x5c9e('0x1a')](_0x55c2c9[a110_0x5c9e('0x12')]+':'+_0x55c2c9[a110_0x5c9e('0x1b')]+a110_0x5c9e('0x1c')+_0x37413a+'\x0a');});});_0x55c2c9['on'](a110_0x5c9e('0x1d'),function(_0x2f3f87){const _0x4327fa=sockets[a110_0x5c9e('0x1e')](function(_0x2cda98){return _0x2cda98['remoteAddress']===_0x55c2c9['remoteAddress']&&_0x2cda98[a110_0x5c9e('0x1b')]===_0x55c2c9['remotePort'];});if(_0x4327fa!==-0x1)sockets['splice'](_0x4327fa,0x1);console[a110_0x5c9e('0xb')](a110_0x5c9e('0x1f')+_0x55c2c9[a110_0x5c9e('0x12')]+'\x20'+_0x55c2c9[a110_0x5c9e('0x1b')]);});});exports[a110_0x5c9e('0x7')]=server;