var a110_0x3698=['substr','indexOf','-----DATA\x20','-----result\x20','controllers','vehiclesCountController','report','parse','then','forEach','write','findIndex','splice','__importDefault','__esModule','defineProperty','errorhandler','./app','./infrastructure/sequelize-utils','./tasks/fileOptimizationDemon','default','use','listen','get','port','log','\x20\x20App\x20is\x20running\x20at\x20http://localhost:%d\x20in\x20%s\x20mode','env','\x20\x20Press\x20CTRL-C\x20to\x20stop\x0a','net','TCP\x20Server\x20is\x20running\x20on\x20port\x20','connection','CONNECTED:\x20','remoteAddress','remotePort','data'];(function(_0xf2b728,_0x36c86b){var _0x22970b=function(_0x1924c5){while(--_0x1924c5){_0xf2b728['push'](_0xf2b728['shift']());}};_0x22970b(++_0x36c86b);}(a110_0x3698,0x175));var a110_0x1c37=function(_0x217723,_0x381620){_0x217723=_0x217723-0x0;var _0x3e7c16=a110_0x3698[_0x217723];return _0x3e7c16;};'use strict';var __importDefault=this&&this[a110_0x1c37('0x0')]||function(_0x5b9a4b){return _0x5b9a4b&&_0x5b9a4b[a110_0x1c37('0x1')]?_0x5b9a4b:{'default':_0x5b9a4b};};Object[a110_0x1c37('0x2')](exports,a110_0x1c37('0x1'),{'value':!![]});const errorhandler_1=__importDefault(require(a110_0x1c37('0x3')));const app_1=__importDefault(require(a110_0x1c37('0x4')));const sequelize_utils_1=__importDefault(require(a110_0x1c37('0x5')));const fileOptimizationDemon_1=__importDefault(require(a110_0x1c37('0x6')));app_1[a110_0x1c37('0x7')][a110_0x1c37('0x8')](errorhandler_1[a110_0x1c37('0x7')]());const server=app_1[a110_0x1c37('0x7')][a110_0x1c37('0x9')](app_1['default'][a110_0x1c37('0xa')](a110_0x1c37('0xb')),()=>{console[a110_0x1c37('0xc')](a110_0x1c37('0xd'),app_1[a110_0x1c37('0x7')]['get'](a110_0x1c37('0xb')),app_1[a110_0x1c37('0x7')][a110_0x1c37('0xa')](a110_0x1c37('0xe')));console['log'](a110_0x1c37('0xf'));});const fileOptimizationTask=new fileOptimizationDemon_1[(a110_0x1c37('0x7'))]();fileOptimizationTask['start']();const net=require(a110_0x1c37('0x10'));const port=0x46;const host='0.0.0.0';const fs=require('fs');const socketServer=net['createServer']();socketServer[a110_0x1c37('0x9')](port,host,()=>{console[a110_0x1c37('0xc')](a110_0x1c37('0x11')+port+'.');});const sockets=[];socketServer['on'](a110_0x1c37('0x12'),function(_0x58ab45){console[a110_0x1c37('0xc')](a110_0x1c37('0x13')+_0x58ab45[a110_0x1c37('0x14')]+':'+_0x58ab45[a110_0x1c37('0x15')]);_0x58ab45['on'](a110_0x1c37('0x16'),function(_0xc7b388){let _0x3a67fe=String(_0xc7b388);_0x3a67fe=_0x3a67fe[a110_0x1c37('0x17')](_0x3a67fe[a110_0x1c37('0x18')]('{'));console[a110_0x1c37('0xc')](a110_0x1c37('0x19')+_0x58ab45[a110_0x1c37('0x14')]+':\x20'+_0xc7b388);console[a110_0x1c37('0xc')](a110_0x1c37('0x1a')+_0x58ab45['remoteAddress']+':\x20'+_0x3a67fe);sequelize_utils_1[a110_0x1c37('0x7')][a110_0x1c37('0x1b')][a110_0x1c37('0x1c')][a110_0x1c37('0x1d')]({'body':JSON[a110_0x1c37('0x1e')](_0x3a67fe)},null,null)[a110_0x1c37('0x1f')](_0x1d30c1=>{});sockets[a110_0x1c37('0x20')](function(_0x58ab45,_0x2f0712,_0x16caf2){_0x58ab45[a110_0x1c37('0x21')](_0x58ab45[a110_0x1c37('0x14')]+':'+_0x58ab45[a110_0x1c37('0x15')]+'\x20said\x20*********:\x0a\x20'+_0xc7b388+'\x0a');});});_0x58ab45['on']('close',function(_0x5e7d29){const _0x52f6e2=sockets[a110_0x1c37('0x22')](function(_0x4d74c8){return _0x4d74c8[a110_0x1c37('0x14')]===_0x58ab45[a110_0x1c37('0x14')]&&_0x4d74c8['remotePort']===_0x58ab45[a110_0x1c37('0x15')];});if(_0x52f6e2!==-0x1)sockets[a110_0x1c37('0x23')](_0x52f6e2,0x1);console['log']('CLOSED:\x20'+_0x58ab45[a110_0x1c37('0x14')]+'\x20'+_0x58ab45['remotePort']);});});exports[a110_0x1c37('0x7')]=server;