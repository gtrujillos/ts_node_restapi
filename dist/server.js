var a109_0x5638=['net','createServer','listen','TCP\x20Server\x20is\x20running\x20on\x20port\x20','connection','remoteAddress','remotePort','data','controllers','vehiclesCountController','parse','then','forEach','write','\x20said\x20*********:\x0a\x20','findIndex','splice','CLOSED:\x20','__importDefault','__esModule','defineProperty','errorhandler','./app','default','use','port','log','\x20\x20App\x20is\x20running\x20at\x20http://localhost:%d\x20in\x20%s\x20mode','get','env','\x20\x20Press\x20CTRL-C\x20to\x20stop\x0a'];(function(_0x348d02,_0x5a609f){var _0x315413=function(_0x17844f){while(--_0x17844f){_0x348d02['push'](_0x348d02['shift']());}};_0x315413(++_0x5a609f);}(a109_0x5638,0x8e));var a109_0x3267=function(_0x4ba6f6,_0x5345ef){_0x4ba6f6=_0x4ba6f6-0x0;var _0x262e7a=a109_0x5638[_0x4ba6f6];return _0x262e7a;};'use strict';var __importDefault=this&&this[a109_0x3267('0x0')]||function(_0x108417){return _0x108417&&_0x108417[a109_0x3267('0x1')]?_0x108417:{'default':_0x108417};};Object[a109_0x3267('0x2')](exports,a109_0x3267('0x1'),{'value':!![]});const errorhandler_1=__importDefault(require(a109_0x3267('0x3')));const app_1=__importDefault(require(a109_0x3267('0x4')));const sequelize_utils_1=__importDefault(require('./infrastructure/sequelize-utils'));app_1[a109_0x3267('0x5')][a109_0x3267('0x6')](errorhandler_1['default']());const server=app_1[a109_0x3267('0x5')]['listen'](app_1['default']['get'](a109_0x3267('0x7')),()=>{console[a109_0x3267('0x8')](a109_0x3267('0x9'),app_1[a109_0x3267('0x5')]['get']('port'),app_1[a109_0x3267('0x5')][a109_0x3267('0xa')](a109_0x3267('0xb')));console[a109_0x3267('0x8')](a109_0x3267('0xc'));});const net=require(a109_0x3267('0xd'));const port=0x46;const host='0.0.0.0';const fs=require('fs');const socketServer=net[a109_0x3267('0xe')]();socketServer[a109_0x3267('0xf')](port,host,()=>{console['log'](a109_0x3267('0x10')+port+'.');});const sockets=[];socketServer['on'](a109_0x3267('0x11'),function(_0xc074d2){console[a109_0x3267('0x8')]('CONNECTED:\x20'+_0xc074d2[a109_0x3267('0x12')]+':'+_0xc074d2[a109_0x3267('0x13')]);_0xc074d2['on'](a109_0x3267('0x14'),function(_0x5f005a){sequelize_utils_1[a109_0x3267('0x5')][a109_0x3267('0x15')][a109_0x3267('0x16')]['report']({'body':JSON[a109_0x3267('0x17')](_0x5f005a)},null,null)[a109_0x3267('0x18')](_0x54a039=>{console[a109_0x3267('0x8')](_0x54a039);});sockets[a109_0x3267('0x19')](function(_0xc074d2,_0x17f1d7,_0x4ed1f8){_0xc074d2[a109_0x3267('0x1a')](_0xc074d2['remoteAddress']+':'+_0xc074d2[a109_0x3267('0x13')]+a109_0x3267('0x1b')+_0x5f005a+'\x0a');});});_0xc074d2['on']('close',function(_0x1eb21c){const _0x2ada37=sockets[a109_0x3267('0x1c')](function(_0x20ca7f){return _0x20ca7f[a109_0x3267('0x12')]===_0xc074d2[a109_0x3267('0x12')]&&_0x20ca7f[a109_0x3267('0x13')]===_0xc074d2['remotePort'];});if(_0x2ada37!==-0x1)sockets[a109_0x3267('0x1d')](_0x2ada37,0x1);console['log'](a109_0x3267('0x1e')+_0xc074d2['remoteAddress']+'\x20'+_0xc074d2['remotePort']);});});exports[a109_0x3267('0x5')]=server;