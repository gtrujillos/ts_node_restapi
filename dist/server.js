var a109_0xdb65=['\x20said\x20*********:\x0a\x20','close','findIndex','splice','CLOSED:\x20','__importDefault','defineProperty','__esModule','errorhandler','./infrastructure/sequelize-utils','use','default','listen','get','port','log','\x20\x20Press\x20CTRL-C\x20to\x20stop\x0a','net','0.0.0.0','createServer','CONNECTED:\x20','remoteAddress','remotePort','data','substr','indexOf','DATA\x20','controllers','vehiclesCountController','report','then','write'];(function(_0x2b7919,_0x2cf34b){var _0x2228ab=function(_0x495ec2){while(--_0x495ec2){_0x2b7919['push'](_0x2b7919['shift']());}};_0x2228ab(++_0x2cf34b);}(a109_0xdb65,0x85));var a109_0x566b=function(_0x4fd81d,_0x3f88f5){_0x4fd81d=_0x4fd81d-0x0;var _0x4cced5=a109_0xdb65[_0x4fd81d];return _0x4cced5;};'use strict';var __importDefault=this&&this[a109_0x566b('0x0')]||function(_0x338972){return _0x338972&&_0x338972['__esModule']?_0x338972:{'default':_0x338972};};Object[a109_0x566b('0x1')](exports,a109_0x566b('0x2'),{'value':!![]});const errorhandler_1=__importDefault(require(a109_0x566b('0x3')));const app_1=__importDefault(require('./app'));const sequelize_utils_1=__importDefault(require(a109_0x566b('0x4')));app_1['default'][a109_0x566b('0x5')](errorhandler_1[a109_0x566b('0x6')]());const server=app_1[a109_0x566b('0x6')][a109_0x566b('0x7')](app_1[a109_0x566b('0x6')][a109_0x566b('0x8')](a109_0x566b('0x9')),()=>{console[a109_0x566b('0xa')]('\x20\x20App\x20is\x20running\x20at\x20http://localhost:%d\x20in\x20%s\x20mode',app_1[a109_0x566b('0x6')][a109_0x566b('0x8')](a109_0x566b('0x9')),app_1[a109_0x566b('0x6')][a109_0x566b('0x8')]('env'));console[a109_0x566b('0xa')](a109_0x566b('0xb'));});const net=require(a109_0x566b('0xc'));const port=0x46;const host=a109_0x566b('0xd');const fs=require('fs');const socketServer=net[a109_0x566b('0xe')]();socketServer[a109_0x566b('0x7')](port,host,()=>{console['log']('TCP\x20Server\x20is\x20running\x20on\x20port\x20'+port+'.');});const sockets=[];socketServer['on']('connection',function(_0xa74b4f){console[a109_0x566b('0xa')](a109_0x566b('0xf')+_0xa74b4f[a109_0x566b('0x10')]+':'+_0xa74b4f[a109_0x566b('0x11')]);_0xa74b4f['on'](a109_0x566b('0x12'),function(_0x1eff2a){let _0x4e9c1f=String(_0x1eff2a);_0x4e9c1f=_0x4e9c1f[a109_0x566b('0x13')](_0x4e9c1f[a109_0x566b('0x14')]('{'));console['log'](a109_0x566b('0x15')+_0xa74b4f[a109_0x566b('0x10')]+':\x20'+_0x4e9c1f);sequelize_utils_1['default'][a109_0x566b('0x16')][a109_0x566b('0x17')][a109_0x566b('0x18')]({'body':JSON['parse'](_0x4e9c1f)},null,null)[a109_0x566b('0x19')](_0x291867=>{});sockets['forEach'](function(_0xa74b4f,_0x228454,_0x47dd19){_0xa74b4f[a109_0x566b('0x1a')](_0xa74b4f[a109_0x566b('0x10')]+':'+_0xa74b4f[a109_0x566b('0x11')]+a109_0x566b('0x1b')+_0x1eff2a+'\x0a');});});_0xa74b4f['on'](a109_0x566b('0x1c'),function(_0x3f2b40){const _0x2ce609=sockets[a109_0x566b('0x1d')](function(_0x12721f){return _0x12721f['remoteAddress']===_0xa74b4f[a109_0x566b('0x10')]&&_0x12721f[a109_0x566b('0x11')]===_0xa74b4f[a109_0x566b('0x11')];});if(_0x2ce609!==-0x1)sockets[a109_0x566b('0x1e')](_0x2ce609,0x1);console[a109_0x566b('0xa')](a109_0x566b('0x1f')+_0xa74b4f[a109_0x566b('0x10')]+'\x20'+_0xa74b4f[a109_0x566b('0x11')]);});});exports['default']=server;