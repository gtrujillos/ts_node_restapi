var a109_0x1ad7=['splice','CLOSED:\x20','__importDefault','__esModule','defineProperty','errorhandler','./app','./infrastructure/sequelize-utils','default','use','listen','get','log','\x20\x20App\x20is\x20running\x20at\x20http://localhost:%d\x20in\x20%s\x20mode','port','env','0.0.0.0','createServer','TCP\x20Server\x20is\x20running\x20on\x20port\x20','connection','CONNECTED:\x20','remoteAddress','data','substr','indexOf','controllers','vehiclesCountController','parse','then','forEach','write','remotePort','\x20said\x20*********:\x0a\x20','close','findIndex'];(function(_0x3b6e73,_0xeb0388){var _0x2393b4=function(_0x1a4cdc){while(--_0x1a4cdc){_0x3b6e73['push'](_0x3b6e73['shift']());}};_0x2393b4(++_0xeb0388);}(a109_0x1ad7,0x160));var a109_0x5991=function(_0x5a7f07,_0x2584ce){_0x5a7f07=_0x5a7f07-0x0;var _0x3237c9=a109_0x1ad7[_0x5a7f07];return _0x3237c9;};'use strict';var __importDefault=this&&this[a109_0x5991('0x0')]||function(_0x353b64){return _0x353b64&&_0x353b64[a109_0x5991('0x1')]?_0x353b64:{'default':_0x353b64};};Object[a109_0x5991('0x2')](exports,a109_0x5991('0x1'),{'value':!![]});const errorhandler_1=__importDefault(require(a109_0x5991('0x3')));const app_1=__importDefault(require(a109_0x5991('0x4')));const sequelize_utils_1=__importDefault(require(a109_0x5991('0x5')));app_1[a109_0x5991('0x6')][a109_0x5991('0x7')](errorhandler_1['default']());const server=app_1[a109_0x5991('0x6')][a109_0x5991('0x8')](app_1[a109_0x5991('0x6')][a109_0x5991('0x9')]('port'),()=>{console[a109_0x5991('0xa')](a109_0x5991('0xb'),app_1['default'][a109_0x5991('0x9')](a109_0x5991('0xc')),app_1[a109_0x5991('0x6')][a109_0x5991('0x9')](a109_0x5991('0xd')));console['log']('\x20\x20Press\x20CTRL-C\x20to\x20stop\x0a');});const net=require('net');const port=0x46;const host=a109_0x5991('0xe');const fs=require('fs');const socketServer=net[a109_0x5991('0xf')]();socketServer[a109_0x5991('0x8')](port,host,()=>{console['log'](a109_0x5991('0x10')+port+'.');});const sockets=[];socketServer['on'](a109_0x5991('0x11'),function(_0xacb8c8){console[a109_0x5991('0xa')](a109_0x5991('0x12')+_0xacb8c8[a109_0x5991('0x13')]+':'+_0xacb8c8['remotePort']);_0xacb8c8['on'](a109_0x5991('0x14'),function(_0x59a5e0){let _0x4ad89b=String(_0x59a5e0);_0x4ad89b=_0x4ad89b[a109_0x5991('0x15')](_0x4ad89b[a109_0x5991('0x16')]('{'));console[a109_0x5991('0xa')]('DATA\x20'+_0xacb8c8[a109_0x5991('0x13')]+':\x20'+_0x4ad89b);sequelize_utils_1[a109_0x5991('0x6')][a109_0x5991('0x17')][a109_0x5991('0x18')]['report']({'body':JSON[a109_0x5991('0x19')](_0x4ad89b)},null,null)[a109_0x5991('0x1a')](_0x43c507=>{});sockets[a109_0x5991('0x1b')](function(_0xacb8c8,_0x2b08fe,_0x5cfd4a){_0xacb8c8[a109_0x5991('0x1c')](_0xacb8c8['remoteAddress']+':'+_0xacb8c8[a109_0x5991('0x1d')]+a109_0x5991('0x1e')+_0x59a5e0+'\x0a');});});_0xacb8c8['on'](a109_0x5991('0x1f'),function(_0x32d5c4){const _0x183178=sockets[a109_0x5991('0x20')](function(_0xeeb13){return _0xeeb13[a109_0x5991('0x13')]===_0xacb8c8[a109_0x5991('0x13')]&&_0xeeb13[a109_0x5991('0x1d')]===_0xacb8c8['remotePort'];});if(_0x183178!==-0x1)sockets[a109_0x5991('0x21')](_0x183178,0x1);console[a109_0x5991('0xa')](a109_0x5991('0x22')+_0xacb8c8[a109_0x5991('0x13')]+'\x20'+_0xacb8c8[a109_0x5991('0x1d')]);});});exports[a109_0x5991('0x6')]=server;