var a96_0x2380=['log','readdir','forEach','split','slice','join','existsSync','.mp4','createImageVideo','ffmpeg','1/2','-loop','-pattern_type','glob','libx264','-pix_fmt','yuv420p','-vf','data','Converting\x20','stderr','stderr:\x20','bind','finished\x20mp4\x20convert','default','fs-extra','videoConverting','start','setInterval','exploreDir','IMAGE_FILES_FOLDER'];(function(_0x4cad85,_0x4acccb){var _0x72cb5e=function(_0x2014f2){while(--_0x2014f2){_0x4cad85['push'](_0x4cad85['shift']());}};_0x72cb5e(++_0x4acccb);}(a96_0x2380,0xd3));var a96_0x553e=function(_0x31a87e,_0x1661f2){_0x31a87e=_0x31a87e-0x0;var _0x1a1b2f=a96_0x2380[_0x31a87e];return _0x1a1b2f;};'use strict';Object['defineProperty'](exports,'__esModule',{'value':!![]});const fs=require('fs');const spawn=require('child_process')['spawn'];const fsExtra=require(a96_0x553e('0x0'));const isImage=require('is-image');class FileOptimizationDemon{constructor(){this[a96_0x553e('0x1')]=![];}[a96_0x553e('0x2')](){const _0x4d4163=setInterval(function(){console['log'](a96_0x553e('0x3'));this[a96_0x553e('0x4')]();}['bind'](this),0x1388);}[a96_0x553e('0x4')](){const _0x210fdc=process['env'][a96_0x553e('0x5')];console[a96_0x553e('0x6')](_0x210fdc);fs[a96_0x553e('0x7')](_0x210fdc,(_0x38b860,_0x3a1875)=>{if(_0x3a1875!=null){_0x3a1875[a96_0x553e('0x8')](_0x4b3049=>{const _0x466bb4=0x1e;console['log'](_0x4b3049);const _0x58163d=_0x4b3049[a96_0x553e('0x9')]('.')[a96_0x553e('0xa')](0x0,-0x1)[a96_0x553e('0xb')]('.');if(isImage(_0x4b3049)&&!this[a96_0x553e('0x1')]&&!fsExtra[a96_0x553e('0xc')](_0x210fdc+_0x58163d+a96_0x553e('0xd'))){this['videoConverting']=!![];this[a96_0x553e('0xe')](_0x210fdc,_0x4b3049,_0x466bb4);}});}});}[a96_0x553e('0xe')](_0x27a6f7,_0x56de29,_0x3d98d8=0x1e){const _0x110415=_0x27a6f7+''+_0x56de29;console['log'](_0x110415);console[a96_0x553e('0x6')](_0x56de29);const _0x38e574=_0x56de29[a96_0x553e('0x9')]('.')[a96_0x553e('0xa')](0x0,-0x1)[a96_0x553e('0xb')]('.');const _0x39a0ee=a96_0x553e('0xf');const _0x1a5d24=['-y','-r',a96_0x553e('0x10'),a96_0x553e('0x11'),'1',a96_0x553e('0x12'),a96_0x553e('0x13'),'-i',_0x110415,'-t',String(_0x3d98d8),'-c:v',a96_0x553e('0x14'),a96_0x553e('0x15'),a96_0x553e('0x16'),'-r','25',a96_0x553e('0x17'),'scale=1920:1080',_0x27a6f7+_0x38e574+a96_0x553e('0xd')];const _0x36cb03=spawn(_0x39a0ee,_0x1a5d24);_0x36cb03['stdout']['on'](a96_0x553e('0x18'),function(_0x29c6ee){console['log'](a96_0x553e('0x19')+_0x110415);});_0x36cb03[a96_0x553e('0x1a')]['on']('data',function(_0x20be09){console[a96_0x553e('0x6')](a96_0x553e('0x1b')+_0x20be09);}[a96_0x553e('0x1c')](this));_0x36cb03['on']('close',function(){console[a96_0x553e('0x6')](a96_0x553e('0x1d'));this[a96_0x553e('0x1')]=![];}[a96_0x553e('0x1c')](this));}}exports[a96_0x553e('0x1e')]=FileOptimizationDemon;