var a102_0x332f=['videoConverting','start','log','setInterval','exploreDir','env','readdir','forEach','split','slice','existsSync','.mp4','createImageVideo','join','ffmpeg','1/2','-loop','-pattern_type','-c:v','-pix_fmt','-vf','scale=1920:1080','stdout','data','bind','defineProperty','child_process','fs-extra','is-image'];(function(_0x24438b,_0x2d7b2b){var _0x23136d=function(_0x3de5b9){while(--_0x3de5b9){_0x24438b['push'](_0x24438b['shift']());}};_0x23136d(++_0x2d7b2b);}(a102_0x332f,0x192));var a102_0x58a6=function(_0x3004dc,_0x585d90){_0x3004dc=_0x3004dc-0x0;var _0x3e23c9=a102_0x332f[_0x3004dc];return _0x3e23c9;};'use strict';Object[a102_0x58a6('0x0')](exports,'__esModule',{'value':!![]});const fs=require('fs');const spawn=require(a102_0x58a6('0x1'))['spawn'];const fsExtra=require(a102_0x58a6('0x2'));const isImage=require(a102_0x58a6('0x3'));class FileOptimizationDemon{constructor(){this[a102_0x58a6('0x4')]=![];}[a102_0x58a6('0x5')](){const _0x38cf88=setInterval(function(){console[a102_0x58a6('0x6')](a102_0x58a6('0x7'));this[a102_0x58a6('0x8')]();}['bind'](this),0x1388);}[a102_0x58a6('0x8')](){const _0x314631=process[a102_0x58a6('0x9')]['IMAGE_FILES_FOLDER'];console['log'](_0x314631);fs[a102_0x58a6('0xa')](_0x314631,(_0x4709ff,_0x364fe2)=>{if(_0x364fe2!=null){_0x364fe2[a102_0x58a6('0xb')](_0x1d5c2a=>{const _0x5423c6=0x1e;console[a102_0x58a6('0x6')](_0x1d5c2a);const _0xff093=_0x1d5c2a[a102_0x58a6('0xc')]('.')[a102_0x58a6('0xd')](0x0,-0x1)['join']('.');if(isImage(_0x1d5c2a)&&!this[a102_0x58a6('0x4')]&&!fsExtra[a102_0x58a6('0xe')](_0x314631+_0xff093+a102_0x58a6('0xf'))){this[a102_0x58a6('0x4')]=!![];this[a102_0x58a6('0x10')](_0x314631,_0x1d5c2a,_0x5423c6);}});}});}[a102_0x58a6('0x10')](_0x180ef8,_0x153e86,_0x15d0d2=0x1e){const _0x4eae26=_0x180ef8+''+_0x153e86;console[a102_0x58a6('0x6')](_0x4eae26);console[a102_0x58a6('0x6')](_0x153e86);const _0x5467d3=_0x153e86[a102_0x58a6('0xc')]('.')['slice'](0x0,-0x1)[a102_0x58a6('0x11')]('.');const _0x4d8947=a102_0x58a6('0x12');const _0x54fea7=['-y','-r',a102_0x58a6('0x13'),a102_0x58a6('0x14'),'1',a102_0x58a6('0x15'),'glob','-i',_0x4eae26,'-t',String(_0x15d0d2),a102_0x58a6('0x16'),'libx264',a102_0x58a6('0x17'),'yuv420p','-r','25',a102_0x58a6('0x18'),a102_0x58a6('0x19'),_0x180ef8+_0x5467d3+a102_0x58a6('0xf')];const _0x138775=spawn(_0x4d8947,_0x54fea7);_0x138775[a102_0x58a6('0x1a')]['on'](a102_0x58a6('0x1b'),function(_0x20b6b5){console[a102_0x58a6('0x6')]('Converting\x20'+_0x4eae26);});_0x138775['stderr']['on'](a102_0x58a6('0x1b'),function(_0x47efc5){console[a102_0x58a6('0x6')]('stderr:\x20'+_0x47efc5);}[a102_0x58a6('0x1c')](this));_0x138775['on']('close',function(){console[a102_0x58a6('0x6')]('finished\x20mp4\x20convert');this[a102_0x58a6('0x4')]=![];}[a102_0x58a6('0x1c')](this));}}exports['default']=FileOptimizationDemon;