var a202_0x3637=['IMAGE_FILES_FOLDER','log','readdir','forEach','split','join','existsSync','createImageVideo','slice','ffmpeg','1/2','-pattern_type','glob','libx264','-pix_fmt','yuv420p','-vf','scale=1920:1080','.mp4','stdout','data','Converting\x20','stderr','stderr:\x20','close','finished\x20mp4\x20convert','defineProperty','__esModule','spawn','fs-extra','videoConverting','start','setInterval','bind','exploreDir','env'];(function(_0x54491e,_0x70d152){var _0x6b4079=function(_0x1d90e9){while(--_0x1d90e9){_0x54491e['push'](_0x54491e['shift']());}};_0x6b4079(++_0x70d152);}(a202_0x3637,0x15e));var a202_0x26da=function(_0x43d8dd,_0x482241){_0x43d8dd=_0x43d8dd-0x0;var _0x1c4005=a202_0x3637[_0x43d8dd];return _0x1c4005;};'use strict';Object[a202_0x26da('0x0')](exports,a202_0x26da('0x1'),{'value':!![]});const fs=require('fs');const spawn=require('child_process')[a202_0x26da('0x2')];const fsExtra=require(a202_0x26da('0x3'));const isImage=require('is-image');class FileOptimizationDemon{constructor(){this[a202_0x26da('0x4')]=![];}[a202_0x26da('0x5')](){const _0x634ee5=setInterval(function(){console['log'](a202_0x26da('0x6'));this['exploreDir']();}[a202_0x26da('0x7')](this),0x1388);}[a202_0x26da('0x8')](){const _0x52f4a7=process[a202_0x26da('0x9')][a202_0x26da('0xa')];console[a202_0x26da('0xb')](_0x52f4a7);fs[a202_0x26da('0xc')](_0x52f4a7,(_0x24e5ea,_0x55fd14)=>{if(_0x55fd14!=null){_0x55fd14[a202_0x26da('0xd')](_0x3fd42b=>{const _0x521ac1=0x1e;console[a202_0x26da('0xb')](_0x3fd42b);const _0x21d84b=_0x3fd42b[a202_0x26da('0xe')]('.')['slice'](0x0,-0x1)[a202_0x26da('0xf')]('.');if(isImage(_0x3fd42b)&&!this['videoConverting']&&!fsExtra[a202_0x26da('0x10')](_0x52f4a7+_0x21d84b+'.mp4')){this[a202_0x26da('0x4')]=!![];this[a202_0x26da('0x11')](_0x52f4a7,_0x3fd42b,_0x521ac1);}});}});}[a202_0x26da('0x11')](_0x414c51,_0x1e2704,_0x186ac2=0x1e){const _0x2fbe24=_0x414c51+''+_0x1e2704;console[a202_0x26da('0xb')](_0x2fbe24);console[a202_0x26da('0xb')](_0x1e2704);const _0x5666c8=_0x1e2704['split']('.')[a202_0x26da('0x12')](0x0,-0x1)['join']('.');const _0x799189=a202_0x26da('0x13');const _0x4fb765=['-y','-r',a202_0x26da('0x14'),'-loop','1',a202_0x26da('0x15'),a202_0x26da('0x16'),'-i',_0x2fbe24,'-t',String(_0x186ac2),'-c:v',a202_0x26da('0x17'),a202_0x26da('0x18'),a202_0x26da('0x19'),'-r','25',a202_0x26da('0x1a'),a202_0x26da('0x1b'),_0x414c51+_0x5666c8+a202_0x26da('0x1c')];const _0x4cbbf6=spawn(_0x799189,_0x4fb765);_0x4cbbf6[a202_0x26da('0x1d')]['on'](a202_0x26da('0x1e'),function(_0x43f5ee){console[a202_0x26da('0xb')](a202_0x26da('0x1f')+_0x2fbe24);});_0x4cbbf6[a202_0x26da('0x20')]['on'](a202_0x26da('0x1e'),function(_0x59c121){console[a202_0x26da('0xb')](a202_0x26da('0x21')+_0x59c121);}[a202_0x26da('0x7')](this));_0x4cbbf6['on'](a202_0x26da('0x22'),function(){console[a202_0x26da('0xb')](a202_0x26da('0x23'));this[a202_0x26da('0x4')]=![];}[a202_0x26da('0x7')](this));}}exports['default']=FileOptimizationDemon;