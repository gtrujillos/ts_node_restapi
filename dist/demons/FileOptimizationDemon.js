var a202_0x1ce5=['1/2','-loop','-pattern_type','glob','-c:v','-pix_fmt','yuv420p','-vf','stdout','data','stderr','stderr:\x20','bind','finished\x20mp4\x20convert','default','defineProperty','__esModule','spawn','is-image','start','exploreDir','env','IMAGE_FILES_FOLDER','log','readdir','forEach','split','slice','join','videoConverting','existsSync','.mp4','createImageVideo','ffmpeg'];(function(_0x430ef9,_0x388138){var _0xa0fb5f=function(_0x3db78a){while(--_0x3db78a){_0x430ef9['push'](_0x430ef9['shift']());}};_0xa0fb5f(++_0x388138);}(a202_0x1ce5,0x163));var a202_0x1d70=function(_0x1d305a,_0x16a488){_0x1d305a=_0x1d305a-0x0;var _0x14dde7=a202_0x1ce5[_0x1d305a];return _0x14dde7;};'use strict';Object[a202_0x1d70('0x0')](exports,a202_0x1d70('0x1'),{'value':!![]});const fs=require('fs');const spawn=require('child_process')[a202_0x1d70('0x2')];const fsExtra=require('fs-extra');const isImage=require(a202_0x1d70('0x3'));class FileOptimizationDemon{constructor(){this['videoConverting']=![];}[a202_0x1d70('0x4')](){const _0x5b9939=setInterval(function(){console['log']('setInterval');this[a202_0x1d70('0x5')]();}['bind'](this),0x1388);}[a202_0x1d70('0x5')](){const _0x4ebaf4=process[a202_0x1d70('0x6')][a202_0x1d70('0x7')];console[a202_0x1d70('0x8')](_0x4ebaf4);fs[a202_0x1d70('0x9')](_0x4ebaf4,(_0x3cf431,_0x9b1f75)=>{if(_0x9b1f75!=null){_0x9b1f75[a202_0x1d70('0xa')](_0x3e2434=>{const _0x3d4541=0x1e;console[a202_0x1d70('0x8')](_0x3e2434);const _0x27bf3c=_0x3e2434[a202_0x1d70('0xb')]('.')[a202_0x1d70('0xc')](0x0,-0x1)[a202_0x1d70('0xd')]('.');if(isImage(_0x3e2434)&&!this[a202_0x1d70('0xe')]&&!fsExtra[a202_0x1d70('0xf')](_0x4ebaf4+_0x27bf3c+a202_0x1d70('0x10'))){this[a202_0x1d70('0xe')]=!![];this[a202_0x1d70('0x11')](_0x4ebaf4,_0x3e2434,_0x3d4541);}});}});}[a202_0x1d70('0x11')](_0x3192c8,_0x29a082,_0x21b399=0x1e){const _0x373f77=_0x3192c8+''+_0x29a082;console[a202_0x1d70('0x8')](_0x373f77);console[a202_0x1d70('0x8')](_0x29a082);const _0x56445b=_0x29a082[a202_0x1d70('0xb')]('.')[a202_0x1d70('0xc')](0x0,-0x1)['join']('.');const _0x2e7246=a202_0x1d70('0x12');const _0x68795a=['-y','-r',a202_0x1d70('0x13'),a202_0x1d70('0x14'),'1',a202_0x1d70('0x15'),a202_0x1d70('0x16'),'-i',_0x373f77,'-t',String(_0x21b399),a202_0x1d70('0x17'),'libx264',a202_0x1d70('0x18'),a202_0x1d70('0x19'),'-r','25',a202_0x1d70('0x1a'),'scale=1920:1080',_0x3192c8+_0x56445b+'.mp4'];const _0x59386b=spawn(_0x2e7246,_0x68795a);_0x59386b[a202_0x1d70('0x1b')]['on'](a202_0x1d70('0x1c'),function(_0x47efea){console[a202_0x1d70('0x8')]('Converting\x20'+_0x373f77);});_0x59386b[a202_0x1d70('0x1d')]['on'](a202_0x1d70('0x1c'),function(_0x1c7ae5){console[a202_0x1d70('0x8')](a202_0x1d70('0x1e')+_0x1c7ae5);}[a202_0x1d70('0x1f')](this));_0x59386b['on']('close',function(){console['log'](a202_0x1d70('0x20'));this[a202_0x1d70('0xe')]=![];}[a202_0x1d70('0x1f')](this));}}exports[a202_0x1d70('0x21')]=FileOptimizationDemon;