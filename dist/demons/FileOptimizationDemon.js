var a96_0x50b0=['-loop','-pattern_type','glob','-c:v','libx264','-pix_fmt','yuv420p','-vf','data','Converting\x20','stderr','close','default','defineProperty','__esModule','fs-extra','is-image','videoConverting','start','log','bind','exploreDir','env','IMAGE_FILES_FOLDER','readdir','forEach','split','slice','join','existsSync','.mp4','createImageVideo','ffmpeg','1/2'];(function(_0x48ba47,_0x6fe5f2){var _0x5d0d3c=function(_0x13c321){while(--_0x13c321){_0x48ba47['push'](_0x48ba47['shift']());}};_0x5d0d3c(++_0x6fe5f2);}(a96_0x50b0,0xfb));var a96_0x5f1f=function(_0x5cbd8f,_0x52676e){_0x5cbd8f=_0x5cbd8f-0x0;var _0x8a550e=a96_0x50b0[_0x5cbd8f];return _0x8a550e;};'use strict';Object[a96_0x5f1f('0x0')](exports,a96_0x5f1f('0x1'),{'value':!![]});const fs=require('fs');const spawn=require('child_process')['spawn'];const fsExtra=require(a96_0x5f1f('0x2'));const isImage=require(a96_0x5f1f('0x3'));class FileOptimizationDemon{constructor(){this[a96_0x5f1f('0x4')]=![];}[a96_0x5f1f('0x5')](){const _0x20ef20=setInterval(function(){console[a96_0x5f1f('0x6')]('setInterval');this['exploreDir']();}[a96_0x5f1f('0x7')](this),0x1388);}[a96_0x5f1f('0x8')](){const _0x573d47=process[a96_0x5f1f('0x9')][a96_0x5f1f('0xa')];console[a96_0x5f1f('0x6')](_0x573d47);fs[a96_0x5f1f('0xb')](_0x573d47,(_0x40f316,_0x54ac5c)=>{if(_0x54ac5c!=null){_0x54ac5c[a96_0x5f1f('0xc')](_0xe1c9fb=>{const _0x315f58=0x1e;console[a96_0x5f1f('0x6')](_0xe1c9fb);const _0x10f241=_0xe1c9fb[a96_0x5f1f('0xd')]('.')[a96_0x5f1f('0xe')](0x0,-0x1)[a96_0x5f1f('0xf')]('.');if(isImage(_0xe1c9fb)&&!this[a96_0x5f1f('0x4')]&&!fsExtra[a96_0x5f1f('0x10')](_0x573d47+_0x10f241+a96_0x5f1f('0x11'))){this[a96_0x5f1f('0x4')]=!![];this['createImageVideo'](_0x573d47,_0xe1c9fb,_0x315f58);}});}});}[a96_0x5f1f('0x12')](_0x2c8529,_0x2ec764,_0x2954d5=0x1e){const _0x1f0b91=_0x2c8529+''+_0x2ec764;console[a96_0x5f1f('0x6')](_0x1f0b91);console[a96_0x5f1f('0x6')](_0x2ec764);const _0x4894fc=_0x2ec764[a96_0x5f1f('0xd')]('.')[a96_0x5f1f('0xe')](0x0,-0x1)[a96_0x5f1f('0xf')]('.');const _0x2d4648=a96_0x5f1f('0x13');const _0x34967f=['-y','-r',a96_0x5f1f('0x14'),a96_0x5f1f('0x15'),'1',a96_0x5f1f('0x16'),a96_0x5f1f('0x17'),'-i',_0x1f0b91,'-t',String(_0x2954d5),a96_0x5f1f('0x18'),a96_0x5f1f('0x19'),a96_0x5f1f('0x1a'),a96_0x5f1f('0x1b'),'-r','25',a96_0x5f1f('0x1c'),'scale=1920:1080',_0x2c8529+_0x4894fc+a96_0x5f1f('0x11')];const _0x24e59d=spawn(_0x2d4648,_0x34967f);_0x24e59d['stdout']['on'](a96_0x5f1f('0x1d'),function(_0x581550){console[a96_0x5f1f('0x6')](a96_0x5f1f('0x1e')+_0x1f0b91);});_0x24e59d[a96_0x5f1f('0x1f')]['on'](a96_0x5f1f('0x1d'),function(_0x4d7275){console['log']('stderr:\x20'+_0x4d7275);}[a96_0x5f1f('0x7')](this));_0x24e59d['on'](a96_0x5f1f('0x20'),function(){console[a96_0x5f1f('0x6')]('finished\x20mp4\x20convert');this['videoConverting']=![];}[a96_0x5f1f('0x7')](this));}}exports[a96_0x5f1f('0x21')]=FileOptimizationDemon;