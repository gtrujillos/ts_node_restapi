var a202_0x3ea0=['1/2','-pattern_type','glob','libx264','yuv420p','-vf','scale=1920:1080','stdout','data','stderr','stderr:\x20','bind','close','__esModule','child_process','fs-extra','is-image','videoConverting','start','log','setInterval','exploreDir','env','readdir','forEach','split','slice','join','existsSync','.mp4','createImageVideo','ffmpeg'];(function(_0x2d8f05,_0x4b81bb){var _0x4d74cb=function(_0x32719f){while(--_0x32719f){_0x2d8f05['push'](_0x2d8f05['shift']());}};_0x4d74cb(++_0x4b81bb);}(a202_0x3ea0,0x6d));var a202_0x158d=function(_0x26d9fd,_0x435e0e){_0x26d9fd=_0x26d9fd-0x0;var _0x438d5e=a202_0x3ea0[_0x26d9fd];return _0x438d5e;};'use strict';Object['defineProperty'](exports,a202_0x158d('0x0'),{'value':!![]});const fs=require('fs');const spawn=require(a202_0x158d('0x1'))['spawn'];const fsExtra=require(a202_0x158d('0x2'));const isImage=require(a202_0x158d('0x3'));class FileOptimizationDemon{constructor(){this[a202_0x158d('0x4')]=![];}[a202_0x158d('0x5')](){const _0x387dbd=setInterval(function(){console[a202_0x158d('0x6')](a202_0x158d('0x7'));this[a202_0x158d('0x8')]();}['bind'](this),0x1388);}[a202_0x158d('0x8')](){const _0x312dcd=process[a202_0x158d('0x9')]['IMAGE_FILES_FOLDER'];console[a202_0x158d('0x6')](_0x312dcd);fs[a202_0x158d('0xa')](_0x312dcd,(_0x3b266a,_0x10041d)=>{if(_0x10041d!=null){_0x10041d[a202_0x158d('0xb')](_0x451b16=>{const _0x1bf674=0x1e;console[a202_0x158d('0x6')](_0x451b16);const _0x350162=_0x451b16[a202_0x158d('0xc')]('.')[a202_0x158d('0xd')](0x0,-0x1)[a202_0x158d('0xe')]('.');if(isImage(_0x451b16)&&!this[a202_0x158d('0x4')]&&!fsExtra[a202_0x158d('0xf')](_0x312dcd+_0x350162+a202_0x158d('0x10'))){this[a202_0x158d('0x4')]=!![];this[a202_0x158d('0x11')](_0x312dcd,_0x451b16,_0x1bf674);}});}});}[a202_0x158d('0x11')](_0x29259a,_0x3544e6,_0x25a316=0x1e){const _0x332cee=_0x29259a+''+_0x3544e6;console['log'](_0x332cee);console['log'](_0x3544e6);const _0x1557e9=_0x3544e6[a202_0x158d('0xc')]('.')[a202_0x158d('0xd')](0x0,-0x1)[a202_0x158d('0xe')]('.');const _0x33d028=a202_0x158d('0x12');const _0x49937e=['-y','-r',a202_0x158d('0x13'),'-loop','1',a202_0x158d('0x14'),a202_0x158d('0x15'),'-i',_0x332cee,'-t',String(_0x25a316),'-c:v',a202_0x158d('0x16'),'-pix_fmt',a202_0x158d('0x17'),'-r','25',a202_0x158d('0x18'),a202_0x158d('0x19'),_0x29259a+_0x1557e9+a202_0x158d('0x10')];const _0x3a037f=spawn(_0x33d028,_0x49937e);_0x3a037f[a202_0x158d('0x1a')]['on'](a202_0x158d('0x1b'),function(_0x521a29){console[a202_0x158d('0x6')]('Converting\x20'+_0x332cee);});_0x3a037f[a202_0x158d('0x1c')]['on'](a202_0x158d('0x1b'),function(_0x53d56a){console[a202_0x158d('0x6')](a202_0x158d('0x1d')+_0x53d56a);}[a202_0x158d('0x1e')](this));_0x3a037f['on'](a202_0x158d('0x1f'),function(){console[a202_0x158d('0x6')]('finished\x20mp4\x20convert');this[a202_0x158d('0x4')]=![];}[a202_0x158d('0x1e')](this));}}exports['default']=FileOptimizationDemon;