var a96_0x41b4=['child_process','fs-extra','videoConverting','start','log','setInterval','exploreDir','bind','env','IMAGE_FILES_FOLDER','readdir','split','slice','join','createImageVideo','ffmpeg','1/2','-loop','-pattern_type','libx264','-vf','scale=1920:1080','.mp4','data','Converting\x20','stderr','finished\x20mp4\x20convert','default','defineProperty'];(function(_0x1326d9,_0x3e05fe){var _0x36abc1=function(_0x3c58b6){while(--_0x3c58b6){_0x1326d9['push'](_0x1326d9['shift']());}};_0x36abc1(++_0x3e05fe);}(a96_0x41b4,0x178));var a96_0x4759=function(_0x311bce,_0x512726){_0x311bce=_0x311bce-0x0;var _0x318dcc=a96_0x41b4[_0x311bce];return _0x318dcc;};'use strict';Object[a96_0x4759('0x0')](exports,'__esModule',{'value':!![]});const fs=require('fs');const spawn=require(a96_0x4759('0x1'))['spawn'];const fsExtra=require(a96_0x4759('0x2'));const isImage=require('is-image');class FileOptimizationDemon{constructor(){this[a96_0x4759('0x3')]=![];}[a96_0x4759('0x4')](){const _0x110de2=setInterval(function(){console[a96_0x4759('0x5')](a96_0x4759('0x6'));this[a96_0x4759('0x7')]();}[a96_0x4759('0x8')](this),0x1388);}[a96_0x4759('0x7')](){const _0x418278=process[a96_0x4759('0x9')][a96_0x4759('0xa')];console[a96_0x4759('0x5')](_0x418278);fs[a96_0x4759('0xb')](_0x418278,(_0x21774f,_0x452579)=>{if(_0x452579!=null){_0x452579['forEach'](_0x2624df=>{const _0x3c9b65=0x1e;console[a96_0x4759('0x5')](_0x2624df);const _0xa3d312=_0x2624df[a96_0x4759('0xc')]('.')[a96_0x4759('0xd')](0x0,-0x1)[a96_0x4759('0xe')]('.');if(isImage(_0x2624df)&&!this[a96_0x4759('0x3')]&&!fsExtra['existsSync'](_0x418278+_0xa3d312+'.mp4')){this[a96_0x4759('0x3')]=!![];this[a96_0x4759('0xf')](_0x418278,_0x2624df,_0x3c9b65);}});}});}[a96_0x4759('0xf')](_0x560d6c,_0x3cc4a7,_0x1a7c03=0x1e){const _0x1f38b7=_0x560d6c+''+_0x3cc4a7;console[a96_0x4759('0x5')](_0x1f38b7);console[a96_0x4759('0x5')](_0x3cc4a7);const _0x3676cc=_0x3cc4a7[a96_0x4759('0xc')]('.')[a96_0x4759('0xd')](0x0,-0x1)[a96_0x4759('0xe')]('.');const _0x505661=a96_0x4759('0x10');const _0x14e619=['-y','-r',a96_0x4759('0x11'),a96_0x4759('0x12'),'1',a96_0x4759('0x13'),'glob','-i',_0x1f38b7,'-t',String(_0x1a7c03),'-c:v',a96_0x4759('0x14'),'-pix_fmt','yuv420p','-r','25',a96_0x4759('0x15'),a96_0x4759('0x16'),_0x560d6c+_0x3676cc+a96_0x4759('0x17')];const _0x4b08b0=spawn(_0x505661,_0x14e619);_0x4b08b0['stdout']['on'](a96_0x4759('0x18'),function(_0x1f7493){console[a96_0x4759('0x5')](a96_0x4759('0x19')+_0x1f38b7);});_0x4b08b0[a96_0x4759('0x1a')]['on'](a96_0x4759('0x18'),function(_0x2fc5c3){console['log']('stderr:\x20'+_0x2fc5c3);}[a96_0x4759('0x8')](this));_0x4b08b0['on']('close',function(){console['log'](a96_0x4759('0x1b'));this['videoConverting']=![];}[a96_0x4759('0x8')](this));}}exports[a96_0x4759('0x1c')]=FileOptimizationDemon;