var a96_0x2560=['forEach','split','existsSync','.mp4','slice','join','1/2','-pattern_type','glob','libx264','yuv420p','-vf','scale=1920:1080','stdout','stderr','data','stderr:\x20','finished\x20mp4\x20convert','defineProperty','spawn','fs-extra','is-image','videoConverting','log','setInterval','exploreDir','bind','IMAGE_FILES_FOLDER'];(function(_0x2dac95,_0x593a1b){var _0x2130f8=function(_0x5e2fa2){while(--_0x5e2fa2){_0x2dac95['push'](_0x2dac95['shift']());}};_0x2130f8(++_0x593a1b);}(a96_0x2560,0x17e));var a96_0x24e9=function(_0x3c62f9,_0x411590){_0x3c62f9=_0x3c62f9-0x0;var _0x590a28=a96_0x2560[_0x3c62f9];return _0x590a28;};'use strict';Object[a96_0x24e9('0x0')](exports,'__esModule',{'value':!![]});const fs=require('fs');const spawn=require('child_process')[a96_0x24e9('0x1')];const fsExtra=require(a96_0x24e9('0x2'));const isImage=require(a96_0x24e9('0x3'));class FileOptimizationDemon{constructor(){this[a96_0x24e9('0x4')]=![];}['start'](){const _0x2dcd04=setInterval(function(){console[a96_0x24e9('0x5')](a96_0x24e9('0x6'));this[a96_0x24e9('0x7')]();}[a96_0x24e9('0x8')](this),0x1388);}[a96_0x24e9('0x7')](){const _0x302065=process['env'][a96_0x24e9('0x9')];console[a96_0x24e9('0x5')](_0x302065);fs['readdir'](_0x302065,(_0x150419,_0x2e7566)=>{if(_0x2e7566!=null){_0x2e7566[a96_0x24e9('0xa')](_0x47c79d=>{const _0xb8cf7b=0x1e;console['log'](_0x47c79d);const _0x35eabb=_0x47c79d[a96_0x24e9('0xb')]('.')['slice'](0x0,-0x1)['join']('.');if(isImage(_0x47c79d)&&!this[a96_0x24e9('0x4')]&&!fsExtra[a96_0x24e9('0xc')](_0x302065+_0x35eabb+a96_0x24e9('0xd'))){this[a96_0x24e9('0x4')]=!![];this['createImageVideo'](_0x302065,_0x47c79d,_0xb8cf7b);}});}});}['createImageVideo'](_0x4f3efc,_0x24c1a6,_0x2b5319=0x1e){const _0xb5eb9e=_0x4f3efc+''+_0x24c1a6;console[a96_0x24e9('0x5')](_0xb5eb9e);console[a96_0x24e9('0x5')](_0x24c1a6);const _0x62d193=_0x24c1a6['split']('.')[a96_0x24e9('0xe')](0x0,-0x1)[a96_0x24e9('0xf')]('.');const _0x44720e='ffmpeg';const _0x500737=['-y','-r',a96_0x24e9('0x10'),'-loop','1',a96_0x24e9('0x11'),a96_0x24e9('0x12'),'-i',_0xb5eb9e,'-t',String(_0x2b5319),'-c:v',a96_0x24e9('0x13'),'-pix_fmt',a96_0x24e9('0x14'),'-r','25',a96_0x24e9('0x15'),a96_0x24e9('0x16'),_0x4f3efc+_0x62d193+a96_0x24e9('0xd')];const _0x48620b=spawn(_0x44720e,_0x500737);_0x48620b[a96_0x24e9('0x17')]['on']('data',function(_0x5ef7d9){console[a96_0x24e9('0x5')]('Converting\x20'+_0xb5eb9e);});_0x48620b[a96_0x24e9('0x18')]['on'](a96_0x24e9('0x19'),function(_0x32ae15){console[a96_0x24e9('0x5')](a96_0x24e9('0x1a')+_0x32ae15);}[a96_0x24e9('0x8')](this));_0x48620b['on']('close',function(){console[a96_0x24e9('0x5')](a96_0x24e9('0x1b'));this[a96_0x24e9('0x4')]=![];}[a96_0x24e9('0x8')](this));}}exports['default']=FileOptimizationDemon;