var a96_0x3482=['forEach','slice','join','existsSync','.mp4','createImageVideo','split','ffmpeg','1/2','-loop','glob','-c:v','libx264','-pix_fmt','-vf','scale=1920:1080','Converting\x20','stderr','data','stderr:\x20','close','videoConverting','defineProperty','spawn','fs-extra','is-image','start','log','setInterval','exploreDir','bind','env','IMAGE_FILES_FOLDER','readdir'];(function(_0x387173,_0x375329){var _0x47d696=function(_0x5ea1d7){while(--_0x5ea1d7){_0x387173['push'](_0x387173['shift']());}};_0x47d696(++_0x375329);}(a96_0x3482,0xe2));var a96_0x25df=function(_0x3c02d9,_0x11b795){_0x3c02d9=_0x3c02d9-0x0;var _0x51144a=a96_0x3482[_0x3c02d9];return _0x51144a;};'use strict';Object[a96_0x25df('0x0')](exports,'__esModule',{'value':!![]});const fs=require('fs');const spawn=require('child_process')[a96_0x25df('0x1')];const fsExtra=require(a96_0x25df('0x2'));const isImage=require(a96_0x25df('0x3'));class FileOptimizationDemon{constructor(){this['videoConverting']=![];}[a96_0x25df('0x4')](){const _0x3fd200=setInterval(function(){console[a96_0x25df('0x5')](a96_0x25df('0x6'));this[a96_0x25df('0x7')]();}[a96_0x25df('0x8')](this),0x1388);}['exploreDir'](){const _0x842f19=process[a96_0x25df('0x9')][a96_0x25df('0xa')];console[a96_0x25df('0x5')](_0x842f19);fs[a96_0x25df('0xb')](_0x842f19,(_0x3dfb1b,_0xc554b5)=>{if(_0xc554b5!=null){_0xc554b5[a96_0x25df('0xc')](_0x3a284f=>{const _0x4f77ba=0x1e;console['log'](_0x3a284f);const _0x543228=_0x3a284f['split']('.')[a96_0x25df('0xd')](0x0,-0x1)[a96_0x25df('0xe')]('.');if(isImage(_0x3a284f)&&!this['videoConverting']&&!fsExtra[a96_0x25df('0xf')](_0x842f19+_0x543228+a96_0x25df('0x10'))){this['videoConverting']=!![];this[a96_0x25df('0x11')](_0x842f19,_0x3a284f,_0x4f77ba);}});}});}[a96_0x25df('0x11')](_0x1cbc89,_0x8e5681,_0x196a59=0x1e){const _0x224a62=_0x1cbc89+''+_0x8e5681;console[a96_0x25df('0x5')](_0x224a62);console['log'](_0x8e5681);const _0x1dcf57=_0x8e5681[a96_0x25df('0x12')]('.')[a96_0x25df('0xd')](0x0,-0x1)[a96_0x25df('0xe')]('.');const _0x9e133f=a96_0x25df('0x13');const _0x4abbfd=['-y','-r',a96_0x25df('0x14'),a96_0x25df('0x15'),'1','-pattern_type',a96_0x25df('0x16'),'-i',_0x224a62,'-t',String(_0x196a59),a96_0x25df('0x17'),a96_0x25df('0x18'),a96_0x25df('0x19'),'yuv420p','-r','25',a96_0x25df('0x1a'),a96_0x25df('0x1b'),_0x1cbc89+_0x1dcf57+a96_0x25df('0x10')];const _0x16b280=spawn(_0x9e133f,_0x4abbfd);_0x16b280['stdout']['on']('data',function(_0x23363c){console[a96_0x25df('0x5')](a96_0x25df('0x1c')+_0x224a62);});_0x16b280[a96_0x25df('0x1d')]['on'](a96_0x25df('0x1e'),function(_0xe8aa5d){console[a96_0x25df('0x5')](a96_0x25df('0x1f')+_0xe8aa5d);}[a96_0x25df('0x8')](this));_0x16b280['on'](a96_0x25df('0x20'),function(){console[a96_0x25df('0x5')]('finished\x20mp4\x20convert');this[a96_0x25df('0x21')]=![];}['bind'](this));}}exports['default']=FileOptimizationDemon;