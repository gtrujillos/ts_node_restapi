var a96_0x46d2=['stdout','data','stderr','bind','close','default','defineProperty','__esModule','child_process','spawn','is-image','videoConverting','start','log','setInterval','exploreDir','IMAGE_FILES_FOLDER','readdir','forEach','join','.mp4','createImageVideo','split','slice','ffmpeg','1/2','-loop','-pattern_type','glob','-c:v','libx264','-pix_fmt','yuv420p','-vf','scale=1920:1080'];(function(_0x135839,_0x27b818){var _0x5495f1=function(_0x3a87be){while(--_0x3a87be){_0x135839['push'](_0x135839['shift']());}};_0x5495f1(++_0x27b818);}(a96_0x46d2,0x92));var a96_0x2d89=function(_0x3fa04e,_0x1b89e2){_0x3fa04e=_0x3fa04e-0x0;var _0x5a252c=a96_0x46d2[_0x3fa04e];return _0x5a252c;};'use strict';Object[a96_0x2d89('0x0')](exports,a96_0x2d89('0x1'),{'value':!![]});const fs=require('fs');const spawn=require(a96_0x2d89('0x2'))[a96_0x2d89('0x3')];const fsExtra=require('fs-extra');const isImage=require(a96_0x2d89('0x4'));class FileOptimizationDemon{constructor(){this[a96_0x2d89('0x5')]=![];}[a96_0x2d89('0x6')](){const _0x4cf11e=setInterval(function(){console[a96_0x2d89('0x7')](a96_0x2d89('0x8'));this[a96_0x2d89('0x9')]();}['bind'](this),0x1388);}[a96_0x2d89('0x9')](){const _0x1a4f2f=process['env'][a96_0x2d89('0xa')];console[a96_0x2d89('0x7')](_0x1a4f2f);fs[a96_0x2d89('0xb')](_0x1a4f2f,(_0x2b7c81,_0x3cdb99)=>{if(_0x3cdb99!=null){_0x3cdb99[a96_0x2d89('0xc')](_0x342850=>{const _0x5de318=0x1e;console['log'](_0x342850);const _0x4ca823=_0x342850['split']('.')['slice'](0x0,-0x1)[a96_0x2d89('0xd')]('.');if(isImage(_0x342850)&&!this[a96_0x2d89('0x5')]&&!fsExtra['existsSync'](_0x1a4f2f+_0x4ca823+a96_0x2d89('0xe'))){this[a96_0x2d89('0x5')]=!![];this[a96_0x2d89('0xf')](_0x1a4f2f,_0x342850,_0x5de318);}});}});}[a96_0x2d89('0xf')](_0x40ebe0,_0x4a12b7,_0x19e91c=0x1e){const _0x26e4f2=_0x40ebe0+''+_0x4a12b7;console['log'](_0x26e4f2);console['log'](_0x4a12b7);const _0x5a8e04=_0x4a12b7[a96_0x2d89('0x10')]('.')[a96_0x2d89('0x11')](0x0,-0x1)[a96_0x2d89('0xd')]('.');const _0x4bd1c2=a96_0x2d89('0x12');const _0x432d53=['-y','-r',a96_0x2d89('0x13'),a96_0x2d89('0x14'),'1',a96_0x2d89('0x15'),a96_0x2d89('0x16'),'-i',_0x26e4f2,'-t',String(_0x19e91c),a96_0x2d89('0x17'),a96_0x2d89('0x18'),a96_0x2d89('0x19'),a96_0x2d89('0x1a'),'-r','25',a96_0x2d89('0x1b'),a96_0x2d89('0x1c'),_0x40ebe0+_0x5a8e04+a96_0x2d89('0xe')];const _0x1a7650=spawn(_0x4bd1c2,_0x432d53);_0x1a7650[a96_0x2d89('0x1d')]['on'](a96_0x2d89('0x1e'),function(_0x46e80a){console['log']('Converting\x20'+_0x26e4f2);});_0x1a7650[a96_0x2d89('0x1f')]['on'](a96_0x2d89('0x1e'),function(_0x288b19){console[a96_0x2d89('0x7')]('stderr:\x20'+_0x288b19);}[a96_0x2d89('0x20')](this));_0x1a7650['on'](a96_0x2d89('0x21'),function(){console[a96_0x2d89('0x7')]('finished\x20mp4\x20convert');this[a96_0x2d89('0x5')]=![];}[a96_0x2d89('0x20')](this));}}exports[a96_0x2d89('0x22')]=FileOptimizationDemon;