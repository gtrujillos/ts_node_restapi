var a96_0x162e=['-pattern_type','-c:v','libx264','-pix_fmt','yuv420p','-vf','scale=1920:1080','.mp4','stdout','data','Converting\x20','stderr','stderr:\x20','close','default','defineProperty','__esModule','child_process','spawn','fs-extra','is-image','videoConverting','start','log','exploreDir','bind','env','IMAGE_FILES_FOLDER','readdir','forEach','split','slice','join','existsSync','createImageVideo','1/2','-loop'];(function(_0x24daae,_0x39d7aa){var _0x598935=function(_0x3a75e9){while(--_0x3a75e9){_0x24daae['push'](_0x24daae['shift']());}};_0x598935(++_0x39d7aa);}(a96_0x162e,0x15c));var a96_0x63b7=function(_0x1c2a4e,_0x451778){_0x1c2a4e=_0x1c2a4e-0x0;var _0x26c8cf=a96_0x162e[_0x1c2a4e];return _0x26c8cf;};'use strict';Object[a96_0x63b7('0x0')](exports,a96_0x63b7('0x1'),{'value':!![]});const fs=require('fs');const spawn=require(a96_0x63b7('0x2'))[a96_0x63b7('0x3')];const fsExtra=require(a96_0x63b7('0x4'));const isImage=require(a96_0x63b7('0x5'));class FileOptimizationDemon{constructor(){this[a96_0x63b7('0x6')]=![];}[a96_0x63b7('0x7')](){const _0x3248ce=setInterval(function(){console[a96_0x63b7('0x8')]('setInterval');this[a96_0x63b7('0x9')]();}[a96_0x63b7('0xa')](this),0x1388);}[a96_0x63b7('0x9')](){const _0x2cbaa9=process[a96_0x63b7('0xb')][a96_0x63b7('0xc')];console[a96_0x63b7('0x8')](_0x2cbaa9);fs[a96_0x63b7('0xd')](_0x2cbaa9,(_0x2f7409,_0x2ae6a7)=>{if(_0x2ae6a7!=null){_0x2ae6a7[a96_0x63b7('0xe')](_0x3af450=>{const _0x62093c=0x1e;console[a96_0x63b7('0x8')](_0x3af450);const _0x128262=_0x3af450[a96_0x63b7('0xf')]('.')[a96_0x63b7('0x10')](0x0,-0x1)[a96_0x63b7('0x11')]('.');if(isImage(_0x3af450)&&!this[a96_0x63b7('0x6')]&&!fsExtra[a96_0x63b7('0x12')](_0x2cbaa9+_0x128262+'.mp4')){this[a96_0x63b7('0x6')]=!![];this[a96_0x63b7('0x13')](_0x2cbaa9,_0x3af450,_0x62093c);}});}});}[a96_0x63b7('0x13')](_0x44102a,_0x513fc3,_0x2f27fc=0x1e){const _0x24dace=_0x44102a+''+_0x513fc3;console[a96_0x63b7('0x8')](_0x24dace);console[a96_0x63b7('0x8')](_0x513fc3);const _0x510065=_0x513fc3[a96_0x63b7('0xf')]('.')[a96_0x63b7('0x10')](0x0,-0x1)['join']('.');const _0x5de638='ffmpeg';const _0x2e2813=['-y','-r',a96_0x63b7('0x14'),a96_0x63b7('0x15'),'1',a96_0x63b7('0x16'),'glob','-i',_0x24dace,'-t',String(_0x2f27fc),a96_0x63b7('0x17'),a96_0x63b7('0x18'),a96_0x63b7('0x19'),a96_0x63b7('0x1a'),'-r','25',a96_0x63b7('0x1b'),a96_0x63b7('0x1c'),_0x44102a+_0x510065+a96_0x63b7('0x1d')];const _0x1de999=spawn(_0x5de638,_0x2e2813);_0x1de999[a96_0x63b7('0x1e')]['on'](a96_0x63b7('0x1f'),function(_0x414e99){console[a96_0x63b7('0x8')](a96_0x63b7('0x20')+_0x24dace);});_0x1de999[a96_0x63b7('0x21')]['on'](a96_0x63b7('0x1f'),function(_0xc7afb7){console[a96_0x63b7('0x8')](a96_0x63b7('0x22')+_0xc7afb7);}[a96_0x63b7('0xa')](this));_0x1de999['on'](a96_0x63b7('0x23'),function(){console['log']('finished\x20mp4\x20convert');this[a96_0x63b7('0x6')]=![];}[a96_0x63b7('0xa')](this));}}exports[a96_0x63b7('0x24')]=FileOptimizationDemon;