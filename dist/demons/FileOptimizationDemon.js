var a96_0x23de=['exploreDir','bind','env','readdir','forEach','split','join','videoConverting','existsSync','.mp4','createImageVideo','slice','1/2','-loop','-pattern_type','-c:v','libx264','-vf','scale=1920:1080','stdout','Converting\x20','stderr','stderr:\x20','close','default','defineProperty','spawn','is-image','start','log','setInterval'];(function(_0x42057c,_0x554953){var _0x4b5567=function(_0x171388){while(--_0x171388){_0x42057c['push'](_0x42057c['shift']());}};_0x4b5567(++_0x554953);}(a96_0x23de,0xb4));var a96_0x41a6=function(_0x4a2f5a,_0x19fcba){_0x4a2f5a=_0x4a2f5a-0x0;var _0x666217=a96_0x23de[_0x4a2f5a];return _0x666217;};'use strict';Object[a96_0x41a6('0x0')](exports,'__esModule',{'value':!![]});const fs=require('fs');const spawn=require('child_process')[a96_0x41a6('0x1')];const fsExtra=require('fs-extra');const isImage=require(a96_0x41a6('0x2'));class FileOptimizationDemon{constructor(){this['videoConverting']=![];}[a96_0x41a6('0x3')](){const _0x181553=setInterval(function(){console[a96_0x41a6('0x4')](a96_0x41a6('0x5'));this[a96_0x41a6('0x6')]();}[a96_0x41a6('0x7')](this),0x1388);}[a96_0x41a6('0x6')](){const _0x34e7c3=process[a96_0x41a6('0x8')]['IMAGE_FILES_FOLDER'];console[a96_0x41a6('0x4')](_0x34e7c3);fs[a96_0x41a6('0x9')](_0x34e7c3,(_0xcc4941,_0x2265f0)=>{if(_0x2265f0!=null){_0x2265f0[a96_0x41a6('0xa')](_0x533bd1=>{const _0x290088=0x1e;console[a96_0x41a6('0x4')](_0x533bd1);const _0x34c790=_0x533bd1[a96_0x41a6('0xb')]('.')['slice'](0x0,-0x1)[a96_0x41a6('0xc')]('.');if(isImage(_0x533bd1)&&!this[a96_0x41a6('0xd')]&&!fsExtra[a96_0x41a6('0xe')](_0x34e7c3+_0x34c790+a96_0x41a6('0xf'))){this['videoConverting']=!![];this[a96_0x41a6('0x10')](_0x34e7c3,_0x533bd1,_0x290088);}});}});}['createImageVideo'](_0x1e720d,_0x1b8104,_0x256658=0x1e){const _0x5008b5=_0x1e720d+''+_0x1b8104;console[a96_0x41a6('0x4')](_0x5008b5);console[a96_0x41a6('0x4')](_0x1b8104);const _0x1edf9c=_0x1b8104['split']('.')[a96_0x41a6('0x11')](0x0,-0x1)[a96_0x41a6('0xc')]('.');const _0x5c7f94='ffmpeg';const _0x39afdc=['-y','-r',a96_0x41a6('0x12'),a96_0x41a6('0x13'),'1',a96_0x41a6('0x14'),'glob','-i',_0x5008b5,'-t',String(_0x256658),a96_0x41a6('0x15'),a96_0x41a6('0x16'),'-pix_fmt','yuv420p','-r','25',a96_0x41a6('0x17'),a96_0x41a6('0x18'),_0x1e720d+_0x1edf9c+'.mp4'];const _0x5776f5=spawn(_0x5c7f94,_0x39afdc);_0x5776f5[a96_0x41a6('0x19')]['on']('data',function(_0x30c00d){console[a96_0x41a6('0x4')](a96_0x41a6('0x1a')+_0x5008b5);});_0x5776f5[a96_0x41a6('0x1b')]['on']('data',function(_0x41c3d2){console[a96_0x41a6('0x4')](a96_0x41a6('0x1c')+_0x41c3d2);}[a96_0x41a6('0x7')](this));_0x5776f5['on'](a96_0x41a6('0x1d'),function(){console[a96_0x41a6('0x4')]('finished\x20mp4\x20convert');this['videoConverting']=![];}[a96_0x41a6('0x7')](this));}}exports[a96_0x41a6('0x1e')]=FileOptimizationDemon;