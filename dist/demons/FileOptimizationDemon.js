var a96_0x2d04=['createImageVideo','slice','ffmpeg','-loop','-pattern_type','glob','-c:v','-pix_fmt','yuv420p','scale=1920:1080','data','Converting\x20','stderr','finished\x20mp4\x20convert','default','defineProperty','__esModule','spawn','start','log','exploreDir','bind','IMAGE_FILES_FOLDER','forEach','split','join','existsSync','.mp4','videoConverting'];(function(_0x3ff266,_0x57e8c9){var _0x2b1338=function(_0x35aad0){while(--_0x35aad0){_0x3ff266['push'](_0x3ff266['shift']());}};_0x2b1338(++_0x57e8c9);}(a96_0x2d04,0xda));var a96_0x1489=function(_0xe01b4c,_0x7fd315){_0xe01b4c=_0xe01b4c-0x0;var _0x3956df=a96_0x2d04[_0xe01b4c];return _0x3956df;};'use strict';Object[a96_0x1489('0x0')](exports,a96_0x1489('0x1'),{'value':!![]});const fs=require('fs');const spawn=require('child_process')[a96_0x1489('0x2')];const fsExtra=require('fs-extra');const isImage=require('is-image');class FileOptimizationDemon{constructor(){this['videoConverting']=![];}[a96_0x1489('0x3')](){const _0x5dc761=setInterval(function(){console[a96_0x1489('0x4')]('setInterval');this[a96_0x1489('0x5')]();}[a96_0x1489('0x6')](this),0x1388);}[a96_0x1489('0x5')](){const _0x4fb224=process['env'][a96_0x1489('0x7')];console[a96_0x1489('0x4')](_0x4fb224);fs['readdir'](_0x4fb224,(_0x1e1b50,_0x35b065)=>{if(_0x35b065!=null){_0x35b065[a96_0x1489('0x8')](_0x20c972=>{const _0x397515=0x1e;console[a96_0x1489('0x4')](_0x20c972);const _0x2fa1e5=_0x20c972[a96_0x1489('0x9')]('.')['slice'](0x0,-0x1)[a96_0x1489('0xa')]('.');if(isImage(_0x20c972)&&!this['videoConverting']&&!fsExtra[a96_0x1489('0xb')](_0x4fb224+_0x2fa1e5+a96_0x1489('0xc'))){this[a96_0x1489('0xd')]=!![];this[a96_0x1489('0xe')](_0x4fb224,_0x20c972,_0x397515);}});}});}[a96_0x1489('0xe')](_0x16f61e,_0x59974f,_0x48eb4c=0x1e){const _0x560610=_0x16f61e+''+_0x59974f;console[a96_0x1489('0x4')](_0x560610);console[a96_0x1489('0x4')](_0x59974f);const _0x28e969=_0x59974f['split']('.')[a96_0x1489('0xf')](0x0,-0x1)[a96_0x1489('0xa')]('.');const _0x13c397=a96_0x1489('0x10');const _0x257511=['-y','-r','1/2',a96_0x1489('0x11'),'1',a96_0x1489('0x12'),a96_0x1489('0x13'),'-i',_0x560610,'-t',String(_0x48eb4c),a96_0x1489('0x14'),'libx264',a96_0x1489('0x15'),a96_0x1489('0x16'),'-r','25','-vf',a96_0x1489('0x17'),_0x16f61e+_0x28e969+a96_0x1489('0xc')];const _0x487dca=spawn(_0x13c397,_0x257511);_0x487dca['stdout']['on'](a96_0x1489('0x18'),function(_0x23eb31){console[a96_0x1489('0x4')](a96_0x1489('0x19')+_0x560610);});_0x487dca[a96_0x1489('0x1a')]['on'](a96_0x1489('0x18'),function(_0x65cfc2){console[a96_0x1489('0x4')]('stderr:\x20'+_0x65cfc2);}[a96_0x1489('0x6')](this));_0x487dca['on']('close',function(){console['log'](a96_0x1489('0x1b'));this['videoConverting']=![];}[a96_0x1489('0x6')](this));}}exports[a96_0x1489('0x1c')]=FileOptimizationDemon;