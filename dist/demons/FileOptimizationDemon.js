var a96_0x3dc8=['child_process','spawn','fs-extra','videoConverting','start','log','setInterval','bind','exploreDir','IMAGE_FILES_FOLDER','split','join','existsSync','.mp4','createImageVideo','slice','-loop','-pattern_type','glob','-c:v','-pix_fmt','-vf','scale=1920:1080','Converting\x20','data','close','finished\x20mp4\x20convert','defineProperty','__esModule'];(function(_0x45f026,_0x28c39a){var _0x4cc457=function(_0x1802e6){while(--_0x1802e6){_0x45f026['push'](_0x45f026['shift']());}};_0x4cc457(++_0x28c39a);}(a96_0x3dc8,0xe6));var a96_0x2a98=function(_0x2b3522,_0x1f99a7){_0x2b3522=_0x2b3522-0x0;var _0x342d05=a96_0x3dc8[_0x2b3522];return _0x342d05;};'use strict';Object[a96_0x2a98('0x0')](exports,a96_0x2a98('0x1'),{'value':!![]});const fs=require('fs');const spawn=require(a96_0x2a98('0x2'))[a96_0x2a98('0x3')];const fsExtra=require(a96_0x2a98('0x4'));const isImage=require('is-image');class FileOptimizationDemon{constructor(){this[a96_0x2a98('0x5')]=![];}[a96_0x2a98('0x6')](){const _0x55d3de=setInterval(function(){console[a96_0x2a98('0x7')](a96_0x2a98('0x8'));this['exploreDir']();}[a96_0x2a98('0x9')](this),0x1388);}[a96_0x2a98('0xa')](){const _0x12e79c=process['env'][a96_0x2a98('0xb')];console['log'](_0x12e79c);fs['readdir'](_0x12e79c,(_0x20fc66,_0x634e07)=>{if(_0x634e07!=null){_0x634e07['forEach'](_0x4a47bf=>{const _0x4f5106=0x1e;console[a96_0x2a98('0x7')](_0x4a47bf);const _0x331985=_0x4a47bf[a96_0x2a98('0xc')]('.')['slice'](0x0,-0x1)[a96_0x2a98('0xd')]('.');if(isImage(_0x4a47bf)&&!this[a96_0x2a98('0x5')]&&!fsExtra[a96_0x2a98('0xe')](_0x12e79c+_0x331985+a96_0x2a98('0xf'))){this[a96_0x2a98('0x5')]=!![];this[a96_0x2a98('0x10')](_0x12e79c,_0x4a47bf,_0x4f5106);}});}});}['createImageVideo'](_0x4e7b0c,_0x279393,_0x53d346=0x1e){const _0xfff603=_0x4e7b0c+''+_0x279393;console[a96_0x2a98('0x7')](_0xfff603);console[a96_0x2a98('0x7')](_0x279393);const _0x2bb6dc=_0x279393['split']('.')[a96_0x2a98('0x11')](0x0,-0x1)[a96_0x2a98('0xd')]('.');const _0x427169='ffmpeg';const _0x18f046=['-y','-r','1/2',a96_0x2a98('0x12'),'1',a96_0x2a98('0x13'),a96_0x2a98('0x14'),'-i',_0xfff603,'-t',String(_0x53d346),a96_0x2a98('0x15'),'libx264',a96_0x2a98('0x16'),'yuv420p','-r','25',a96_0x2a98('0x17'),a96_0x2a98('0x18'),_0x4e7b0c+_0x2bb6dc+a96_0x2a98('0xf')];const _0x31bcfe=spawn(_0x427169,_0x18f046);_0x31bcfe['stdout']['on']('data',function(_0x154f8b){console['log'](a96_0x2a98('0x19')+_0xfff603);});_0x31bcfe['stderr']['on'](a96_0x2a98('0x1a'),function(_0x5861f1){console[a96_0x2a98('0x7')]('stderr:\x20'+_0x5861f1);}[a96_0x2a98('0x9')](this));_0x31bcfe['on'](a96_0x2a98('0x1b'),function(){console[a96_0x2a98('0x7')](a96_0x2a98('0x1c'));this[a96_0x2a98('0x5')]=![];}['bind'](this));}}exports['default']=FileOptimizationDemon;