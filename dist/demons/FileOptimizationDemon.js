var a292_0x489e=['defineProperty','__esModule','child_process','spawn','fs-extra','is-image','videoConverting','start','log','setInterval','exploreDir','env','IMAGE_FILES_FOLDER','readdir','forEach','split','existsSync','slice','join','1/2','-loop','-pattern_type','glob','-c:v','-pix_fmt','yuv420p','scale=1920:1080','.mp4','stdout','Converting\x20','data','close','finished\x20mp4\x20convert','default'];(function(_0x1f4803,_0x2448ad){var _0x245626=function(_0x2f182b){while(--_0x2f182b){_0x1f4803['push'](_0x1f4803['shift']());}};_0x245626(++_0x2448ad);}(a292_0x489e,0x176));var a292_0x4b04=function(_0x589660,_0x68f1f6){_0x589660=_0x589660-0x0;var _0x49a50d=a292_0x489e[_0x589660];return _0x49a50d;};'use strict';Object[a292_0x4b04('0x0')](exports,a292_0x4b04('0x1'),{'value':!![]});const fs=require('fs');const spawn=require(a292_0x4b04('0x2'))[a292_0x4b04('0x3')];const fsExtra=require(a292_0x4b04('0x4'));const isImage=require(a292_0x4b04('0x5'));class FileOptimizationDemon{constructor(){this[a292_0x4b04('0x6')]=![];}[a292_0x4b04('0x7')](){const _0x11c570=setInterval(function(){console[a292_0x4b04('0x8')](a292_0x4b04('0x9'));this['exploreDir']();}['bind'](this),0x1388);}[a292_0x4b04('0xa')](){const _0x335aa6=process[a292_0x4b04('0xb')][a292_0x4b04('0xc')];console[a292_0x4b04('0x8')](_0x335aa6);fs[a292_0x4b04('0xd')](_0x335aa6,(_0x5e0c05,_0x1a260c)=>{if(_0x1a260c!=null){_0x1a260c[a292_0x4b04('0xe')](_0x1c444d=>{const _0x2313fb=0x1e;console['log'](_0x1c444d);const _0x29cba5=_0x1c444d[a292_0x4b04('0xf')]('.')['slice'](0x0,-0x1)['join']('.');if(isImage(_0x1c444d)&&!this[a292_0x4b04('0x6')]&&!fsExtra[a292_0x4b04('0x10')](_0x335aa6+_0x29cba5+'.mp4')){this[a292_0x4b04('0x6')]=!![];this['createImageVideo'](_0x335aa6,_0x1c444d,_0x2313fb);}});}});}['createImageVideo'](_0x132985,_0x10b9cd,_0x1152cf=0x1e){const _0x34fffd=_0x132985+''+_0x10b9cd;console['log'](_0x34fffd);console[a292_0x4b04('0x8')](_0x10b9cd);const _0x5d00da=_0x10b9cd[a292_0x4b04('0xf')]('.')[a292_0x4b04('0x11')](0x0,-0x1)[a292_0x4b04('0x12')]('.');const _0x5f35ef='ffmpeg';const _0x11ba92=['-y','-r',a292_0x4b04('0x13'),a292_0x4b04('0x14'),'1',a292_0x4b04('0x15'),a292_0x4b04('0x16'),'-i',_0x34fffd,'-t',String(_0x1152cf),a292_0x4b04('0x17'),'libx264',a292_0x4b04('0x18'),a292_0x4b04('0x19'),'-r','25','-vf',a292_0x4b04('0x1a'),_0x132985+_0x5d00da+a292_0x4b04('0x1b')];const _0x20bec8=spawn(_0x5f35ef,_0x11ba92);_0x20bec8[a292_0x4b04('0x1c')]['on']('data',function(_0x3aa43c){console[a292_0x4b04('0x8')](a292_0x4b04('0x1d')+_0x34fffd);});_0x20bec8['stderr']['on'](a292_0x4b04('0x1e'),function(_0x4b73da){console[a292_0x4b04('0x8')]('stderr:\x20'+_0x4b73da);}['bind'](this));_0x20bec8['on'](a292_0x4b04('0x1f'),function(){console[a292_0x4b04('0x8')](a292_0x4b04('0x20'));this[a292_0x4b04('0x6')]=![];}['bind'](this));}}exports[a292_0x4b04('0x21')]=FileOptimizationDemon;