var a96_0x2b50=['stderr','close','default','__esModule','child_process','spawn','fs-extra','is-image','videoConverting','start','log','setInterval','exploreDir','bind','IMAGE_FILES_FOLDER','readdir','forEach','split','existsSync','.mp4','createImageVideo','slice','join','ffmpeg','1/2','-pattern_type','glob','-c:v','libx264','yuv420p','-vf','stdout','data','Converting\x20'];(function(_0x2782dc,_0x6f5fd2){var _0x123192=function(_0x3056ef){while(--_0x3056ef){_0x2782dc['push'](_0x2782dc['shift']());}};_0x123192(++_0x6f5fd2);}(a96_0x2b50,0xcf));var a96_0x1344=function(_0x4e635b,_0x560f61){_0x4e635b=_0x4e635b-0x0;var _0x53052b=a96_0x2b50[_0x4e635b];return _0x53052b;};'use strict';Object['defineProperty'](exports,a96_0x1344('0x0'),{'value':!![]});const fs=require('fs');const spawn=require(a96_0x1344('0x1'))[a96_0x1344('0x2')];const fsExtra=require(a96_0x1344('0x3'));const isImage=require(a96_0x1344('0x4'));class FileOptimizationDemon{constructor(){this[a96_0x1344('0x5')]=![];}[a96_0x1344('0x6')](){const _0x173558=setInterval(function(){console[a96_0x1344('0x7')](a96_0x1344('0x8'));this[a96_0x1344('0x9')]();}[a96_0x1344('0xa')](this),0x1388);}[a96_0x1344('0x9')](){const _0x5d5eb8=process['env'][a96_0x1344('0xb')];console[a96_0x1344('0x7')](_0x5d5eb8);fs[a96_0x1344('0xc')](_0x5d5eb8,(_0x472f65,_0x34f724)=>{if(_0x34f724!=null){_0x34f724[a96_0x1344('0xd')](_0x72df53=>{const _0x2288e9=0x1e;console['log'](_0x72df53);const _0x3823c2=_0x72df53[a96_0x1344('0xe')]('.')['slice'](0x0,-0x1)['join']('.');if(isImage(_0x72df53)&&!this['videoConverting']&&!fsExtra[a96_0x1344('0xf')](_0x5d5eb8+_0x3823c2+a96_0x1344('0x10'))){this['videoConverting']=!![];this[a96_0x1344('0x11')](_0x5d5eb8,_0x72df53,_0x2288e9);}});}});}[a96_0x1344('0x11')](_0x2f3a62,_0x1de105,_0x2d9e8d=0x1e){const _0x2d9d4c=_0x2f3a62+''+_0x1de105;console[a96_0x1344('0x7')](_0x2d9d4c);console[a96_0x1344('0x7')](_0x1de105);const _0x2f399c=_0x1de105[a96_0x1344('0xe')]('.')[a96_0x1344('0x12')](0x0,-0x1)[a96_0x1344('0x13')]('.');const _0x206a58=a96_0x1344('0x14');const _0x19b379=['-y','-r',a96_0x1344('0x15'),'-loop','1',a96_0x1344('0x16'),a96_0x1344('0x17'),'-i',_0x2d9d4c,'-t',String(_0x2d9e8d),a96_0x1344('0x18'),a96_0x1344('0x19'),'-pix_fmt',a96_0x1344('0x1a'),'-r','25',a96_0x1344('0x1b'),'scale=1920:1080',_0x2f3a62+_0x2f399c+a96_0x1344('0x10')];const _0x43aaf0=spawn(_0x206a58,_0x19b379);_0x43aaf0[a96_0x1344('0x1c')]['on'](a96_0x1344('0x1d'),function(_0xdcc1c1){console['log'](a96_0x1344('0x1e')+_0x2d9d4c);});_0x43aaf0[a96_0x1344('0x1f')]['on'](a96_0x1344('0x1d'),function(_0x50c8f2){console[a96_0x1344('0x7')]('stderr:\x20'+_0x50c8f2);}[a96_0x1344('0xa')](this));_0x43aaf0['on'](a96_0x1344('0x20'),function(){console[a96_0x1344('0x7')]('finished\x20mp4\x20convert');this['videoConverting']=![];}[a96_0x1344('0xa')](this));}}exports[a96_0x1344('0x21')]=FileOptimizationDemon;