var a96_0x1825=['existsSync','.mp4','videoConverting','createImageVideo','ffmpeg','1/2','-loop','-pattern_type','glob','libx264','-pix_fmt','yuv420p','-vf','scale=1920:1080','stdout','data','Converting\x20','stderr','stderr:\x20','finished\x20mp4\x20convert','default','defineProperty','__esModule','fs-extra','is-image','start','setInterval','exploreDir','bind','env','IMAGE_FILES_FOLDER','log','slice','join'];(function(_0x669ac9,_0x330a5d){var _0x4e6e0c=function(_0x496d1c){while(--_0x496d1c){_0x669ac9['push'](_0x669ac9['shift']());}};_0x4e6e0c(++_0x330a5d);}(a96_0x1825,0x1f1));var a96_0x1f95=function(_0x4839a7,_0x2946fd){_0x4839a7=_0x4839a7-0x0;var _0x4b7780=a96_0x1825[_0x4839a7];return _0x4b7780;};'use strict';Object[a96_0x1f95('0x0')](exports,a96_0x1f95('0x1'),{'value':!![]});const fs=require('fs');const spawn=require('child_process')['spawn'];const fsExtra=require(a96_0x1f95('0x2'));const isImage=require(a96_0x1f95('0x3'));class FileOptimizationDemon{constructor(){this['videoConverting']=![];}[a96_0x1f95('0x4')](){const _0x21e5aa=setInterval(function(){console['log'](a96_0x1f95('0x5'));this[a96_0x1f95('0x6')]();}[a96_0x1f95('0x7')](this),0x1388);}[a96_0x1f95('0x6')](){const _0x2cc066=process[a96_0x1f95('0x8')][a96_0x1f95('0x9')];console[a96_0x1f95('0xa')](_0x2cc066);fs['readdir'](_0x2cc066,(_0x1c8e86,_0x522b71)=>{if(_0x522b71!=null){_0x522b71['forEach'](_0x45a223=>{const _0x2675ea=0x1e;console[a96_0x1f95('0xa')](_0x45a223);const _0x474e2c=_0x45a223['split']('.')[a96_0x1f95('0xb')](0x0,-0x1)[a96_0x1f95('0xc')]('.');if(isImage(_0x45a223)&&!this['videoConverting']&&!fsExtra[a96_0x1f95('0xd')](_0x2cc066+_0x474e2c+a96_0x1f95('0xe'))){this[a96_0x1f95('0xf')]=!![];this[a96_0x1f95('0x10')](_0x2cc066,_0x45a223,_0x2675ea);}});}});}[a96_0x1f95('0x10')](_0xdbdb45,_0x2c2387,_0x358360=0x1e){const _0x1f9942=_0xdbdb45+''+_0x2c2387;console['log'](_0x1f9942);console[a96_0x1f95('0xa')](_0x2c2387);const _0x9ef2ed=_0x2c2387['split']('.')[a96_0x1f95('0xb')](0x0,-0x1)[a96_0x1f95('0xc')]('.');const _0x1ae2d2=a96_0x1f95('0x11');const _0x5c19e3=['-y','-r',a96_0x1f95('0x12'),a96_0x1f95('0x13'),'1',a96_0x1f95('0x14'),a96_0x1f95('0x15'),'-i',_0x1f9942,'-t',String(_0x358360),'-c:v',a96_0x1f95('0x16'),a96_0x1f95('0x17'),a96_0x1f95('0x18'),'-r','25',a96_0x1f95('0x19'),a96_0x1f95('0x1a'),_0xdbdb45+_0x9ef2ed+'.mp4'];const _0x552a17=spawn(_0x1ae2d2,_0x5c19e3);_0x552a17[a96_0x1f95('0x1b')]['on'](a96_0x1f95('0x1c'),function(_0x27e5db){console['log'](a96_0x1f95('0x1d')+_0x1f9942);});_0x552a17[a96_0x1f95('0x1e')]['on'](a96_0x1f95('0x1c'),function(_0x20c1cb){console[a96_0x1f95('0xa')](a96_0x1f95('0x1f')+_0x20c1cb);}['bind'](this));_0x552a17['on']('close',function(){console[a96_0x1f95('0xa')](a96_0x1f95('0x20'));this['videoConverting']=![];}['bind'](this));}}exports[a96_0x1f95('0x21')]=FileOptimizationDemon;