var a96_0x478a=['existsSync','.mp4','createImageVideo','split','ffmpeg','1/2','-loop','glob','-c:v','libx264','yuv420p','scale=1920:1080','stdout','stderr','data','stderr:\x20','bind','close','finished\x20mp4\x20convert','default','defineProperty','__esModule','child_process','spawn','fs-extra','videoConverting','start','log','exploreDir','env','IMAGE_FILES_FOLDER','readdir','forEach','slice','join'];(function(_0x8c3eeb,_0x3169da){var _0x1e54da=function(_0x476432){while(--_0x476432){_0x8c3eeb['push'](_0x8c3eeb['shift']());}};_0x1e54da(++_0x3169da);}(a96_0x478a,0xa0));var a96_0x11e5=function(_0x3598eb,_0xbc4a82){_0x3598eb=_0x3598eb-0x0;var _0x416a97=a96_0x478a[_0x3598eb];return _0x416a97;};'use strict';Object[a96_0x11e5('0x0')](exports,a96_0x11e5('0x1'),{'value':!![]});const fs=require('fs');const spawn=require(a96_0x11e5('0x2'))[a96_0x11e5('0x3')];const fsExtra=require(a96_0x11e5('0x4'));const isImage=require('is-image');class FileOptimizationDemon{constructor(){this[a96_0x11e5('0x5')]=![];}[a96_0x11e5('0x6')](){const _0x31b706=setInterval(function(){console[a96_0x11e5('0x7')]('setInterval');this[a96_0x11e5('0x8')]();}['bind'](this),0x1388);}['exploreDir'](){const _0x10c39a=process[a96_0x11e5('0x9')][a96_0x11e5('0xa')];console[a96_0x11e5('0x7')](_0x10c39a);fs[a96_0x11e5('0xb')](_0x10c39a,(_0x4e11d5,_0x5bb1f1)=>{if(_0x5bb1f1!=null){_0x5bb1f1[a96_0x11e5('0xc')](_0x2b58ed=>{const _0x2a7cb9=0x1e;console['log'](_0x2b58ed);const _0x12a50c=_0x2b58ed['split']('.')[a96_0x11e5('0xd')](0x0,-0x1)[a96_0x11e5('0xe')]('.');if(isImage(_0x2b58ed)&&!this['videoConverting']&&!fsExtra[a96_0x11e5('0xf')](_0x10c39a+_0x12a50c+a96_0x11e5('0x10'))){this[a96_0x11e5('0x5')]=!![];this[a96_0x11e5('0x11')](_0x10c39a,_0x2b58ed,_0x2a7cb9);}});}});}['createImageVideo'](_0x285b69,_0x1a37e7,_0x50c0e5=0x1e){const _0x2d2ea3=_0x285b69+''+_0x1a37e7;console[a96_0x11e5('0x7')](_0x2d2ea3);console[a96_0x11e5('0x7')](_0x1a37e7);const _0x55d37d=_0x1a37e7[a96_0x11e5('0x12')]('.')[a96_0x11e5('0xd')](0x0,-0x1)['join']('.');const _0x13b86b=a96_0x11e5('0x13');const _0xaebc72=['-y','-r',a96_0x11e5('0x14'),a96_0x11e5('0x15'),'1','-pattern_type',a96_0x11e5('0x16'),'-i',_0x2d2ea3,'-t',String(_0x50c0e5),a96_0x11e5('0x17'),a96_0x11e5('0x18'),'-pix_fmt',a96_0x11e5('0x19'),'-r','25','-vf',a96_0x11e5('0x1a'),_0x285b69+_0x55d37d+a96_0x11e5('0x10')];const _0x55997e=spawn(_0x13b86b,_0xaebc72);_0x55997e[a96_0x11e5('0x1b')]['on']('data',function(_0x2b41d2){console[a96_0x11e5('0x7')]('Converting\x20'+_0x2d2ea3);});_0x55997e[a96_0x11e5('0x1c')]['on'](a96_0x11e5('0x1d'),function(_0x399422){console[a96_0x11e5('0x7')](a96_0x11e5('0x1e')+_0x399422);}[a96_0x11e5('0x1f')](this));_0x55997e['on'](a96_0x11e5('0x20'),function(){console[a96_0x11e5('0x7')](a96_0x11e5('0x21'));this[a96_0x11e5('0x5')]=![];}['bind'](this));}}exports[a96_0x11e5('0x22')]=FileOptimizationDemon;