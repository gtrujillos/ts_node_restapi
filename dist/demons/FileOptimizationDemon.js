var a96_0x1303=['-loop','-pattern_type','-c:v','libx264','-pix_fmt','.mp4','data','Converting\x20','stderr','stderr:\x20','close','finished\x20mp4\x20convert','default','defineProperty','__esModule','child_process','spawn','fs-extra','start','setInterval','bind','exploreDir','env','IMAGE_FILES_FOLDER','log','split','slice','join','videoConverting','existsSync','createImageVideo'];(function(_0x951979,_0x4aa80c){var _0x11886e=function(_0x24a600){while(--_0x24a600){_0x951979['push'](_0x951979['shift']());}};_0x11886e(++_0x4aa80c);}(a96_0x1303,0x105));var a96_0x242d=function(_0x4348b8,_0x19dd6b){_0x4348b8=_0x4348b8-0x0;var _0x5116d3=a96_0x1303[_0x4348b8];return _0x5116d3;};'use strict';Object[a96_0x242d('0x0')](exports,a96_0x242d('0x1'),{'value':!![]});const fs=require('fs');const spawn=require(a96_0x242d('0x2'))[a96_0x242d('0x3')];const fsExtra=require(a96_0x242d('0x4'));const isImage=require('is-image');class FileOptimizationDemon{constructor(){this['videoConverting']=![];}[a96_0x242d('0x5')](){const _0x54e0f6=setInterval(function(){console['log'](a96_0x242d('0x6'));this['exploreDir']();}[a96_0x242d('0x7')](this),0x1388);}[a96_0x242d('0x8')](){const _0x1a29ab=process[a96_0x242d('0x9')][a96_0x242d('0xa')];console[a96_0x242d('0xb')](_0x1a29ab);fs['readdir'](_0x1a29ab,(_0x2c28d8,_0x53a26d)=>{if(_0x53a26d!=null){_0x53a26d['forEach'](_0x458b9d=>{const _0x20bd94=0x1e;console['log'](_0x458b9d);const _0x5d484f=_0x458b9d[a96_0x242d('0xc')]('.')[a96_0x242d('0xd')](0x0,-0x1)[a96_0x242d('0xe')]('.');if(isImage(_0x458b9d)&&!this[a96_0x242d('0xf')]&&!fsExtra[a96_0x242d('0x10')](_0x1a29ab+_0x5d484f+'.mp4')){this[a96_0x242d('0xf')]=!![];this[a96_0x242d('0x11')](_0x1a29ab,_0x458b9d,_0x20bd94);}});}});}[a96_0x242d('0x11')](_0xfb5f70,_0x4ebb93,_0x10a5b4=0x1e){const _0x40be43=_0xfb5f70+''+_0x4ebb93;console[a96_0x242d('0xb')](_0x40be43);console['log'](_0x4ebb93);const _0x4cf96f=_0x4ebb93[a96_0x242d('0xc')]('.')[a96_0x242d('0xd')](0x0,-0x1)[a96_0x242d('0xe')]('.');const _0x4304d6='ffmpeg';const _0x15bfc8=['-y','-r','1/2',a96_0x242d('0x12'),'1',a96_0x242d('0x13'),'glob','-i',_0x40be43,'-t',String(_0x10a5b4),a96_0x242d('0x14'),a96_0x242d('0x15'),a96_0x242d('0x16'),'yuv420p','-r','25','-vf','scale=1920:1080',_0xfb5f70+_0x4cf96f+a96_0x242d('0x17')];const _0x1c3dfb=spawn(_0x4304d6,_0x15bfc8);_0x1c3dfb['stdout']['on'](a96_0x242d('0x18'),function(_0x3c4d06){console[a96_0x242d('0xb')](a96_0x242d('0x19')+_0x40be43);});_0x1c3dfb[a96_0x242d('0x1a')]['on'](a96_0x242d('0x18'),function(_0x5bc58a){console[a96_0x242d('0xb')](a96_0x242d('0x1b')+_0x5bc58a);}[a96_0x242d('0x7')](this));_0x1c3dfb['on'](a96_0x242d('0x1c'),function(){console[a96_0x242d('0xb')](a96_0x242d('0x1d'));this[a96_0x242d('0xf')]=![];}[a96_0x242d('0x7')](this));}}exports[a96_0x242d('0x1e')]=FileOptimizationDemon;