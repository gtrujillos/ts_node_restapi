var a96_0x18e6=['videoConverting','createImageVideo','ffmpeg','glob','-c:v','-pix_fmt','yuv420p','-vf','scale=1920:1080','.mp4','stdout','data','Converting\x20','stderr:\x20','close','defineProperty','__esModule','child_process','spawn','fs-extra','start','log','setInterval','exploreDir','bind','env','IMAGE_FILES_FOLDER','readdir','forEach','split','slice','join'];(function(_0x37291d,_0x58b4c9){var _0x2850a0=function(_0x35d0b3){while(--_0x35d0b3){_0x37291d['push'](_0x37291d['shift']());}};_0x2850a0(++_0x58b4c9);}(a96_0x18e6,0x1cf));var a96_0x2320=function(_0x51d509,_0x5dfba8){_0x51d509=_0x51d509-0x0;var _0x2d7075=a96_0x18e6[_0x51d509];return _0x2d7075;};'use strict';Object[a96_0x2320('0x0')](exports,a96_0x2320('0x1'),{'value':!![]});const fs=require('fs');const spawn=require(a96_0x2320('0x2'))[a96_0x2320('0x3')];const fsExtra=require(a96_0x2320('0x4'));const isImage=require('is-image');class FileOptimizationDemon{constructor(){this['videoConverting']=![];}[a96_0x2320('0x5')](){const _0xf2a21e=setInterval(function(){console[a96_0x2320('0x6')](a96_0x2320('0x7'));this[a96_0x2320('0x8')]();}[a96_0x2320('0x9')](this),0x1388);}[a96_0x2320('0x8')](){const _0x14687c=process[a96_0x2320('0xa')][a96_0x2320('0xb')];console[a96_0x2320('0x6')](_0x14687c);fs[a96_0x2320('0xc')](_0x14687c,(_0x2ea2ec,_0x2401db)=>{if(_0x2401db!=null){_0x2401db[a96_0x2320('0xd')](_0x5c0776=>{const _0x32113d=0x1e;console['log'](_0x5c0776);const _0x2776ad=_0x5c0776[a96_0x2320('0xe')]('.')[a96_0x2320('0xf')](0x0,-0x1)[a96_0x2320('0x10')]('.');if(isImage(_0x5c0776)&&!this[a96_0x2320('0x11')]&&!fsExtra['existsSync'](_0x14687c+_0x2776ad+'.mp4')){this[a96_0x2320('0x11')]=!![];this[a96_0x2320('0x12')](_0x14687c,_0x5c0776,_0x32113d);}});}});}[a96_0x2320('0x12')](_0x41ae00,_0x42eab6,_0x3cebbf=0x1e){const _0x4001ba=_0x41ae00+''+_0x42eab6;console['log'](_0x4001ba);console[a96_0x2320('0x6')](_0x42eab6);const _0x333bb8=_0x42eab6[a96_0x2320('0xe')]('.')[a96_0x2320('0xf')](0x0,-0x1)[a96_0x2320('0x10')]('.');const _0x378f38=a96_0x2320('0x13');const _0x373f46=['-y','-r','1/2','-loop','1','-pattern_type',a96_0x2320('0x14'),'-i',_0x4001ba,'-t',String(_0x3cebbf),a96_0x2320('0x15'),'libx264',a96_0x2320('0x16'),a96_0x2320('0x17'),'-r','25',a96_0x2320('0x18'),a96_0x2320('0x19'),_0x41ae00+_0x333bb8+a96_0x2320('0x1a')];const _0x14e8bd=spawn(_0x378f38,_0x373f46);_0x14e8bd[a96_0x2320('0x1b')]['on'](a96_0x2320('0x1c'),function(_0x3e1828){console['log'](a96_0x2320('0x1d')+_0x4001ba);});_0x14e8bd['stderr']['on'](a96_0x2320('0x1c'),function(_0x500391){console[a96_0x2320('0x6')](a96_0x2320('0x1e')+_0x500391);}[a96_0x2320('0x9')](this));_0x14e8bd['on'](a96_0x2320('0x1f'),function(){console[a96_0x2320('0x6')]('finished\x20mp4\x20convert');this['videoConverting']=![];}[a96_0x2320('0x9')](this));}}exports['default']=FileOptimizationDemon;