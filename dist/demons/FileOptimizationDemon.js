var a96_0x2104=['createImageVideo','split','1/2','-loop','glob','libx264','-pix_fmt','scale=1920:1080','.mp4','Converting\x20','stderr:\x20','close','finished\x20mp4\x20convert','defineProperty','__esModule','child_process','spawn','videoConverting','start','exploreDir','bind','env','IMAGE_FILES_FOLDER','log','readdir','forEach','slice','join'];(function(_0x5ee612,_0x4910a7){var _0x53968b=function(_0x54c428){while(--_0x54c428){_0x5ee612['push'](_0x5ee612['shift']());}};_0x53968b(++_0x4910a7);}(a96_0x2104,0x125));var a96_0x2284=function(_0x14665d,_0x49cea6){_0x14665d=_0x14665d-0x0;var _0x2b421e=a96_0x2104[_0x14665d];return _0x2b421e;};'use strict';Object[a96_0x2284('0x0')](exports,a96_0x2284('0x1'),{'value':!![]});const fs=require('fs');const spawn=require(a96_0x2284('0x2'))[a96_0x2284('0x3')];const fsExtra=require('fs-extra');const isImage=require('is-image');class FileOptimizationDemon{constructor(){this[a96_0x2284('0x4')]=![];}[a96_0x2284('0x5')](){const _0x185e99=setInterval(function(){console['log']('setInterval');this[a96_0x2284('0x6')]();}[a96_0x2284('0x7')](this),0x1388);}['exploreDir'](){const _0x1f74fa=process[a96_0x2284('0x8')][a96_0x2284('0x9')];console[a96_0x2284('0xa')](_0x1f74fa);fs[a96_0x2284('0xb')](_0x1f74fa,(_0x3015b7,_0xd97368)=>{if(_0xd97368!=null){_0xd97368[a96_0x2284('0xc')](_0x11736b=>{const _0x49d84d=0x1e;console['log'](_0x11736b);const _0x3d9878=_0x11736b['split']('.')[a96_0x2284('0xd')](0x0,-0x1)[a96_0x2284('0xe')]('.');if(isImage(_0x11736b)&&!this[a96_0x2284('0x4')]&&!fsExtra['existsSync'](_0x1f74fa+_0x3d9878+'.mp4')){this[a96_0x2284('0x4')]=!![];this['createImageVideo'](_0x1f74fa,_0x11736b,_0x49d84d);}});}});}[a96_0x2284('0xf')](_0x247430,_0xe777ed,_0x3d0f84=0x1e){const _0x44ecfe=_0x247430+''+_0xe777ed;console[a96_0x2284('0xa')](_0x44ecfe);console[a96_0x2284('0xa')](_0xe777ed);const _0x5ea66c=_0xe777ed[a96_0x2284('0x10')]('.')[a96_0x2284('0xd')](0x0,-0x1)['join']('.');const _0xcb5416='ffmpeg';const _0x10818b=['-y','-r',a96_0x2284('0x11'),a96_0x2284('0x12'),'1','-pattern_type',a96_0x2284('0x13'),'-i',_0x44ecfe,'-t',String(_0x3d0f84),'-c:v',a96_0x2284('0x14'),a96_0x2284('0x15'),'yuv420p','-r','25','-vf',a96_0x2284('0x16'),_0x247430+_0x5ea66c+a96_0x2284('0x17')];const _0x4b389b=spawn(_0xcb5416,_0x10818b);_0x4b389b['stdout']['on']('data',function(_0x25548e){console[a96_0x2284('0xa')](a96_0x2284('0x18')+_0x44ecfe);});_0x4b389b['stderr']['on']('data',function(_0x33b95f){console[a96_0x2284('0xa')](a96_0x2284('0x19')+_0x33b95f);}[a96_0x2284('0x7')](this));_0x4b389b['on'](a96_0x2284('0x1a'),function(){console['log'](a96_0x2284('0x1b'));this[a96_0x2284('0x4')]=![];}[a96_0x2284('0x7')](this));}}exports['default']=FileOptimizationDemon;