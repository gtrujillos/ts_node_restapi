var a96_0x2660=['videoConverting','start','log','setInterval','exploreDir','bind','env','IMAGE_FILES_FOLDER','readdir','forEach','slice','join','.mp4','createImageVideo','ffmpeg','1/2','-pattern_type','glob','-c:v','scale=1920:1080','stdout','data','stderr','close','finished\x20mp4\x20convert','default','defineProperty','__esModule','spawn','fs-extra','is-image'];(function(_0x4e4057,_0x5ba7ac){var _0x60f9e0=function(_0x1e37d6){while(--_0x1e37d6){_0x4e4057['push'](_0x4e4057['shift']());}};_0x60f9e0(++_0x5ba7ac);}(a96_0x2660,0x131));var a96_0xece2=function(_0x5a7bcf,_0x3035af){_0x5a7bcf=_0x5a7bcf-0x0;var _0x283476=a96_0x2660[_0x5a7bcf];return _0x283476;};'use strict';Object[a96_0xece2('0x0')](exports,a96_0xece2('0x1'),{'value':!![]});const fs=require('fs');const spawn=require('child_process')[a96_0xece2('0x2')];const fsExtra=require(a96_0xece2('0x3'));const isImage=require(a96_0xece2('0x4'));class FileOptimizationDemon{constructor(){this[a96_0xece2('0x5')]=![];}[a96_0xece2('0x6')](){const _0x4d04f9=setInterval(function(){console[a96_0xece2('0x7')](a96_0xece2('0x8'));this[a96_0xece2('0x9')]();}[a96_0xece2('0xa')](this),0x1388);}['exploreDir'](){const _0x15225a=process[a96_0xece2('0xb')][a96_0xece2('0xc')];console[a96_0xece2('0x7')](_0x15225a);fs[a96_0xece2('0xd')](_0x15225a,(_0x342252,_0x32b264)=>{if(_0x32b264!=null){_0x32b264[a96_0xece2('0xe')](_0x3c7e77=>{const _0x2190ba=0x1e;console['log'](_0x3c7e77);const _0x1d4809=_0x3c7e77['split']('.')[a96_0xece2('0xf')](0x0,-0x1)[a96_0xece2('0x10')]('.');if(isImage(_0x3c7e77)&&!this[a96_0xece2('0x5')]&&!fsExtra['existsSync'](_0x15225a+_0x1d4809+a96_0xece2('0x11'))){this['videoConverting']=!![];this[a96_0xece2('0x12')](_0x15225a,_0x3c7e77,_0x2190ba);}});}});}[a96_0xece2('0x12')](_0x261220,_0x518377,_0x90ea66=0x1e){const _0x8dc0df=_0x261220+''+_0x518377;console['log'](_0x8dc0df);console[a96_0xece2('0x7')](_0x518377);const _0x10c4cc=_0x518377['split']('.')[a96_0xece2('0xf')](0x0,-0x1)[a96_0xece2('0x10')]('.');const _0x499531=a96_0xece2('0x13');const _0x46ac94=['-y','-r',a96_0xece2('0x14'),'-loop','1',a96_0xece2('0x15'),a96_0xece2('0x16'),'-i',_0x8dc0df,'-t',String(_0x90ea66),a96_0xece2('0x17'),'libx264','-pix_fmt','yuv420p','-r','25','-vf',a96_0xece2('0x18'),_0x261220+_0x10c4cc+a96_0xece2('0x11')];const _0x2ba58e=spawn(_0x499531,_0x46ac94);_0x2ba58e[a96_0xece2('0x19')]['on'](a96_0xece2('0x1a'),function(_0x1ccd4e){console[a96_0xece2('0x7')]('Converting\x20'+_0x8dc0df);});_0x2ba58e[a96_0xece2('0x1b')]['on'](a96_0xece2('0x1a'),function(_0x1d76ba){console[a96_0xece2('0x7')]('stderr:\x20'+_0x1d76ba);}[a96_0xece2('0xa')](this));_0x2ba58e['on'](a96_0xece2('0x1c'),function(){console[a96_0xece2('0x7')](a96_0xece2('0x1d'));this[a96_0xece2('0x5')]=![];}[a96_0xece2('0xa')](this));}}exports[a96_0xece2('0x1e')]=FileOptimizationDemon;