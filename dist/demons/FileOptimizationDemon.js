var a202_0x59f7=['videoConverting','start','log','setInterval','exploreDir','bind','env','IMAGE_FILES_FOLDER','readdir','forEach','split','slice','existsSync','.mp4','createImageVideo','join','1/2','-loop','glob','-pix_fmt','yuv420p','scale=1920:1080','stdout','Converting\x20','stderr','data','stderr:\x20','close','finished\x20mp4\x20convert','__esModule','child_process','spawn'];(function(_0x546a53,_0x3f720e){var _0x440369=function(_0x2e1b64){while(--_0x2e1b64){_0x546a53['push'](_0x546a53['shift']());}};_0x440369(++_0x3f720e);}(a202_0x59f7,0x7d));var a202_0x5910=function(_0x4d383b,_0x40f1fa){_0x4d383b=_0x4d383b-0x0;var _0x1e8a7a=a202_0x59f7[_0x4d383b];return _0x1e8a7a;};'use strict';Object['defineProperty'](exports,a202_0x5910('0x0'),{'value':!![]});const fs=require('fs');const spawn=require(a202_0x5910('0x1'))[a202_0x5910('0x2')];const fsExtra=require('fs-extra');const isImage=require('is-image');class FileOptimizationDemon{constructor(){this[a202_0x5910('0x3')]=![];}[a202_0x5910('0x4')](){const _0x111319=setInterval(function(){console[a202_0x5910('0x5')](a202_0x5910('0x6'));this[a202_0x5910('0x7')]();}[a202_0x5910('0x8')](this),0x1388);}[a202_0x5910('0x7')](){const _0x2d8bd2=process[a202_0x5910('0x9')][a202_0x5910('0xa')];console[a202_0x5910('0x5')](_0x2d8bd2);fs[a202_0x5910('0xb')](_0x2d8bd2,(_0x3c9ca9,_0x4b2632)=>{if(_0x4b2632!=null){_0x4b2632[a202_0x5910('0xc')](_0x379c8d=>{const _0x5843bb=0x1e;console[a202_0x5910('0x5')](_0x379c8d);const _0x4d1542=_0x379c8d[a202_0x5910('0xd')]('.')[a202_0x5910('0xe')](0x0,-0x1)['join']('.');if(isImage(_0x379c8d)&&!this['videoConverting']&&!fsExtra[a202_0x5910('0xf')](_0x2d8bd2+_0x4d1542+a202_0x5910('0x10'))){this['videoConverting']=!![];this[a202_0x5910('0x11')](_0x2d8bd2,_0x379c8d,_0x5843bb);}});}});}[a202_0x5910('0x11')](_0x517d3c,_0x2af32b,_0x2517ab=0x1e){const _0x210403=_0x517d3c+''+_0x2af32b;console[a202_0x5910('0x5')](_0x210403);console[a202_0x5910('0x5')](_0x2af32b);const _0x56cdff=_0x2af32b[a202_0x5910('0xd')]('.')['slice'](0x0,-0x1)[a202_0x5910('0x12')]('.');const _0x3a00c1='ffmpeg';const _0x51103c=['-y','-r',a202_0x5910('0x13'),a202_0x5910('0x14'),'1','-pattern_type',a202_0x5910('0x15'),'-i',_0x210403,'-t',String(_0x2517ab),'-c:v','libx264',a202_0x5910('0x16'),a202_0x5910('0x17'),'-r','25','-vf',a202_0x5910('0x18'),_0x517d3c+_0x56cdff+'.mp4'];const _0x482efd=spawn(_0x3a00c1,_0x51103c);_0x482efd[a202_0x5910('0x19')]['on']('data',function(_0x3e19f0){console[a202_0x5910('0x5')](a202_0x5910('0x1a')+_0x210403);});_0x482efd[a202_0x5910('0x1b')]['on'](a202_0x5910('0x1c'),function(_0x3f4fc9){console['log'](a202_0x5910('0x1d')+_0x3f4fc9);}[a202_0x5910('0x8')](this));_0x482efd['on'](a202_0x5910('0x1e'),function(){console[a202_0x5910('0x5')](a202_0x5910('0x1f'));this['videoConverting']=![];}[a202_0x5910('0x8')](this));}}exports['default']=FileOptimizationDemon;