var a202_0x7227=['-pix_fmt','yuv420p','-vf','scale=1920:1080','stdout','data','Converting\x20','stderr','stderr:\x20','close','finished\x20mp4\x20convert','default','defineProperty','__esModule','child_process','spawn','fs-extra','is-image','videoConverting','start','log','setInterval','bind','exploreDir','readdir','forEach','split','join','existsSync','createImageVideo','1/2','glob','-c:v','libx264'];(function(_0x3f712d,_0x2b5a54){var _0x43c93d=function(_0x5147d9){while(--_0x5147d9){_0x3f712d['push'](_0x3f712d['shift']());}};_0x43c93d(++_0x2b5a54);}(a202_0x7227,0x13e));var a202_0x5260=function(_0x4d8daa,_0x46b606){_0x4d8daa=_0x4d8daa-0x0;var _0x10837f=a202_0x7227[_0x4d8daa];return _0x10837f;};'use strict';Object[a202_0x5260('0x0')](exports,a202_0x5260('0x1'),{'value':!![]});const fs=require('fs');const spawn=require(a202_0x5260('0x2'))[a202_0x5260('0x3')];const fsExtra=require(a202_0x5260('0x4'));const isImage=require(a202_0x5260('0x5'));class FileOptimizationDemon{constructor(){this[a202_0x5260('0x6')]=![];}[a202_0x5260('0x7')](){const _0x4e41cb=setInterval(function(){console[a202_0x5260('0x8')](a202_0x5260('0x9'));this['exploreDir']();}[a202_0x5260('0xa')](this),0x1388);}[a202_0x5260('0xb')](){const _0x499171=process['env']['IMAGE_FILES_FOLDER'];console[a202_0x5260('0x8')](_0x499171);fs[a202_0x5260('0xc')](_0x499171,(_0x5b5b4e,_0x5a2e88)=>{if(_0x5a2e88!=null){_0x5a2e88[a202_0x5260('0xd')](_0xce29e0=>{const _0x500a8a=0x1e;console[a202_0x5260('0x8')](_0xce29e0);const _0x5dc34f=_0xce29e0[a202_0x5260('0xe')]('.')['slice'](0x0,-0x1)[a202_0x5260('0xf')]('.');if(isImage(_0xce29e0)&&!this[a202_0x5260('0x6')]&&!fsExtra[a202_0x5260('0x10')](_0x499171+_0x5dc34f+'.mp4')){this[a202_0x5260('0x6')]=!![];this['createImageVideo'](_0x499171,_0xce29e0,_0x500a8a);}});}});}[a202_0x5260('0x11')](_0x357404,_0x2e7516,_0x1f270e=0x1e){const _0x2a88a6=_0x357404+''+_0x2e7516;console[a202_0x5260('0x8')](_0x2a88a6);console[a202_0x5260('0x8')](_0x2e7516);const _0x56ad0e=_0x2e7516[a202_0x5260('0xe')]('.')['slice'](0x0,-0x1)[a202_0x5260('0xf')]('.');const _0x34b421='ffmpeg';const _0x553cdf=['-y','-r',a202_0x5260('0x12'),'-loop','1','-pattern_type',a202_0x5260('0x13'),'-i',_0x2a88a6,'-t',String(_0x1f270e),a202_0x5260('0x14'),a202_0x5260('0x15'),a202_0x5260('0x16'),a202_0x5260('0x17'),'-r','25',a202_0x5260('0x18'),a202_0x5260('0x19'),_0x357404+_0x56ad0e+'.mp4'];const _0x17fddf=spawn(_0x34b421,_0x553cdf);_0x17fddf[a202_0x5260('0x1a')]['on'](a202_0x5260('0x1b'),function(_0x133c62){console[a202_0x5260('0x8')](a202_0x5260('0x1c')+_0x2a88a6);});_0x17fddf[a202_0x5260('0x1d')]['on'](a202_0x5260('0x1b'),function(_0x271d6f){console['log'](a202_0x5260('0x1e')+_0x271d6f);}[a202_0x5260('0xa')](this));_0x17fddf['on'](a202_0x5260('0x1f'),function(){console[a202_0x5260('0x8')](a202_0x5260('0x20'));this[a202_0x5260('0x6')]=![];}[a202_0x5260('0xa')](this));}}exports[a202_0x5260('0x21')]=FileOptimizationDemon;