var a202_0x3323=['-pattern_type','-c:v','-pix_fmt','yuv420p','-vf','scale=1920:1080','stdout','data','stderr:\x20','close','finished\x20mp4\x20convert','defineProperty','__esModule','spawn','fs-extra','is-image','videoConverting','start','setInterval','bind','exploreDir','IMAGE_FILES_FOLDER','log','readdir','forEach','split','slice','join','existsSync','.mp4','createImageVideo','ffmpeg','1/2'];(function(_0x3c6666,_0x209fb6){var _0x6eb7ff=function(_0x356882){while(--_0x356882){_0x3c6666['push'](_0x3c6666['shift']());}};_0x6eb7ff(++_0x209fb6);}(a202_0x3323,0x1b8));var a202_0x5062=function(_0x5d31ce,_0x1f2c44){_0x5d31ce=_0x5d31ce-0x0;var _0x2f2fd0=a202_0x3323[_0x5d31ce];return _0x2f2fd0;};'use strict';Object[a202_0x5062('0x0')](exports,a202_0x5062('0x1'),{'value':!![]});const fs=require('fs');const spawn=require('child_process')[a202_0x5062('0x2')];const fsExtra=require(a202_0x5062('0x3'));const isImage=require(a202_0x5062('0x4'));class FileOptimizationDemon{constructor(){this[a202_0x5062('0x5')]=![];}[a202_0x5062('0x6')](){const _0x8cd0b2=setInterval(function(){console['log'](a202_0x5062('0x7'));this['exploreDir']();}[a202_0x5062('0x8')](this),0x1388);}[a202_0x5062('0x9')](){const _0x34aba7=process['env'][a202_0x5062('0xa')];console[a202_0x5062('0xb')](_0x34aba7);fs[a202_0x5062('0xc')](_0x34aba7,(_0x1bebe8,_0x3118af)=>{if(_0x3118af!=null){_0x3118af[a202_0x5062('0xd')](_0x31a0ae=>{const _0x15d611=0x1e;console['log'](_0x31a0ae);const _0x57e00c=_0x31a0ae[a202_0x5062('0xe')]('.')[a202_0x5062('0xf')](0x0,-0x1)[a202_0x5062('0x10')]('.');if(isImage(_0x31a0ae)&&!this[a202_0x5062('0x5')]&&!fsExtra[a202_0x5062('0x11')](_0x34aba7+_0x57e00c+a202_0x5062('0x12'))){this[a202_0x5062('0x5')]=!![];this[a202_0x5062('0x13')](_0x34aba7,_0x31a0ae,_0x15d611);}});}});}[a202_0x5062('0x13')](_0x5b03b0,_0x4b747b,_0x554cfe=0x1e){const _0x28185b=_0x5b03b0+''+_0x4b747b;console[a202_0x5062('0xb')](_0x28185b);console[a202_0x5062('0xb')](_0x4b747b);const _0x34a5b1=_0x4b747b[a202_0x5062('0xe')]('.')[a202_0x5062('0xf')](0x0,-0x1)['join']('.');const _0x2fb34b=a202_0x5062('0x14');const _0x3e4ddb=['-y','-r',a202_0x5062('0x15'),'-loop','1',a202_0x5062('0x16'),'glob','-i',_0x28185b,'-t',String(_0x554cfe),a202_0x5062('0x17'),'libx264',a202_0x5062('0x18'),a202_0x5062('0x19'),'-r','25',a202_0x5062('0x1a'),a202_0x5062('0x1b'),_0x5b03b0+_0x34a5b1+a202_0x5062('0x12')];const _0x1c6676=spawn(_0x2fb34b,_0x3e4ddb);_0x1c6676[a202_0x5062('0x1c')]['on']('data',function(_0x511b77){console[a202_0x5062('0xb')]('Converting\x20'+_0x28185b);});_0x1c6676['stderr']['on'](a202_0x5062('0x1d'),function(_0xd7009b){console['log'](a202_0x5062('0x1e')+_0xd7009b);}[a202_0x5062('0x8')](this));_0x1c6676['on'](a202_0x5062('0x1f'),function(){console[a202_0x5062('0xb')](a202_0x5062('0x20'));this[a202_0x5062('0x5')]=![];}[a202_0x5062('0x8')](this));}}exports['default']=FileOptimizationDemon;