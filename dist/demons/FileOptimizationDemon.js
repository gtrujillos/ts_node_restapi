var a96_0x2912=['scale=1920:1080','stdout','data','Converting\x20','stderr','stderr:\x20','default','defineProperty','child_process','spawn','is-image','videoConverting','start','log','setInterval','bind','env','IMAGE_FILES_FOLDER','forEach','split','slice','join','.mp4','createImageVideo','ffmpeg','-pattern_type','-c:v','libx264','-pix_fmt','-vf'];(function(_0x117c10,_0x2db704){var _0xe2372e=function(_0x4a3abc){while(--_0x4a3abc){_0x117c10['push'](_0x117c10['shift']());}};_0xe2372e(++_0x2db704);}(a96_0x2912,0x1ab));var a96_0x4f11=function(_0x4d53f3,_0x30c968){_0x4d53f3=_0x4d53f3-0x0;var _0x2378bc=a96_0x2912[_0x4d53f3];return _0x2378bc;};'use strict';Object[a96_0x4f11('0x0')](exports,'__esModule',{'value':!![]});const fs=require('fs');const spawn=require(a96_0x4f11('0x1'))[a96_0x4f11('0x2')];const fsExtra=require('fs-extra');const isImage=require(a96_0x4f11('0x3'));class FileOptimizationDemon{constructor(){this[a96_0x4f11('0x4')]=![];}[a96_0x4f11('0x5')](){const _0xffbd9a=setInterval(function(){console[a96_0x4f11('0x6')](a96_0x4f11('0x7'));this['exploreDir']();}[a96_0x4f11('0x8')](this),0x1388);}['exploreDir'](){const _0x4c2030=process[a96_0x4f11('0x9')][a96_0x4f11('0xa')];console[a96_0x4f11('0x6')](_0x4c2030);fs['readdir'](_0x4c2030,(_0x13d01d,_0x1c87f2)=>{if(_0x1c87f2!=null){_0x1c87f2[a96_0x4f11('0xb')](_0x274adf=>{const _0x3e6936=0x1e;console[a96_0x4f11('0x6')](_0x274adf);const _0x5b195d=_0x274adf[a96_0x4f11('0xc')]('.')[a96_0x4f11('0xd')](0x0,-0x1)[a96_0x4f11('0xe')]('.');if(isImage(_0x274adf)&&!this['videoConverting']&&!fsExtra['existsSync'](_0x4c2030+_0x5b195d+a96_0x4f11('0xf'))){this[a96_0x4f11('0x4')]=!![];this[a96_0x4f11('0x10')](_0x4c2030,_0x274adf,_0x3e6936);}});}});}[a96_0x4f11('0x10')](_0x312cf,_0xc3cf80,_0x4df057=0x1e){const _0x5b620e=_0x312cf+''+_0xc3cf80;console[a96_0x4f11('0x6')](_0x5b620e);console[a96_0x4f11('0x6')](_0xc3cf80);const _0x484c3b=_0xc3cf80['split']('.')[a96_0x4f11('0xd')](0x0,-0x1)['join']('.');const _0x11d389=a96_0x4f11('0x11');const _0x50e70a=['-y','-r','1/2','-loop','1',a96_0x4f11('0x12'),'glob','-i',_0x5b620e,'-t',String(_0x4df057),a96_0x4f11('0x13'),a96_0x4f11('0x14'),a96_0x4f11('0x15'),'yuv420p','-r','25',a96_0x4f11('0x16'),a96_0x4f11('0x17'),_0x312cf+_0x484c3b+'.mp4'];const _0x22bab0=spawn(_0x11d389,_0x50e70a);_0x22bab0[a96_0x4f11('0x18')]['on'](a96_0x4f11('0x19'),function(_0x323a8a){console[a96_0x4f11('0x6')](a96_0x4f11('0x1a')+_0x5b620e);});_0x22bab0[a96_0x4f11('0x1b')]['on'](a96_0x4f11('0x19'),function(_0x15aea4){console[a96_0x4f11('0x6')](a96_0x4f11('0x1c')+_0x15aea4);}[a96_0x4f11('0x8')](this));_0x22bab0['on']('close',function(){console['log']('finished\x20mp4\x20convert');this[a96_0x4f11('0x4')]=![];}[a96_0x4f11('0x8')](this));}}exports[a96_0x4f11('0x1d')]=FileOptimizationDemon;