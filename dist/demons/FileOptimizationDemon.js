var a143_0x1c9c=['join','existsSync','.mp4','createImageVideo','ffmpeg','-loop','-pattern_type','glob','-pix_fmt','-vf','stdout','data','Converting\x20','stderr','stderr:\x20','close','finished\x20mp4\x20convert','bind','default','child_process','fs-extra','is-image','videoConverting','start','log','setInterval','exploreDir','env','IMAGE_FILES_FOLDER','readdir','forEach','split','slice'];(function(_0x10d1eb,_0x320b99){var _0x12daa0=function(_0x89648f){while(--_0x89648f){_0x10d1eb['push'](_0x10d1eb['shift']());}};_0x12daa0(++_0x320b99);}(a143_0x1c9c,0xb8));var a143_0x52f0=function(_0x43860f,_0x319611){_0x43860f=_0x43860f-0x0;var _0x144037=a143_0x1c9c[_0x43860f];return _0x144037;};'use strict';Object['defineProperty'](exports,'__esModule',{'value':!![]});const fs=require('fs');const spawn=require(a143_0x52f0('0x0'))['spawn'];const fsExtra=require(a143_0x52f0('0x1'));const isImage=require(a143_0x52f0('0x2'));class FileOptimizationDemon{constructor(){this[a143_0x52f0('0x3')]=![];}[a143_0x52f0('0x4')](){const _0x57f3e4=setInterval(function(){console[a143_0x52f0('0x5')](a143_0x52f0('0x6'));this['exploreDir']();}['bind'](this),0x1388);}[a143_0x52f0('0x7')](){const _0x53e022=process[a143_0x52f0('0x8')][a143_0x52f0('0x9')];console[a143_0x52f0('0x5')](_0x53e022);fs[a143_0x52f0('0xa')](_0x53e022,(_0x4810f0,_0x211e69)=>{if(_0x211e69!=null){_0x211e69[a143_0x52f0('0xb')](_0xc782d2=>{const _0x5dd6e9=0x1e;console[a143_0x52f0('0x5')](_0xc782d2);const _0x5a7a04=_0xc782d2[a143_0x52f0('0xc')]('.')[a143_0x52f0('0xd')](0x0,-0x1)[a143_0x52f0('0xe')]('.');if(isImage(_0xc782d2)&&!this[a143_0x52f0('0x3')]&&!fsExtra[a143_0x52f0('0xf')](_0x53e022+_0x5a7a04+a143_0x52f0('0x10'))){this[a143_0x52f0('0x3')]=!![];this[a143_0x52f0('0x11')](_0x53e022,_0xc782d2,_0x5dd6e9);}});}});}[a143_0x52f0('0x11')](_0x1d16ea,_0x537732,_0x1b0b4b=0x1e){const _0xabfb9a=_0x1d16ea+''+_0x537732;console['log'](_0xabfb9a);console['log'](_0x537732);const _0x3d3deb=_0x537732[a143_0x52f0('0xc')]('.')[a143_0x52f0('0xd')](0x0,-0x1)[a143_0x52f0('0xe')]('.');const _0x1cf68f=a143_0x52f0('0x12');const _0x4a6ac1=['-y','-r','1/2',a143_0x52f0('0x13'),'1',a143_0x52f0('0x14'),a143_0x52f0('0x15'),'-i',_0xabfb9a,'-t',String(_0x1b0b4b),'-c:v','libx264',a143_0x52f0('0x16'),'yuv420p','-r','25',a143_0x52f0('0x17'),'scale=1920:1080',_0x1d16ea+_0x3d3deb+a143_0x52f0('0x10')];const _0x3f6d03=spawn(_0x1cf68f,_0x4a6ac1);_0x3f6d03[a143_0x52f0('0x18')]['on'](a143_0x52f0('0x19'),function(_0x492aed){console[a143_0x52f0('0x5')](a143_0x52f0('0x1a')+_0xabfb9a);});_0x3f6d03[a143_0x52f0('0x1b')]['on'](a143_0x52f0('0x19'),function(_0x2838fc){console[a143_0x52f0('0x5')](a143_0x52f0('0x1c')+_0x2838fc);}['bind'](this));_0x3f6d03['on'](a143_0x52f0('0x1d'),function(){console[a143_0x52f0('0x5')](a143_0x52f0('0x1e'));this[a143_0x52f0('0x3')]=![];}[a143_0x52f0('0x1f')](this));}}exports[a143_0x52f0('0x20')]=FileOptimizationDemon;