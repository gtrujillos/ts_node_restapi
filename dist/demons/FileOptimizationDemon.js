var a202_0x783c=['videoConverting','start','log','exploreDir','bind','IMAGE_FILES_FOLDER','readdir','forEach','slice','join','existsSync','.mp4','createImageVideo','split','ffmpeg','-pattern_type','-c:v','-pix_fmt','-vf','stdout','Converting\x20','stderr','data','stderr:\x20','close','finished\x20mp4\x20convert','default','defineProperty','__esModule','is-image'];(function(_0x22e0c5,_0x51eff1){var _0x32eb03=function(_0x3daf41){while(--_0x3daf41){_0x22e0c5['push'](_0x22e0c5['shift']());}};_0x32eb03(++_0x51eff1);}(a202_0x783c,0xcf));var a202_0x4b34=function(_0x545202,_0x5b1529){_0x545202=_0x545202-0x0;var _0x1f29cb=a202_0x783c[_0x545202];return _0x1f29cb;};'use strict';Object[a202_0x4b34('0x0')](exports,a202_0x4b34('0x1'),{'value':!![]});const fs=require('fs');const spawn=require('child_process')['spawn'];const fsExtra=require('fs-extra');const isImage=require(a202_0x4b34('0x2'));class FileOptimizationDemon{constructor(){this[a202_0x4b34('0x3')]=![];}[a202_0x4b34('0x4')](){const _0x6ff76d=setInterval(function(){console[a202_0x4b34('0x5')]('setInterval');this[a202_0x4b34('0x6')]();}[a202_0x4b34('0x7')](this),0x1388);}[a202_0x4b34('0x6')](){const _0x54edca=process['env'][a202_0x4b34('0x8')];console[a202_0x4b34('0x5')](_0x54edca);fs[a202_0x4b34('0x9')](_0x54edca,(_0x5e784c,_0x1043cc)=>{if(_0x1043cc!=null){_0x1043cc[a202_0x4b34('0xa')](_0x32410b=>{const _0x1b9749=0x1e;console[a202_0x4b34('0x5')](_0x32410b);const _0x5a46b5=_0x32410b['split']('.')[a202_0x4b34('0xb')](0x0,-0x1)[a202_0x4b34('0xc')]('.');if(isImage(_0x32410b)&&!this[a202_0x4b34('0x3')]&&!fsExtra[a202_0x4b34('0xd')](_0x54edca+_0x5a46b5+a202_0x4b34('0xe'))){this[a202_0x4b34('0x3')]=!![];this[a202_0x4b34('0xf')](_0x54edca,_0x32410b,_0x1b9749);}});}});}[a202_0x4b34('0xf')](_0x3cca2e,_0x5a7680,_0x4850ab=0x1e){const _0x5ad103=_0x3cca2e+''+_0x5a7680;console['log'](_0x5ad103);console[a202_0x4b34('0x5')](_0x5a7680);const _0x2f63d2=_0x5a7680[a202_0x4b34('0x10')]('.')['slice'](0x0,-0x1)['join']('.');const _0x261da1=a202_0x4b34('0x11');const _0x4523a2=['-y','-r','1/2','-loop','1',a202_0x4b34('0x12'),'glob','-i',_0x5ad103,'-t',String(_0x4850ab),a202_0x4b34('0x13'),'libx264',a202_0x4b34('0x14'),'yuv420p','-r','25',a202_0x4b34('0x15'),'scale=1920:1080',_0x3cca2e+_0x2f63d2+'.mp4'];const _0x26df5a=spawn(_0x261da1,_0x4523a2);_0x26df5a[a202_0x4b34('0x16')]['on']('data',function(_0x384603){console[a202_0x4b34('0x5')](a202_0x4b34('0x17')+_0x5ad103);});_0x26df5a[a202_0x4b34('0x18')]['on'](a202_0x4b34('0x19'),function(_0x4b3b89){console[a202_0x4b34('0x5')](a202_0x4b34('0x1a')+_0x4b3b89);}[a202_0x4b34('0x7')](this));_0x26df5a['on'](a202_0x4b34('0x1b'),function(){console['log'](a202_0x4b34('0x1c'));this[a202_0x4b34('0x3')]=![];}[a202_0x4b34('0x7')](this));}}exports[a202_0x4b34('0x1d')]=FileOptimizationDemon;