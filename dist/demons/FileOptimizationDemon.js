var a202_0x31fb=['-loop','-pattern_type','glob','-c:v','libx264','-pix_fmt','yuv420p','-vf','scale=1920:1080','stdout','data','stderr:\x20','finished\x20mp4\x20convert','defineProperty','__esModule','child_process','fs-extra','is-image','videoConverting','log','setInterval','bind','exploreDir','env','IMAGE_FILES_FOLDER','readdir','forEach','slice','join','.mp4','createImageVideo','split','ffmpeg','1/2'];(function(_0x4752aa,_0x9a3653){var _0xd2c766=function(_0x2333ff){while(--_0x2333ff){_0x4752aa['push'](_0x4752aa['shift']());}};_0xd2c766(++_0x9a3653);}(a202_0x31fb,0x1a5));var a202_0x4508=function(_0x2e76a3,_0x2a4ca5){_0x2e76a3=_0x2e76a3-0x0;var _0x3d74e4=a202_0x31fb[_0x2e76a3];return _0x3d74e4;};'use strict';Object[a202_0x4508('0x0')](exports,a202_0x4508('0x1'),{'value':!![]});const fs=require('fs');const spawn=require(a202_0x4508('0x2'))['spawn'];const fsExtra=require(a202_0x4508('0x3'));const isImage=require(a202_0x4508('0x4'));class FileOptimizationDemon{constructor(){this[a202_0x4508('0x5')]=![];}['start'](){const _0x4419a6=setInterval(function(){console[a202_0x4508('0x6')](a202_0x4508('0x7'));this['exploreDir']();}[a202_0x4508('0x8')](this),0x1388);}[a202_0x4508('0x9')](){const _0x778d0d=process[a202_0x4508('0xa')][a202_0x4508('0xb')];console[a202_0x4508('0x6')](_0x778d0d);fs[a202_0x4508('0xc')](_0x778d0d,(_0x25db13,_0x25dd5b)=>{if(_0x25dd5b!=null){_0x25dd5b[a202_0x4508('0xd')](_0x16ce0e=>{const _0x376503=0x1e;console[a202_0x4508('0x6')](_0x16ce0e);const _0x1c05c8=_0x16ce0e['split']('.')[a202_0x4508('0xe')](0x0,-0x1)[a202_0x4508('0xf')]('.');if(isImage(_0x16ce0e)&&!this[a202_0x4508('0x5')]&&!fsExtra['existsSync'](_0x778d0d+_0x1c05c8+a202_0x4508('0x10'))){this['videoConverting']=!![];this[a202_0x4508('0x11')](_0x778d0d,_0x16ce0e,_0x376503);}});}});}[a202_0x4508('0x11')](_0xc2fd22,_0x20f22f,_0x207963=0x1e){const _0x164a2c=_0xc2fd22+''+_0x20f22f;console[a202_0x4508('0x6')](_0x164a2c);console[a202_0x4508('0x6')](_0x20f22f);const _0x478646=_0x20f22f[a202_0x4508('0x12')]('.')[a202_0x4508('0xe')](0x0,-0x1)[a202_0x4508('0xf')]('.');const _0x228e24=a202_0x4508('0x13');const _0x5c8260=['-y','-r',a202_0x4508('0x14'),a202_0x4508('0x15'),'1',a202_0x4508('0x16'),a202_0x4508('0x17'),'-i',_0x164a2c,'-t',String(_0x207963),a202_0x4508('0x18'),a202_0x4508('0x19'),a202_0x4508('0x1a'),a202_0x4508('0x1b'),'-r','25',a202_0x4508('0x1c'),a202_0x4508('0x1d'),_0xc2fd22+_0x478646+a202_0x4508('0x10')];const _0x4311af=spawn(_0x228e24,_0x5c8260);_0x4311af[a202_0x4508('0x1e')]['on']('data',function(_0x409eb1){console[a202_0x4508('0x6')]('Converting\x20'+_0x164a2c);});_0x4311af['stderr']['on'](a202_0x4508('0x1f'),function(_0x14ac18){console[a202_0x4508('0x6')](a202_0x4508('0x20')+_0x14ac18);}[a202_0x4508('0x8')](this));_0x4311af['on']('close',function(){console[a202_0x4508('0x6')](a202_0x4508('0x21'));this['videoConverting']=![];}['bind'](this));}}exports['default']=FileOptimizationDemon;