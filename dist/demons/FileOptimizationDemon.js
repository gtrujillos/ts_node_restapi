var a96_0x3fae=['Converting\x20','data','stderr:\x20','close','finished\x20mp4\x20convert','default','defineProperty','child_process','spawn','fs-extra','is-image','videoConverting','start','log','setInterval','exploreDir','bind','env','readdir','forEach','split','slice','join','existsSync','.mp4','createImageVideo','ffmpeg','1/2','-loop','-pattern_type','glob','-c:v','libx264','-pix_fmt','yuv420p','-vf','stdout'];(function(_0x2b8d76,_0x1060c4){var _0x27a8d4=function(_0x5e5336){while(--_0x5e5336){_0x2b8d76['push'](_0x2b8d76['shift']());}};_0x27a8d4(++_0x1060c4);}(a96_0x3fae,0x12e));var a96_0x2e8e=function(_0x50b579,_0x1a4950){_0x50b579=_0x50b579-0x0;var _0x2267d5=a96_0x3fae[_0x50b579];return _0x2267d5;};'use strict';Object[a96_0x2e8e('0x0')](exports,'__esModule',{'value':!![]});const fs=require('fs');const spawn=require(a96_0x2e8e('0x1'))[a96_0x2e8e('0x2')];const fsExtra=require(a96_0x2e8e('0x3'));const isImage=require(a96_0x2e8e('0x4'));class FileOptimizationDemon{constructor(){this[a96_0x2e8e('0x5')]=![];}[a96_0x2e8e('0x6')](){const _0x3f6134=setInterval(function(){console[a96_0x2e8e('0x7')](a96_0x2e8e('0x8'));this[a96_0x2e8e('0x9')]();}[a96_0x2e8e('0xa')](this),0x1388);}[a96_0x2e8e('0x9')](){const _0x2a5d7c=process[a96_0x2e8e('0xb')]['IMAGE_FILES_FOLDER'];console['log'](_0x2a5d7c);fs[a96_0x2e8e('0xc')](_0x2a5d7c,(_0x410a08,_0x452de9)=>{if(_0x452de9!=null){_0x452de9[a96_0x2e8e('0xd')](_0x54235e=>{const _0x24f40e=0x1e;console['log'](_0x54235e);const _0x32c3fb=_0x54235e[a96_0x2e8e('0xe')]('.')[a96_0x2e8e('0xf')](0x0,-0x1)[a96_0x2e8e('0x10')]('.');if(isImage(_0x54235e)&&!this[a96_0x2e8e('0x5')]&&!fsExtra[a96_0x2e8e('0x11')](_0x2a5d7c+_0x32c3fb+a96_0x2e8e('0x12'))){this['videoConverting']=!![];this[a96_0x2e8e('0x13')](_0x2a5d7c,_0x54235e,_0x24f40e);}});}});}['createImageVideo'](_0x165431,_0xfca5ef,_0x29b9be=0x1e){const _0x32ae0d=_0x165431+''+_0xfca5ef;console[a96_0x2e8e('0x7')](_0x32ae0d);console['log'](_0xfca5ef);const _0x27d136=_0xfca5ef[a96_0x2e8e('0xe')]('.')[a96_0x2e8e('0xf')](0x0,-0x1)[a96_0x2e8e('0x10')]('.');const _0x5f3a98=a96_0x2e8e('0x14');const _0x5acf0a=['-y','-r',a96_0x2e8e('0x15'),a96_0x2e8e('0x16'),'1',a96_0x2e8e('0x17'),a96_0x2e8e('0x18'),'-i',_0x32ae0d,'-t',String(_0x29b9be),a96_0x2e8e('0x19'),a96_0x2e8e('0x1a'),a96_0x2e8e('0x1b'),a96_0x2e8e('0x1c'),'-r','25',a96_0x2e8e('0x1d'),'scale=1920:1080',_0x165431+_0x27d136+'.mp4'];const _0x4faba5=spawn(_0x5f3a98,_0x5acf0a);_0x4faba5[a96_0x2e8e('0x1e')]['on']('data',function(_0x2fa814){console[a96_0x2e8e('0x7')](a96_0x2e8e('0x1f')+_0x32ae0d);});_0x4faba5['stderr']['on'](a96_0x2e8e('0x20'),function(_0x53f6d4){console[a96_0x2e8e('0x7')](a96_0x2e8e('0x21')+_0x53f6d4);}[a96_0x2e8e('0xa')](this));_0x4faba5['on'](a96_0x2e8e('0x22'),function(){console['log'](a96_0x2e8e('0x23'));this[a96_0x2e8e('0x5')]=![];}[a96_0x2e8e('0xa')](this));}}exports[a96_0x2e8e('0x24')]=FileOptimizationDemon;